{"version":3,"sources":["webpack:///32.23e864f67636de87f623.js","webpack:///./components/logged_in.jsx"],"names":["webpackJsonp","1716","module","exports","__webpack_require__","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","_interopRequireDefault","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_loading_screen","_loading_screen2","_user_store","_user_store2","_preference_store","_preference_store2","_global_actions","GlobalActions","_websocket_actions","WebSocketActions","_emoji_actions","_utils","Utils","_constants","_constants2","_jquery","_jquery2","_react","_react2","BACKSPACE_CHAR","LoggedIn","_React$Component","params","this","_this","__proto__","onUserChanged","bind","attr","test","navigator","userAgent","addClass","selectedFont","get","Preferences","CATEGORY_DISPLAY_SETTINGS","DEFAULT_FONT","applyFont","state","user","getCurrentUser","emitUserLoggedOutEvent","areObjectsEqual","setState","initialize","addChangeListener","window","addEventListener","onFocusListener","onBlurListener","on","ev","type","parent","prev","next","removeClass","closest","find","e","which","target","is","preventDefault","mm_config","EnableCustomEmoji","loadEmoji","close","removeChangeListener","off","removeEventListener","isValidState","cloneElement","props","children","createElement","emitBrowserFocus","Component","propTypes","PropTypes","object"],"mappings":"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","file":"32.23e864f67636de87f623.js","sourcesContent":["webpackJsonp([32],{\n\n/***/ 1716:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _loading_screen = __webpack_require__(164);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _preference_store = __webpack_require__(42);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _websocket_actions = __webpack_require__(186);\n\nvar WebSocketActions = _interopRequireWildcard(_websocket_actions);\n\nvar _emoji_actions = __webpack_require__(1668);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\n__webpack_require__(80);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar BACKSPACE_CHAR = 8;\n\n// import the EmojiStore so that it'll register to receive the results of the listEmojis call further down\n\nvar LoggedIn = function (_React$Component) {\n    (0, _inherits3.default)(LoggedIn, _React$Component);\n\n    function LoggedIn(params) {\n        (0, _classCallCheck3.default)(this, LoggedIn);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (LoggedIn.__proto__ || (0, _getPrototypeOf2.default)(LoggedIn)).call(this, params));\n\n        _this.onUserChanged = _this.onUserChanged.bind(_this);\n\n        // Because current CSS requires the root tag to have specific stuff\n        (0, _jquery2.default)('#root').attr('class', 'channel-view');\n\n        // Device tracking setup\n        var iOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);\n        if (iOS) {\n            (0, _jquery2.default)('body').addClass('ios');\n        }\n\n        // if preferences have already been stored in local storage do not wait until preference store change is fired and handled in channel.jsx\n        var selectedFont = _preference_store2.default.get(_constants2.default.Preferences.CATEGORY_DISPLAY_SETTINGS, 'selected_font', _constants2.default.DEFAULT_FONT);\n        Utils.applyFont(selectedFont);\n\n        _this.state = {\n            user: _user_store2.default.getCurrentUser()\n        };\n\n        if (!_this.state.user) {\n            GlobalActions.emitUserLoggedOutEvent('/login');\n        }\n        return _this;\n    }\n\n    (0, _createClass3.default)(LoggedIn, [{\n        key: 'isValidState',\n        value: function isValidState() {\n            return this.state.user != null;\n        }\n    }, {\n        key: 'onUserChanged',\n        value: function onUserChanged() {\n            // Grab the current user\n            var user = _user_store2.default.getCurrentUser();\n            if (!Utils.areObjectsEqual(this.state.user, user)) {\n                this.setState({\n                    user: user\n                });\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            // Initialize websocket\n            WebSocketActions.initialize();\n\n            // Listen for user\n            _user_store2.default.addChangeListener(this.onUserChanged);\n\n            // Listen for focussed tab/window state\n            window.addEventListener('focus', this.onFocusListener);\n            window.addEventListener('blur', this.onBlurListener);\n\n            // ???\n            (0, _jquery2.default)('body').on('mouseenter mouseleave', '.post', function mouseOver(ev) {\n                if (ev.type === 'mouseenter') {\n                    (0, _jquery2.default)(this).parent('div').prev('.date-separator, .new-separator').addClass('hovered--after');\n                    (0, _jquery2.default)(this).parent('div').next('.date-separator, .new-separator').addClass('hovered--before');\n                } else {\n                    (0, _jquery2.default)(this).parent('div').prev('.date-separator, .new-separator').removeClass('hovered--after');\n                    (0, _jquery2.default)(this).parent('div').next('.date-separator, .new-separator').removeClass('hovered--before');\n                }\n            });\n\n            (0, _jquery2.default)('body').on('mouseenter mouseleave', '.search-item__container .post', function mouseOver(ev) {\n                if (ev.type === 'mouseenter') {\n                    (0, _jquery2.default)(this).closest('.search-item__container').find('.date-separator').addClass('hovered--after');\n                    (0, _jquery2.default)(this).closest('.search-item__container').next('div').find('.date-separator').addClass('hovered--before');\n                } else {\n                    (0, _jquery2.default)(this).closest('.search-item__container').find('.date-separator').removeClass('hovered--after');\n                    (0, _jquery2.default)(this).closest('.search-item__container').next('div').find('.date-separator').removeClass('hovered--before');\n                }\n            });\n\n            (0, _jquery2.default)('body').on('mouseenter mouseleave', '.post.post--comment.same--root', function mouseOver(ev) {\n                if (ev.type === 'mouseenter') {\n                    (0, _jquery2.default)(this).parent('div').prev('.date-separator, .new-separator').addClass('hovered--comment');\n                    (0, _jquery2.default)(this).parent('div').next('.date-separator, .new-separator').addClass('hovered--comment');\n                } else {\n                    (0, _jquery2.default)(this).parent('div').prev('.date-separator, .new-separator').removeClass('hovered--comment');\n                    (0, _jquery2.default)(this).parent('div').next('.date-separator, .new-separator').removeClass('hovered--comment');\n                }\n            });\n\n            // Prevent backspace from navigating back a page\n            (0, _jquery2.default)(window).on('keydown.preventBackspace', function (e) {\n                if (e.which === BACKSPACE_CHAR && !(0, _jquery2.default)(e.target).is('input, textarea')) {\n                    e.preventDefault();\n                }\n            });\n\n            // Get custom emoji from the server\n            if (window.mm_config.EnableCustomEmoji === 'true') {\n                (0, _emoji_actions.loadEmoji)(false);\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)('#root').attr('class', '');\n\n            WebSocketActions.close();\n            _user_store2.default.removeChangeListener(this.onUserChanged);\n\n            (0, _jquery2.default)('body').off('click.userpopover');\n            (0, _jquery2.default)('body').off('mouseenter mouseleave', '.post');\n            (0, _jquery2.default)('body').off('mouseenter mouseleave', '.post.post--comment.same--root');\n\n            (0, _jquery2.default)('.modal').off('show.bs.modal');\n\n            (0, _jquery2.default)(window).off('keydown.preventBackspace');\n\n            // Listen for focussed tab/window state\n            window.removeEventListener('focus', this.onFocusListener);\n            window.removeEventListener('blur', this.onBlurListener);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.isValidState()) {\n                return _react2.default.createElement(_loading_screen2.default, null);\n            }\n\n            return _react2.default.cloneElement(this.props.children, {\n                user: this.state.user\n            });\n        }\n    }, {\n        key: 'onFocusListener',\n        value: function onFocusListener() {\n            GlobalActions.emitBrowserFocus(true);\n        }\n    }, {\n        key: 'onBlurListener',\n        value: function onBlurListener() {\n            GlobalActions.emitBrowserFocus(false);\n        }\n    }]);\n    return LoggedIn;\n}(_react2.default.Component);\n\nexports.default = LoggedIn;\n\n\nLoggedIn.propTypes = {\n    children: _react2.default.PropTypes.object\n};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 32.23e864f67636de87f623.js","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport LoadingScreen from 'components/loading_screen.jsx';\n\nimport UserStore from 'stores/user_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport * as WebSocketActions from 'actions/websocket_actions.jsx';\nimport {loadEmoji} from 'actions/emoji_actions.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport Constants from 'utils/constants.jsx';\n\nconst BACKSPACE_CHAR = 8;\n\nimport $ from 'jquery';\nimport React from 'react';\n\n// import the EmojiStore so that it'll register to receive the results of the listEmojis call further down\nimport 'stores/emoji_store.jsx';\n\nexport default class LoggedIn extends React.Component {\n    constructor(params) {\n        super(params);\n\n        this.onUserChanged = this.onUserChanged.bind(this);\n\n        // Because current CSS requires the root tag to have specific stuff\n        $('#root').attr('class', 'channel-view');\n\n        // Device tracking setup\n        var iOS = (/(iPad|iPhone|iPod)/g).test(navigator.userAgent);\n        if (iOS) {\n            $('body').addClass('ios');\n        }\n\n        // if preferences have already been stored in local storage do not wait until preference store change is fired and handled in channel.jsx\n        const selectedFont = PreferenceStore.get(Constants.Preferences.CATEGORY_DISPLAY_SETTINGS, 'selected_font', Constants.DEFAULT_FONT);\n        Utils.applyFont(selectedFont);\n\n        this.state = {\n            user: UserStore.getCurrentUser()\n        };\n\n        if (!this.state.user) {\n            GlobalActions.emitUserLoggedOutEvent('/login');\n        }\n    }\n\n    isValidState() {\n        return this.state.user != null;\n    }\n\n    onUserChanged() {\n        // Grab the current user\n        const user = UserStore.getCurrentUser();\n        if (!Utils.areObjectsEqual(this.state.user, user)) {\n            this.setState({\n                user\n            });\n        }\n    }\n\n    componentDidMount() {\n        // Initialize websocket\n        WebSocketActions.initialize();\n\n        // Listen for user\n        UserStore.addChangeListener(this.onUserChanged);\n\n        // Listen for focussed tab/window state\n        window.addEventListener('focus', this.onFocusListener);\n        window.addEventListener('blur', this.onBlurListener);\n\n        // ???\n        $('body').on('mouseenter mouseleave', '.post', function mouseOver(ev) {\n            if (ev.type === 'mouseenter') {\n                $(this).parent('div').prev('.date-separator, .new-separator').addClass('hovered--after');\n                $(this).parent('div').next('.date-separator, .new-separator').addClass('hovered--before');\n            } else {\n                $(this).parent('div').prev('.date-separator, .new-separator').removeClass('hovered--after');\n                $(this).parent('div').next('.date-separator, .new-separator').removeClass('hovered--before');\n            }\n        });\n\n        $('body').on('mouseenter mouseleave', '.search-item__container .post', function mouseOver(ev) {\n            if (ev.type === 'mouseenter') {\n                $(this).closest('.search-item__container').find('.date-separator').addClass('hovered--after');\n                $(this).closest('.search-item__container').next('div').find('.date-separator').addClass('hovered--before');\n            } else {\n                $(this).closest('.search-item__container').find('.date-separator').removeClass('hovered--after');\n                $(this).closest('.search-item__container').next('div').find('.date-separator').removeClass('hovered--before');\n            }\n        });\n\n        $('body').on('mouseenter mouseleave', '.post.post--comment.same--root', function mouseOver(ev) {\n            if (ev.type === 'mouseenter') {\n                $(this).parent('div').prev('.date-separator, .new-separator').addClass('hovered--comment');\n                $(this).parent('div').next('.date-separator, .new-separator').addClass('hovered--comment');\n            } else {\n                $(this).parent('div').prev('.date-separator, .new-separator').removeClass('hovered--comment');\n                $(this).parent('div').next('.date-separator, .new-separator').removeClass('hovered--comment');\n            }\n        });\n\n        // Prevent backspace from navigating back a page\n        $(window).on('keydown.preventBackspace', (e) => {\n            if (e.which === BACKSPACE_CHAR && !$(e.target).is('input, textarea')) {\n                e.preventDefault();\n            }\n        });\n\n        // Get custom emoji from the server\n        if (window.mm_config.EnableCustomEmoji === 'true') {\n            loadEmoji(false);\n        }\n    }\n\n    componentWillUnmount() {\n        $('#root').attr('class', '');\n\n        WebSocketActions.close();\n        UserStore.removeChangeListener(this.onUserChanged);\n\n        $('body').off('click.userpopover');\n        $('body').off('mouseenter mouseleave', '.post');\n        $('body').off('mouseenter mouseleave', '.post.post--comment.same--root');\n\n        $('.modal').off('show.bs.modal');\n\n        $(window).off('keydown.preventBackspace');\n\n        // Listen for focussed tab/window state\n        window.removeEventListener('focus', this.onFocusListener);\n        window.removeEventListener('blur', this.onBlurListener);\n    }\n\n    render() {\n        if (!this.isValidState()) {\n            return <LoadingScreen/>;\n        }\n\n        return React.cloneElement(this.props.children, {\n            user: this.state.user\n        });\n    }\n\n    onFocusListener() {\n        GlobalActions.emitBrowserFocus(true);\n    }\n\n    onBlurListener() {\n        GlobalActions.emitBrowserFocus(false);\n    }\n}\n\nLoggedIn.propTypes = {\n    children: React.PropTypes.object\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/logged_in.jsx"],"sourceRoot":""}