{"version":3,"sources":["webpack:///36.a30e35b8598a4cff018c.js","webpack:///./components/integrations/components/commands_container.jsx"],"names":["webpackJsonp","1707","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_possibleConstructorReturn2","_possibleConstructorReturn3","_createClass2","_createClass3","_inherits2","_inherits3","_integration_store","_integration_store2","_user_store","_user_store2","_integration_actions","_react","_react2","CommandsContainer","_React$Component","props","this","_this","__proto__","call","handleIntegrationChange","bind","handleUserChange","teamId","team","id","state","commands","getCommands","loading","hasReceivedCommands","users","getProfiles","key","get","PropTypes","object","user","children","node","isRequired","isAdmin","bool","addChangeListener","window","mm_config","EnableCommands","loadTeamCommands","removeChangeListener","setState","createElement","cloneElement","Component"],"mappings":"AAAAA,cAAc,KAERC,KACA,SAAUC,EAAQC,EAASC,GAEjC,YAyCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAtCvFG,OAAOC,eAAeP,EAAS,cAC3BQ,OAAO,GAGX,IAAIC,GAAkBR,EAAoB,GAEtCS,EAAmBR,EAAuBO,GAE1CE,EAAmBV,EAAoB,GAEvCW,EAAmBV,EAAuBS,GAE1CE,EAA8BZ,EAAoB,GAElDa,EAA8BZ,EAAuBW,GAErDE,EAAgBd,EAAoB,GAEpCe,EAAgBd,EAAuBa,GAEvCE,EAAahB,EAAoB,GAEjCiB,EAAahB,EAAuBe,GC3BxCE,EAAAlB,EAAA,MD+BImB,EAAsBlB,EAAuBiB,GC9BjDE,EAAApB,EAAA,IDkCIqB,EAAepB,EAAuBmB,GChC1CE,EAAAtB,EAAA,MAEAuB,EAAAvB,EAAA,GDoCIwB,EAAUvB,EAAuBsB,GClChBE,EDyCG,SAAUC,GC/B9B,QAAAD,GAAYE,IAAO,EAAAhB,EAAAP,SAAAwB,KAAAH,EAAA,IAAAI,IAAA,EAAAhB,EAAAT,SAAAwB,MAAAH,EAAAK,YAAA,EAAArB,EAAAL,SAAAqB,IAAAM,KAAAH,KACTD,GAENE,GAAKG,wBAA0BH,EAAKG,wBAAwBC,KAA7BJ,GAC/BA,EAAKK,iBAAmBL,EAAKK,iBAAiBD,KAAtBJ,EAExB,IAAMM,GAASN,EAAKF,MAAMS,KAAOP,EAAKF,MAAMS,KAAKC,GAAK,EANvC,OAQfR,GAAKS,OACDC,SAAUpB,EAAAf,QAAiBoC,YAAYL,OACvCM,SAAUtB,EAAAf,QAAiBsC,oBAAoBP,GAC/CQ,MAAOtB,EAAAjB,QAAUwC,eAXNf,ED+GnB,OA/EA,EAAIZ,EAAWb,SAASqB,EAAmBC,IAC3C,EAAIX,EAAcX,SAASqB,EAAmB,OAC1CoB,IAAK,YACLC,IAAK,WC3CL,OACIV,KAAMZ,EAAApB,QAAM2C,UAAUC,OACtBC,KAAMzB,EAAApB,QAAM2C,UAAUC,OACtBE,SAAU1B,EAAApB,QAAM2C,UAAUI,KAAKC,WAC/BC,QAAS7B,EAAApB,QAAM2C,UAAUO,WDmEjC,EAAIvC,EAAcX,SAASqB,IACvBoB,IAAK,oBACLtC,MAAO,WCjDPY,EAAAf,QAAiBmD,kBAAkB3B,KAAKI,yBACxCX,EAAAjB,QAAUmD,kBAAkB3B,KAAKM,kBAEO,SAApCsB,OAAOC,UAAUC,iBACjB,EAAApC,EAAAqC,uBDsDJd,IAAK,uBACLtC,MAAO,WClDPY,EAAAf,QAAiBwD,qBAAqBhC,KAAKI,yBAC3CX,EAAAjB,QAAUwD,qBAAqBhC,KAAKM,qBDsDpCW,IAAK,0BACLtC,MAAO,WCnDP,GAAM4B,GAASP,KAAKD,MAAMS,KAAKC,EAE/BT,MAAKiC,UACDtB,SAAUpB,EAAAf,QAAiBoC,YAAYL,GACvCM,SAAUtB,EAAAf,QAAiBsC,oBAAoBP,QDwDnDU,IAAK,mBACLtC,MAAO,WCpDPqB,KAAKiC,UAAUlB,MAAOtB,EAAAjB,QAAUwC,mBDwDhCC,IAAK,SACLtC,MAAO,WCrDP,MACIiB,GAAApB,QAAA0D,cAAA,WACKtC,EAAApB,QAAM2D,aAAanC,KAAKD,MAAMuB,UAC3BX,SAAUX,KAAKU,MAAMC,SACrBI,MAAOf,KAAKU,MAAMK,MAClBF,QAASb,KAAKU,MAAMG,QACpBL,KAAMR,KAAKD,MAAMS,KACjBa,KAAMrB,KAAKD,MAAMsB,KACjBI,QAASzB,KAAKD,MAAM0B,eD4D7B5B,GCzHoCD,EAAApB,QAAM4D,UD4HrDjE,GAAQK,QC5HaqB","file":"36.a30e35b8598a4cff018c.js","sourcesContent":["webpackJsonp([36],{\n\n/***/ 1707:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _integration_store = __webpack_require__(1660);\n\nvar _integration_store2 = _interopRequireDefault(_integration_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _integration_actions = __webpack_require__(1664);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar CommandsContainer = function (_React$Component) {\n    (0, _inherits3.default)(CommandsContainer, _React$Component);\n    (0, _createClass3.default)(CommandsContainer, null, [{\n        key: 'propTypes',\n        get: function get() {\n            return {\n                team: _react2.default.PropTypes.object,\n                user: _react2.default.PropTypes.object,\n                children: _react2.default.PropTypes.node.isRequired,\n                isAdmin: _react2.default.PropTypes.bool\n            };\n        }\n    }]);\n\n    function CommandsContainer(props) {\n        (0, _classCallCheck3.default)(this, CommandsContainer);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (CommandsContainer.__proto__ || (0, _getPrototypeOf2.default)(CommandsContainer)).call(this, props));\n\n        _this.handleIntegrationChange = _this.handleIntegrationChange.bind(_this);\n        _this.handleUserChange = _this.handleUserChange.bind(_this);\n\n        var teamId = _this.props.team ? _this.props.team.id : '';\n\n        _this.state = {\n            commands: _integration_store2.default.getCommands(teamId) || [],\n            loading: !_integration_store2.default.hasReceivedCommands(teamId),\n            users: _user_store2.default.getProfiles()\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(CommandsContainer, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _integration_store2.default.addChangeListener(this.handleIntegrationChange);\n            _user_store2.default.addChangeListener(this.handleUserChange);\n\n            if (window.mm_config.EnableCommands === 'true') {\n                (0, _integration_actions.loadTeamCommands)();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _integration_store2.default.removeChangeListener(this.handleIntegrationChange);\n            _user_store2.default.removeChangeListener(this.handleUserChange);\n        }\n    }, {\n        key: 'handleIntegrationChange',\n        value: function handleIntegrationChange() {\n            var teamId = this.props.team.id;\n\n            this.setState({\n                commands: _integration_store2.default.getCommands(teamId),\n                loading: !_integration_store2.default.hasReceivedCommands(teamId)\n            });\n        }\n    }, {\n        key: 'handleUserChange',\n        value: function handleUserChange() {\n            this.setState({ users: _user_store2.default.getProfiles() });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.cloneElement(this.props.children, {\n                    commands: this.state.commands,\n                    users: this.state.users,\n                    loading: this.state.loading,\n                    team: this.props.team,\n                    user: this.props.user,\n                    isAdmin: this.props.isAdmin\n                })\n            );\n        }\n    }]);\n    return CommandsContainer;\n}(_react2.default.Component);\n\nexports.default = CommandsContainer;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 36.a30e35b8598a4cff018c.js","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport IntegrationStore from 'stores/integration_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport {loadTeamCommands} from 'actions/integration_actions.jsx';\n\nimport React from 'react';\n\nexport default class CommandsContainer extends React.Component {\n    static get propTypes() {\n        return {\n            team: React.PropTypes.object,\n            user: React.PropTypes.object,\n            children: React.PropTypes.node.isRequired,\n            isAdmin: React.PropTypes.bool\n        };\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.handleIntegrationChange = this.handleIntegrationChange.bind(this);\n        this.handleUserChange = this.handleUserChange.bind(this);\n\n        const teamId = this.props.team ? this.props.team.id : '';\n\n        this.state = {\n            commands: IntegrationStore.getCommands(teamId) || [],\n            loading: !IntegrationStore.hasReceivedCommands(teamId),\n            users: UserStore.getProfiles()\n        };\n    }\n\n    componentDidMount() {\n        IntegrationStore.addChangeListener(this.handleIntegrationChange);\n        UserStore.addChangeListener(this.handleUserChange);\n\n        if (window.mm_config.EnableCommands === 'true') {\n            loadTeamCommands();\n        }\n    }\n\n    componentWillUnmount() {\n        IntegrationStore.removeChangeListener(this.handleIntegrationChange);\n        UserStore.removeChangeListener(this.handleUserChange);\n    }\n\n    handleIntegrationChange() {\n        const teamId = this.props.team.id;\n\n        this.setState({\n            commands: IntegrationStore.getCommands(teamId),\n            loading: !IntegrationStore.hasReceivedCommands(teamId)\n        });\n    }\n\n    handleUserChange() {\n        this.setState({users: UserStore.getProfiles()});\n    }\n\n    render() {\n        return (\n            <div>\n                {React.cloneElement(this.props.children, {\n                    commands: this.state.commands,\n                    users: this.state.users,\n                    loading: this.state.loading,\n                    team: this.props.team,\n                    user: this.props.user,\n                    isAdmin: this.props.isAdmin\n                })}\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/commands_container.jsx"],"sourceRoot":""}