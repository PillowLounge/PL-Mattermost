webpackJsonp([23],{1728:function(e,a,t){"use strict";(function(e){function n(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);return a.default=e,a}function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=t(6),i=l(s),r=t(2),d=l(r),o=t(4),u=l(o),c=t(5),m=l(c),f=t(3),p=l(f),g=t(332),h=l(g),v=t(41),w=n(v),_=t(333),E=t(46),y=t(165),L=t(11),S=n(L),P=t(1),b=l(P),N=t(13),k=t(37),M=t(1659),C=l(M),I=function(a){function t(e){(0,d.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.handleLdapSignup=a.handleLdapSignup.bind(a),a.handleLdapSignupSuccess=a.handleLdapSignupSuccess.bind(a),a.handleLdapIdChange=a.handleLdapIdChange.bind(a),a.handleLdapPasswordChange=a.handleLdapPasswordChange.bind(a),a.state={ldapError:"",ldapId:"",ldapPassword:""},a}return(0,p.default)(t,a),(0,m.default)(t,null,[{key:"propTypes",get:function(){return{location:b.default.PropTypes.object}}}]),(0,m.default)(t,[{key:"componentDidMount",value:function(){(0,y.trackEvent)("signup","signup_user_01_welcome")}},{key:"handleLdapIdChange",value:function(e){this.setState({ldapId:e.target.value})}},{key:"handleLdapPasswordChange",value:function(e){this.setState({ldapPassword:e.target.value})}},{key:"handleLdapSignup",value:function(e){var a=this;e.preventDefault(),this.setState({ldapError:""}),(0,E.webLoginByLdap)(this.state.ldapId,this.state.ldapPassword,null,this.handleLdapSignupSuccess,function(e){a.setState({ldapError:e.message})})}},{key:"handleLdapSignupSuccess",value:function(){var e=this,a=this.props.location.query.h,t=this.props.location.query.d,n=this.props.location.query.id;n||a?(0,_.addUserToTeamFromInvite)(t,a,n,function(){e.finishSignup()},function(){e.finishSignup()}):this.finishSignup()}},{key:"finishSignup",value:function(){var e=this;w.emitInitialLoad(function(){var a=e.props.location.query;w.loadDefaultLocale(),a.redirect_to?k.browserHistory.push(a.redirect_to):w.redirectUserToDefaultTeam()})}},{key:"render",value:function(){var a=void 0;a=e.window.mm_config.LdapLoginFieldName?e.window.mm_config.LdapLoginFieldName:S.localizeMessage("login.ldapUsername","AD/LDAP Username");var t="";this.state.ldapError&&(t+=" has-error");var n=void 0;if("true"!==e.window.mm_config.EnableLdap||"true"!==e.window.mm_license.IsLicensed||!e.window.mm_license.LDAP)return null;n=b.default.createElement("div",{className:"inner__content"},b.default.createElement("h5",null,b.default.createElement("strong",null,b.default.createElement(N.FormattedMessage,{id:"signup.ldap",defaultMessage:"AD/LDAP Credentials"}))),b.default.createElement("form",{onSubmit:this.handleLdapSignup},b.default.createElement("div",{className:"signup__email-container"},b.default.createElement(h.default,{error:this.state.ldapError,margin:!0}),b.default.createElement("div",{className:"form-group"+t},b.default.createElement("input",{className:"form-control",name:"ldapId",value:this.state.ldapId,placeholder:a,onChange:this.handleLdapIdChange,spellCheck:"false",autoCapitalize:"off"})),b.default.createElement("div",{className:"form-group"+t},b.default.createElement("input",{type:"password",className:"form-control",name:"password",value:this.state.ldapPassword,placeholder:S.localizeMessage("login.password","Password"),onChange:this.handleLdapPasswordChange,spellCheck:"false"})),b.default.createElement("div",{className:"form-group"},b.default.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!this.state.ldapId||!this.state.ldapPassword},b.default.createElement(N.FormattedMessage,{id:"login.signIn",defaultMessage:"Sign in"}))))));var l=null;n&&(l=b.default.createElement("p",null,b.default.createElement(N.FormattedHTMLMessage,{id:"create_team.agreement",defaultMessage:"By proceeding to create your account and use {siteName}, you agree to our <a href='{TermsOfServiceLink}'>Terms of Service</a> and <a href='{PrivacyPolicyLink}'>Privacy Policy</a>. If you do not agree, you cannot use {siteName}.",values:{siteName:e.window.mm_config.SiteName,TermsOfServiceLink:e.window.mm_config.TermsOfServiceLink,PrivacyPolicyLink:e.window.mm_config.PrivacyPolicyLink}})));var s=null;return s="true"===e.window.mm_license.IsLicensed&&"true"===e.window.mm_license.CustomBrand&&"true"===e.window.mm_config.EnableCustomBrand?e.window.mm_config.CustomDescriptionText:b.default.createElement(N.FormattedMessage,{id:"web.root.signup_info",defaultMessage:"All team communication in one place, searchable and accessible anywhere"}),b.default.createElement("div",null,b.default.createElement("div",{className:"signup-header"},b.default.createElement(k.Link,{to:"/"},b.default.createElement("span",{className:"fa fa-chevron-left"}),b.default.createElement(N.FormattedMessage,{id:"web.header.back"}))),b.default.createElement("div",{className:"col-sm-12"},b.default.createElement("div",{className:"signup-team__container padding--less"},b.default.createElement("img",{className:"signup-team-logo",src:C.default}),b.default.createElement("h1",null,e.window.mm_config.SiteName),b.default.createElement("h4",{className:"color--light"},s),b.default.createElement("h4",{className:"color--light"},b.default.createElement(N.FormattedMessage,{id:"signup_user_completed.lets",defaultMessage:"Let's create your account"})),b.default.createElement("span",{className:"color--light"},b.default.createElement(N.FormattedMessage,{id:"signup_user_completed.haveAccount",defaultMessage:"Already have an account?"})," ",b.default.createElement(k.Link,{to:"/login",query:this.props.location.query},b.default.createElement(N.FormattedMessage,{id:"signup_user_completed.signIn",defaultMessage:"Click here to sign in."}))),n,l)))}}]),t}(b.default.Component);a.default=I}).call(a,t(17))}});
//# sourceMappingURL=23.e0b1e29641d79e5a2d23.js.map