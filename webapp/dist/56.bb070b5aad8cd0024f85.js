webpackJsonp([56],{1684:function(e,t,a){"use strict";(function(e){function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(6),o=s(r),u=a(2),i=s(u),n=a(5),d=s(n),f=a(4),c=s(f),m=a(3),p=s(m),h=a(1667),w=s(h),y=a(11),_=l(y),v=a(8),b=s(v),E=a(46),M=a(569),g=a(1),S=s(g),T=a(30),P=s(T),k=a(13),N=function(t){function a(e){(0,i.default)(this,a);var t=(0,c.default)(this,(a.__proto__||(0,o.default)(a)).call(this,e));return t.submit=t.submit.bind(t),t.preSubmit=t.preSubmit.bind(t),t.state={showMfa:!1,password:""},t}return(0,p.default)(a,t),(0,d.default)(a,[{key:"preSubmit",value:function(e){var t=this;e.preventDefault();var a={},l=P.default.findDOMNode(this.refs.password).value;if(!l)return a.error=_.localizeMessage("claim.email_to_oauth.pwdError","Please enter your password."),void this.setState(a);this.setState({password:l}),a.error=null,this.setState(a),(0,E.checkMfa)(this.props.email,function(e){e?t.setState({showMfa:!0}):t.submit(t.props.email,l,"")},function(e){t.setState({error:e.message})})}},{key:"submit",value:function(e,t,a){var l=this;(0,M.emailToOAuth)(e,t,a,this.props.newType,function(e){e.follow_link&&(window.location.href=e.follow_link)},function(e){l.setState({error:e.message,showMfa:!1})})}},{key:"render",value:function(){var t=null;this.state.error&&(t=S.default.createElement("div",{className:"form-group has-error"},S.default.createElement("label",{className:"control-label"},this.state.error)));var a="form-group";t&&(a+=" has-error");var l=this.props.newType===b.default.SAML_SERVICE?b.default.SAML_SERVICE.toUpperCase():_.toTitleCase(this.props.newType),s=l+" SSO",r=void 0;return r=this.state.showMfa?S.default.createElement(w.default,{loginId:this.props.email,password:this.state.password,submit:this.submit}):S.default.createElement("form",{onSubmit:this.preSubmit},S.default.createElement("p",null,S.default.createElement(k.FormattedMessage,{id:"claim.email_to_oauth.ssoType",defaultMessage:"Upon claiming your account, you will only be able to login with {type} SSO",values:{type:l}})),S.default.createElement("p",null,S.default.createElement(k.FormattedMessage,{id:"claim.email_to_oauth.ssoNote",defaultMessage:"You must already have a valid {type} account",values:{type:l}})),S.default.createElement("p",null,S.default.createElement(k.FormattedMessage,{id:"claim.email_to_oauth.enterPwd",defaultMessage:"Enter the password for your {site} account",values:{site:e.window.mm_config.SiteName}})),S.default.createElement("div",{className:a},S.default.createElement("input",{type:"password",className:"form-control",name:"password",ref:"password",placeholder:_.localizeMessage("claim.email_to_oauth.pwd","Password"),spellCheck:"false"})),t,S.default.createElement("button",{type:"submit",className:"btn btn-primary"},S.default.createElement(k.FormattedMessage,{id:"claim.email_to_oauth.switchTo",defaultMessage:"Switch account to {uiType}",values:{uiType:s}}))),S.default.createElement("div",null,S.default.createElement("h3",null,S.default.createElement(k.FormattedMessage,{id:"claim.email_to_oauth.title",defaultMessage:"Switch Email/Password Account to {uiType}",values:{uiType:s}})),r)}}]),a}(S.default.Component);t.default=N,N.defaultProps={},N.propTypes={newType:S.default.PropTypes.string,email:S.default.PropTypes.string}}).call(t,a(17))}});
//# sourceMappingURL=56.bb070b5aad8cd0024f85.js.map