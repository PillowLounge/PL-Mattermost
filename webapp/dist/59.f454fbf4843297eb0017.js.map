{"version":3,"sources":["webpack:///59.f454fbf4843297eb0017.js","webpack:///./components/authorize.jsx"],"names":["webpackJsonp","1680","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_possibleConstructorReturn2","_possibleConstructorReturn3","_createClass2","_createClass3","_inherits2","_inherits3","_form_error","_form_error2","_reactIntl","_react","_react2","_icon50x","_icon50x2","_admin_actions","Authorize","_React$Component","props","this","_this","__proto__","call","handleAllow","bind","handleDeny","state","key","get","location","PropTypes","object","isRequired","params","_this2","getOAuthAppInfo","query","client_id","app","setState","blocker","document","getElementById","parentNode","removeChild","_this3","allowOAuth2","data","redirect","window","href","err","error","message","replace","redirect_uri","icon","icon_url","createElement","className","src","width","height","alt","FormattedHTMLMessage","id","defaultMessage","values","appName","name","type","onClick","FormattedMessage","Component"],"mappings":"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","file":"59.f454fbf4843297eb0017.js","sourcesContent":["webpackJsonp([59],{\n\n/***/ 1680:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _form_error = __webpack_require__(332);\n\nvar _form_error2 = _interopRequireDefault(_form_error);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _icon50x = __webpack_require__(347);\n\nvar _icon50x2 = _interopRequireDefault(_icon50x);\n\nvar _admin_actions = __webpack_require__(569);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Authorize = function (_React$Component) {\n    (0, _inherits3.default)(Authorize, _React$Component);\n    (0, _createClass3.default)(Authorize, null, [{\n        key: 'propTypes',\n        get: function get() {\n            return {\n                location: _react2.default.PropTypes.object.isRequired,\n                params: _react2.default.PropTypes.object.isRequired\n            };\n        }\n    }]);\n\n    function Authorize(props) {\n        (0, _classCallCheck3.default)(this, Authorize);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Authorize.__proto__ || (0, _getPrototypeOf2.default)(Authorize)).call(this, props));\n\n        _this.handleAllow = _this.handleAllow.bind(_this);\n        _this.handleDeny = _this.handleDeny.bind(_this);\n\n        _this.state = {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(Authorize, [{\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            var _this2 = this;\n\n            (0, _admin_actions.getOAuthAppInfo)(this.props.location.query.client_id, function (app) {\n                _this2.setState({ app: app });\n            });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            // if we get to this point remove the antiClickjack blocker\n            var blocker = document.getElementById('antiClickjack');\n            if (blocker) {\n                blocker.parentNode.removeChild(blocker);\n            }\n        }\n    }, {\n        key: 'handleAllow',\n        value: function handleAllow() {\n            var _this3 = this;\n\n            var params = this.props.location.query;\n\n            (0, _admin_actions.allowOAuth2)(params, function (data) {\n                if (data.redirect) {\n                    window.location.href = data.redirect;\n                }\n            }, function (err) {\n                _this3.setState({ error: err.message });\n            });\n        }\n    }, {\n        key: 'handleDeny',\n        value: function handleDeny() {\n            window.location.replace(this.props.location.query.redirect_uri + '?error=access_denied');\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var app = this.state.app;\n            if (!app) {\n                return null;\n            }\n\n            var icon = void 0;\n            if (app.icon_url) {\n                icon = app.icon_url;\n            } else {\n                icon = _icon50x2.default;\n            }\n\n            var error = void 0;\n            if (this.state.error) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'prompt__error form-group' },\n                    _react2.default.createElement(_form_error2.default, { error: this.state.error })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'container-fluid' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'prompt' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'prompt__heading' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'prompt__app-icon' },\n                            _react2.default.createElement('img', {\n                                src: icon,\n                                width: '50',\n                                height: '50',\n                                alt: ''\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'text' },\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'authorize.title',\n                                defaultMessage: '<strong>{appName}</strong> would like to connect to your <strong>Mattermost</strong> user account',\n                                values: {\n                                    appName: app.name\n                                }\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'p',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                            id: 'authorize.app',\n                            defaultMessage: 'The app <strong>{appName}</strong> would like the ability to access and modify your basic information.',\n                            values: {\n                                appName: app.name\n                            }\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'h2',\n                        { className: 'prompt__allow' },\n                        _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                            id: 'authorize.access',\n                            defaultMessage: 'Allow <strong>{appName}</strong> access?',\n                            values: {\n                                appName: app.name\n                            }\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'prompt__buttons' },\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'submit',\n                                className: 'btn btn-link authorize-btn',\n                                onClick: this.handleDeny\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'authorize.deny',\n                                defaultMessage: 'Deny'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'submit',\n                                className: 'btn btn-primary authorize-btn',\n                                onClick: this.handleAllow\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'authorize.allow',\n                                defaultMessage: 'Allow'\n                            })\n                        )\n                    ),\n                    error\n                )\n            );\n        }\n    }]);\n    return Authorize;\n}(_react2.default.Component); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = Authorize;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 59.f454fbf4843297eb0017.js","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport FormError from 'components/form_error.jsx';\n\nimport {FormattedMessage, FormattedHTMLMessage} from 'react-intl';\nimport React from 'react';\n\nimport icon50 from 'images/icon50x50.png';\n\nimport {getOAuthAppInfo, allowOAuth2} from 'actions/admin_actions.jsx';\n\nexport default class Authorize extends React.Component {\n    static get propTypes() {\n        return {\n            location: React.PropTypes.object.isRequired,\n            params: React.PropTypes.object.isRequired\n        };\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.handleAllow = this.handleAllow.bind(this);\n        this.handleDeny = this.handleDeny.bind(this);\n\n        this.state = {};\n    }\n\n    componentWillMount() {\n        getOAuthAppInfo(\n            this.props.location.query.client_id,\n            (app) => {\n                this.setState({app});\n            }\n        );\n    }\n\n    componentDidMount() {\n        // if we get to this point remove the antiClickjack blocker\n        const blocker = document.getElementById('antiClickjack');\n        if (blocker) {\n            blocker.parentNode.removeChild(blocker);\n        }\n    }\n\n    handleAllow() {\n        const params = this.props.location.query;\n\n        allowOAuth2(params,\n            (data) => {\n                if (data.redirect) {\n                    window.location.href = data.redirect;\n                }\n            },\n            (err) => {\n                this.setState({error: err.message});\n            }\n        );\n    }\n\n    handleDeny() {\n        window.location.replace(this.props.location.query.redirect_uri + '?error=access_denied');\n    }\n\n    render() {\n        const app = this.state.app;\n        if (!app) {\n            return null;\n        }\n\n        let icon;\n        if (app.icon_url) {\n            icon = app.icon_url;\n        } else {\n            icon = icon50;\n        }\n\n        let error;\n        if (this.state.error) {\n            error = (\n                <div className='prompt__error form-group'>\n                    <FormError error={this.state.error}/>\n                </div>\n            );\n        }\n\n        return (\n            <div className='container-fluid'>\n                <div className='prompt'>\n                    <div className='prompt__heading'>\n                        <div className='prompt__app-icon'>\n                            <img\n                                src={icon}\n                                width='50'\n                                height='50'\n                                alt=''\n                            />\n                        </div>\n                        <div className='text'>\n                            <FormattedHTMLMessage\n                                id='authorize.title'\n                                defaultMessage='<strong>{appName}</strong> would like to connect to your <strong>Mattermost</strong> user account'\n                                values={{\n                                    appName: app.name\n                                }}\n                            />\n                        </div>\n                    </div>\n                    <p>\n                        <FormattedHTMLMessage\n                            id='authorize.app'\n                            defaultMessage='The app <strong>{appName}</strong> would like the ability to access and modify your basic information.'\n                            values={{\n                                appName: app.name\n                            }}\n                        />\n                    </p>\n                    <h2 className='prompt__allow'>\n                        <FormattedHTMLMessage\n                            id='authorize.access'\n                            defaultMessage='Allow <strong>{appName}</strong> access?'\n                            values={{\n                                appName: app.name\n                            }}\n                        />\n                    </h2>\n                    <div className='prompt__buttons'>\n                        <button\n                            type='submit'\n                            className='btn btn-link authorize-btn'\n                            onClick={this.handleDeny}\n                        >\n                            <FormattedMessage\n                                id='authorize.deny'\n                                defaultMessage='Deny'\n                            />\n                        </button>\n                        <button\n                            type='submit'\n                            className='btn btn-primary authorize-btn'\n                            onClick={this.handleAllow}\n                        >\n                            <FormattedMessage\n                                id='authorize.allow'\n                                defaultMessage='Allow'\n                            />\n                        </button>\n                    </div>\n                    {error}\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/authorize.jsx"],"sourceRoot":""}