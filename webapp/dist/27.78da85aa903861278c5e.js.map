{"version":3,"sources":["webpack:///27.78da85aa903861278c5e.js","webpack:///./components/password_reset_form.jsx"],"names":["webpackJsonp","1722","module","exports","__webpack_require__","global","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","_interopRequireDefault","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_reactDom","_reactDom2","_utils","Utils","_constants","_constants2","_reactIntl","_user_actions","_react","_react2","PasswordResetForm","_React$Component","props","this","_this","__proto__","handlePasswordReset","bind","state","e","_this2","preventDefault","password","findDOMNode","refs","length","MIN_PASSWORD_LENGTH","setState","error","createElement","FormattedMessage","id","defaultMessage","values","chars","resetPassword","location","query","code","err","message","className","formClass","onSubmit","siteName","window","mm_config","SiteName","type","name","ref","placeholder","localizeMessage","spellCheck","Component","defaultProps","propTypes","params","PropTypes","object","isRequired"],"mappings":"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","file":"27.78da85aa903861278c5e.js","sourcesContent":["webpackJsonp([27],{\n\n/***/ 1722:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _reactDom = __webpack_require__(30);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _user_actions = __webpack_require__(46);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar PasswordResetForm = function (_React$Component) {\n    (0, _inherits3.default)(PasswordResetForm, _React$Component);\n\n    function PasswordResetForm(props) {\n        (0, _classCallCheck3.default)(this, PasswordResetForm);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (PasswordResetForm.__proto__ || (0, _getPrototypeOf2.default)(PasswordResetForm)).call(this, props));\n\n        _this.handlePasswordReset = _this.handlePasswordReset.bind(_this);\n\n        _this.state = {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(PasswordResetForm, [{\n        key: 'handlePasswordReset',\n        value: function handlePasswordReset(e) {\n            var _this2 = this;\n\n            e.preventDefault();\n\n            var password = _reactDom2.default.findDOMNode(this.refs.password).value;\n            if (!password || password.length < _constants2.default.MIN_PASSWORD_LENGTH) {\n                this.setState({\n                    error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'password_form.error',\n                        defaultMessage: 'Please enter at least {chars} characters.',\n                        values: {\n                            chars: _constants2.default.MIN_PASSWORD_LENGTH\n                        }\n                    })\n                });\n                return;\n            }\n\n            this.setState({\n                error: null\n            });\n\n            (0, _user_actions.resetPassword)(this.props.location.query.code, password, function () {\n                _this2.setState({ error: null });\n            }, function (err) {\n                _this2.setState({ error: err.message });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var error = null;\n            if (this.state.error) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.error\n                    )\n                );\n            }\n\n            var formClass = 'form-group';\n            if (error) {\n                formClass += ' has-error';\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'col-sm-12' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'signup-team__container' },\n                    _react2.default.createElement(\n                        'h3',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'password_form.title',\n                            defaultMessage: 'Password Reset'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'form',\n                        { onSubmit: this.handlePasswordReset },\n                        _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'password_form.enter',\n                                defaultMessage: 'Enter a new password for your {siteName} account.',\n                                values: {\n                                    siteName: global.window.mm_config.SiteName\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: formClass },\n                            _react2.default.createElement('input', {\n                                type: 'password',\n                                className: 'form-control',\n                                name: 'password',\n                                ref: 'password',\n                                placeholder: Utils.localizeMessage('password_form.pwd', 'Password'),\n                                spellCheck: 'false'\n                            })\n                        ),\n                        error,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'submit',\n                                className: 'btn btn-primary'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'password_form.change',\n                                defaultMessage: 'Change my password'\n                            })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return PasswordResetForm;\n}(_react2.default.Component);\n\nPasswordResetForm.defaultProps = {};\nPasswordResetForm.propTypes = {\n    params: _react2.default.PropTypes.object.isRequired,\n    location: _react2.default.PropTypes.object.isRequired\n};\n\nexports.default = PasswordResetForm;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 27.78da85aa903861278c5e.js","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport ReactDOM from 'react-dom';\nimport * as Utils from 'utils/utils.jsx';\nimport Constants from 'utils/constants.jsx';\n\nimport {FormattedMessage} from 'react-intl';\n\nimport {resetPassword} from 'actions/user_actions.jsx';\n\nimport React from 'react';\n\nclass PasswordResetForm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handlePasswordReset = this.handlePasswordReset.bind(this);\n\n        this.state = {};\n    }\n    handlePasswordReset(e) {\n        e.preventDefault();\n\n        const password = ReactDOM.findDOMNode(this.refs.password).value;\n        if (!password || password.length < Constants.MIN_PASSWORD_LENGTH) {\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id='password_form.error'\n                        defaultMessage='Please enter at least {chars} characters.'\n                        values={{\n                            chars: Constants.MIN_PASSWORD_LENGTH\n                        }}\n                    />\n                )\n            });\n            return;\n        }\n\n        this.setState({\n            error: null\n        });\n\n        resetPassword(\n            this.props.location.query.code,\n            password,\n            () => {\n                this.setState({error: null});\n            },\n            (err) => {\n                this.setState({error: err.message});\n            }\n        );\n    }\n    render() {\n        var error = null;\n        if (this.state.error) {\n            error = (\n                <div className='form-group has-error'>\n                    <label className='control-label'>\n                        {this.state.error}\n                    </label>\n                </div>\n            );\n        }\n\n        var formClass = 'form-group';\n        if (error) {\n            formClass += ' has-error';\n        }\n\n        return (\n            <div className='col-sm-12'>\n                <div className='signup-team__container'>\n                    <h3>\n                        <FormattedMessage\n                            id='password_form.title'\n                            defaultMessage='Password Reset'\n                        />\n                    </h3>\n                    <form onSubmit={this.handlePasswordReset}>\n                        <p>\n                            <FormattedMessage\n                                id='password_form.enter'\n                                defaultMessage='Enter a new password for your {siteName} account.'\n                                values={{\n                                    siteName: global.window.mm_config.SiteName\n                                }}\n                            />\n                        </p>\n                        <div className={formClass}>\n                            <input\n                                type='password'\n                                className='form-control'\n                                name='password'\n                                ref='password'\n                                placeholder={Utils.localizeMessage(\n                                    'password_form.pwd',\n                                    'Password'\n                                )}\n                                spellCheck='false'\n                            />\n                        </div>\n                        {error}\n                        <button\n                            type='submit'\n                            className='btn btn-primary'\n                        >\n                            <FormattedMessage\n                                id='password_form.change'\n                                defaultMessage='Change my password'\n                            />\n                        </button>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n}\n\nPasswordResetForm.defaultProps = {\n};\nPasswordResetForm.propTypes = {\n    params: React.PropTypes.object.isRequired,\n    location: React.PropTypes.object.isRequired\n};\n\nexport default PasswordResetForm;\n\n\n\n// WEBPACK FOOTER //\n// ./components/password_reset_form.jsx"],"sourceRoot":""}