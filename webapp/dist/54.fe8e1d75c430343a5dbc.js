webpackJsonp([54],{1686:function(e,t,a){"use strict";(function(e){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(6),o=l(s),i=a(2),u=l(i),n=a(5),d=l(n),c=a(4),m=l(c),f=a(3),p=l(f),h=a(11),w=r(h),_=a(8),v=l(_),y=a(1),E=l(y),g=a(30),M=l(g),b=a(13),S=a(569),N=function(t){function a(e){(0,u.default)(this,a);var t=(0,m.default)(this,(a.__proto__||(0,o.default)(a)).call(this,e));return t.submit=t.submit.bind(t),t.state={},t}return(0,p.default)(a,t),(0,d.default)(a,[{key:"submit",value:function(e){var t=this;e.preventDefault();var a={},r=M.default.findDOMNode(this.refs.password).value;if(!r)return a.error=w.localizeMessage("claim.oauth_to_email.enterPwd","Please enter a password."),void this.setState(a);var l=w.isValidPassword(r);if(""!==l)return void this.setState({error:l});var s=M.default.findDOMNode(this.refs.passwordconfirm).value;if(!s||r!==s)return a.error=w.localizeMessage("claim.oauth_to_email.pwdNotMatch","Password do not match."),void this.setState(a);a.error=null,this.setState(a),(0,S.oauthToEmail)(this.props.email,r,null,function(e){t.setState({error:e.message})})}},{key:"render",value:function(){var t=null;this.state.error&&(t=E.default.createElement("div",{className:"form-group has-error"},E.default.createElement("label",{className:"control-label"},this.state.error)));var a="form-group";t&&(a+=" has-error");var r=(this.props.currentType===v.default.SAML_SERVICE?v.default.SAML_SERVICE.toUpperCase():w.toTitleCase(this.props.currentType))+" SSO";return E.default.createElement("div",null,E.default.createElement("h3",null,E.default.createElement(b.FormattedMessage,{id:"claim.oauth_to_email.title",defaultMessage:"Switch {type} Account to Email",values:{type:r}})),E.default.createElement("form",{onSubmit:this.submit},E.default.createElement("p",null,E.default.createElement(b.FormattedMessage,{id:"claim.oauth_to_email.description",defaultMessage:"Upon changing your account type, you will only be able to login with your email and password."})),E.default.createElement("p",null,E.default.createElement(b.FormattedMessage,{id:"claim.oauth_to_email.enterNewPwd",defaultMessage:"Enter a new password for your {site} email account",values:{site:e.window.mm_config.SiteName}})),E.default.createElement("div",{className:a},E.default.createElement("input",{type:"password",className:"form-control",name:"password",ref:"password",placeholder:w.localizeMessage("claim.oauth_to_email.newPwd","New Password"),spellCheck:"false"})),E.default.createElement("div",{className:a},E.default.createElement("input",{type:"password",className:"form-control",name:"passwordconfirm",ref:"passwordconfirm",placeholder:w.localizeMessage("claim.oauth_to_email.confirm","Confirm Password"),spellCheck:"false"})),t,E.default.createElement("button",{type:"submit",className:"btn btn-primary"},E.default.createElement(b.FormattedMessage,{id:"claim.oauth_to_email.switchTo",defaultMessage:"Switch {type} to email and password",values:{type:r}}))))}}]),a}(E.default.Component);t.default=N,N.defaultProps={},N.propTypes={currentType:E.default.PropTypes.string,email:E.default.PropTypes.string}}).call(t,a(17))}});
//# sourceMappingURL=54.fe8e1d75c430343a5dbc.js.map