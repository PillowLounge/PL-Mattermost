{"version":3,"sources":["webpack:///6.f832ec0c055fcc7c9b4b.js","webpack:///./components/needs_team.jsx","webpack:///./~/webrtc-adapter/src/js/utils.js","webpack:///./components/get_link_modal.jsx","webpack:///./components/rhs_dropdown.jsx","webpack:///./images/ring.mp3","webpack:///./~/dom-css/index.js","webpack:///./components/channel_switch_modal.jsx","webpack:///./components/create_comment.jsx","webpack:///./components/delete_post_modal.jsx","webpack:///./components/edit_post_modal.jsx","webpack:///./components/get_post_link_modal.jsx","webpack:///./components/get_public_link_modal.jsx","webpack:///./components/get_team_invite_link_modal.jsx","webpack:///./components/invite_member_modal.jsx","webpack:///./components/leave_team_modal.jsx","webpack:///./components/navbar.jsx","webpack:///./components/notify_counts.jsx","webpack:///./components/post_view/components/date_separator.jsx","webpack:///./components/removed_from_channel_modal.jsx","webpack:///./components/rhs_comment.jsx","webpack:///./components/rhs_dropdown_menu.jsx","webpack:///./components/rhs_header_post.jsx","webpack:///./components/rhs_root_post.jsx","webpack:///./components/rhs_thread.jsx","webpack:///./components/search_results.jsx","webpack:///./components/search_results_header.jsx","webpack:///./components/search_results_item.jsx","webpack:///./components/setting_upload.jsx","webpack:///./components/sidebar_right.jsx","webpack:///./components/sidebar_right_menu.jsx","webpack:///./components/suggestion/switch_channel_provider.jsx","webpack:///./components/team_general_tab.jsx","webpack:///./components/team_import_tab.jsx","webpack:///./components/team_settings.jsx","webpack:///./components/team_settings_modal.jsx","webpack:///./components/user_settings/import_theme_modal.jsx","webpack:///./components/webrtc/components/webrtc_header.jsx","webpack:///./components/webrtc/components/webrtc_notification.jsx","webpack:///./components/webrtc/components/webrtc_sidebar.jsx","webpack:///./components/webrtc/webrtc_controller.jsx","webpack:///./~/add-px-to-style/index.js","webpack:///./~/inobounce/inobounce.js","webpack:///./~/performance-now/lib/performance-now.js","webpack:///./~/prefix-style/index.js","webpack:///./~/raf/index.js","webpack:///./~/react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js","webpack:///./~/react-custom-scrollbars/lib/Scrollbars/index.js","webpack:///./~/react-custom-scrollbars/lib/Scrollbars/styles.js","webpack:///./~/react-custom-scrollbars/lib/index.js","webpack:///./~/react-custom-scrollbars/lib/utils/getInnerHeight.js","webpack:///./~/react-custom-scrollbars/lib/utils/getInnerWidth.js","webpack:///./~/react-custom-scrollbars/lib/utils/getScrollbarWidth.js","webpack:///./~/react-custom-scrollbars/lib/utils/isString.js","webpack:///./~/react-custom-scrollbars/lib/utils/returnFalse.js","webpack:///./~/sdp/sdp.js","webpack:///./~/to-camel-case/index.js","webpack:///./~/to-no-case/index.js","webpack:///./~/to-space-case/index.js","webpack:///./~/webrtc-adapter/src/js/adapter_core.js","webpack:///./~/webrtc-adapter/src/js/chrome/chrome_shim.js","webpack:///./~/webrtc-adapter/src/js/chrome/getusermedia.js","webpack:///./~/webrtc-adapter/src/js/edge/edge_shim.js","webpack:///./~/webrtc-adapter/src/js/edge/getusermedia.js","webpack:///./~/webrtc-adapter/src/js/firefox/firefox_shim.js","webpack:///./~/webrtc-adapter/src/js/firefox/getusermedia.js","webpack:///./~/webrtc-adapter/src/js/safari/safari_shim.js","webpack:///./non_npm_dependencies/janus/index.js"],"names":["webpackJsonp","1721","module","exports","__webpack_require__","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","_interopRequireDefault","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_jquery","_jquery2","_es","_utils","Utils","_async_client","AsyncClient","_team_store","_team_store2","_user_store","_user_store2","_preference_store","_preference_store2","_channel_store","_channel_store2","_post_store","_post_store2","_global_actions","GlobalActions","_status_actions","_websocket_actions","_user_actions","_constants","_constants2","_error_bar","_error_bar2","_sidebar_right","_sidebar_right2","_sidebar_right_menu","_sidebar_right_menu2","_navbar","_navbar2","_webrtc_sidebar","_webrtc_sidebar2","_webrtc_notification","_webrtc_notification2","_get_post_link_modal","_get_post_link_modal2","_get_public_link_modal","_get_public_link_modal2","_get_team_invite_link_modal","_get_team_invite_link_modal2","_edit_post_modal","_edit_post_modal2","_delete_post_modal","_delete_post_modal2","_team_settings_modal","_team_settings_modal2","_removed_from_channel_modal","_removed_from_channel_modal2","_import_theme_modal","_import_theme_modal2","_invite_member_modal","_invite_member_modal2","_leave_team_modal","_leave_team_modal2","_inobounce","_inobounce2","_user_agent","UserAgent","TutorialSteps","Preferences","UNREAD_CHECK_TIME_MILLISECONDS","NeedsTeam","_React$Component","params","this","_this","__proto__","onTeamChanged","bind","onPreferencesChanged","blurTime","Date","getTime","team","getCurrent","state","theme","getTheme","id","setState","category","CATEGORY_THEME","getInt","TUTORIAL_STEP","getCurrentId","INTRO_SCREENS","browserHistory","push","getCurrentTeamRelativeUrl","_this2","addChangeListener","viewLoggedIn","startPeriodicStatusUpdates","startPeriodicSync","window","isActive","on","viewChannel","resetCounts","emitChange","getMyChannelMembers","then","loadProfilesForSidebar","getCurrentUser","applyTheme","isIosSafari","enable","prevProps","prevState","areObjectsEqual","removeChangeListener","off","disable","stopPeriodicStatusUpdates","stopPeriodicSync","content","props","children","navbar","team_sidebar","sidebar","createElement","className","cloneElement","center","user","channel","getByName","postId","getFocusedPostId","post","getEarliestPostFromPage","get","channel_id","teamType","type","Component","propTypes","PropTypes","oneOfType","arrayOf","element","object","1743","logDisabled_","utils","disableLog","bool","Error","log","console","apply","arguments","extractVersion","uastring","expr","pos","match","length","parseInt","detectBrowser","result","browser","version","navigator","mozGetUserMedia","userAgent","webkitGetUserMedia","webkitRTCPeerConnection","mediaDevices","shimCreateObjectURL","HTMLMediaElement","nativeCreateObjectURL","URL","createObjectURL","nativeRevokeObjectURL","revokeObjectURL","streams","Map","newId","stream","url","set","delete","dsc","getOwnPropertyDescriptor","srcObject","nativeSetAttribute","setAttribute","toLowerCase","browserDetails","1763","_reactIntl","_reactBootstrap","GetLinkModal","onHide","copyLink","copiedLink","textarea","refs","focus","setSelectionRange","link","document","execCommand","err","helpText","queryCommandSupported","data-copy-btn","onClick","FormattedMessage","defaultMessage","linkText","ref","readOnly","copyLinkConfirm","Modal","show","Header","closeButton","title","Body","Footer","isRequired","func","string","defaultProps","1777","Agent","_rhs_dropdown_menu","_rhs_dropdown_menu2","RhsDropdown","toggleDropdown","showDropdown","isMobile","isMobileApp","scroll","querySelector","style","overflow","Dropdown","open","onToggle","href","bsRole","dropdownContents","array","1778","p","1795","property","camel","cache","detect","undefined","addPxToStyle","each","properties","k","cssProp","toCamelCase","prefix","cssText","float","Array","isArray","reduce","prop","2001","_suggestion_list","_suggestion_list2","_suggestion_box","_suggestion_box2","_switch_channel_provider","_switch_channel_provider2","_channel_actions","SwitchChannelModal","onChange","onItemSelected","onShow","onExited","handleKeyDown","handleSubmit","switchToChannel","suggestionProviders","text","error","textbox","search","getTextbox","placeCaretAtEnd","selected","setTimeout","e","target","item","keyCode","KeyCodes","ENTER","localizeMessage","DM_CHANNEL","getProfileByUsername","name","openDirectChannelToUser","ch","goToChannel","message","dialogClassName","Title","onKeyDown","listComponent","maxLength","providers","listStyle","2002","_reactDom","_reactDom2","_app_dispatcher","_app_dispatcher2","ChannelActions","_emoji_store","_emoji_store2","_post_deleted_modal","_post_deleted_modal2","_message_history_store","_message_history_store2","_textbox","_textbox2","_msg_typing","_msg_typing2","_file_upload","_file_upload2","_file_preview","_file_preview2","_emoji_picker","_emoji_picker2","_post_actions","PostActions","_create_post","ActionTypes","CreateComment","lastTime","handleSubmitPost","handleSubmitReaction","commentMsgKeyPress","handleChange","handleBlur","handleFileUploadChange","handleUploadStart","handleFileUploadComplete","handleUploadError","removePreview","getFileCount","getFileUploadTarget","onPreferenceChange","focusTextbox","showPostDeletedModal","hidePostDeletedModal","handlePostError","handleEmojiPickerClick","handleEmojiClick","onKeyPress","closeEmoji","clearCommentDraftUploads","resetHistoryIndex","draft","getCommentDraft","rootId","enableAddButton","handleEnableAddButton","fileInfos","uploadsInProgress","submitting","ctrlSend","getBool","CATEGORY_ADVANCED_SETTINGS","showEmojiPicker","emojiOffset","emojiPickerEnabled","isFeatureEnabled","PRE_RELEASE_FEATURES","EMOJI_PICKER_PREVIEW","lastBlurAt","clickEvent","srcElement","indexOf","threadHeight","getElementById","offsetHeight","messagesHeight","totalHeight","pickerOffset","emoji","emojiAlias","aliases","newMessage","test","addEventListener","removeEventListener","which","ESCAPE","scrollTop","scrollHeight","postError","preventDefault","errorClass","ANIMATION_TIMEOUT","storeMessageInHistory","trim","isReaction","REACTION_PATTERN","exec","has","handleSubmitCommand","serverError","fasterThanHumanWillClick","forceFocus","now","_this3","storeCommentDraft","args","channelId","root_id","parent_id","executeCommand","data","goto_location","sendMessage","_this4","userId","time","getTimestamp","file_ids","map","info","pending_post_id","user_id","create_at","emitUserCommentedEvent","emojiResult","EMOJI_PATTERN","forEach","emitEmojiPosted","queuePost","removePendingPost","forceUpdate","action","emojiName","latestPostId","addReaction","removeReaction","ctrlKey","shiftKey","altKey","findDOMNode","blur","emitLocalUserTypingEvent","parent","metaKey","UP","lastPost","getCurrentUsersLatestPost","handleViewAction","RECEIVED_EDIT_POST","refocusId","comments","getCommentCount","DOWN","lastMessage","nextMessageInHistory","clientIds","concat","i","index","splice","preview","container","scrollIntoView","clientId","findIndex","fileUpload","getWrappedInstance","cancelUpload","newProps","postErrorClass","onRemove","uploadsInProgressText","addButtonClass","emojiPicker","onEmojiClick","pickerLocation","outsideClick","onSubmit","onBlur","createMessage","emojiEnabled","initialText","getTarget","onFileUploadChange","onUploadStart","onFileUpload","onUploadError","postType","navBarName","parentId","2003","_modal_store","_modal_store2","DeletePostModal","handleDelete","handleToggle","handleHide","commentCount","addModalListener","TOGGLE_DELETE_POST_MODAL","removeModalListener","deletePostBtn","deletePost","commentWarning","values","count","postTerm","term","2004","global","_deleteProperty","_deleteProperty2","_browser_store","_browser_store2","EditPostModal","handleEdit","handleEditKeyPress","handleEditPostEvent","onModalHidden","onModalShow","onModalShown","onModalHide","onModalKeyDown","editText","originalText","post_id","updatedPost","modal","tempState","setItem","showDeletePostModal","getPost","updatePost","scrollTo","Boolean","editbox","options","mm_license","IsLicensed","mm_config","AllowEditPost","ALLOW_EDIT_POST_NEVER","ALLOW_EDIT_POST_TIME_LIMIT","PostEditTimeLimit","typing","button","relatedTarget","attr","recalculateSize","hidePreview","stopPropagation","addEditPostListener","removeEditPostListner","errorBoxClass","role","tabIndex","aria-hidden","data-dismiss","aria-label","supportsCommands","suggestionListStyle","2007","_get_link_modal","_get_link_modal2","_reactAddonsPureRenderMixin","_reactAddonsPureRenderMixin2","GetPostLinkModal","hide","shouldComponentUpdate","TOGGLE_GET_POST_LINK_MODAL","getCurrentTeamUrl","2008","GetPublicLinkModal","handlePublicLink","fileId","TOGGLE_GET_PUBLIC_LINK_MODAL","getPublicLink","2009","GetTeamInviteLinkModal","TOGGLE_GET_TEAM_INVITE_LINK_MODAL","EnableUserCreation","getCurrentInviteLink","2015","_confirm_modal","_confirm_modal2","_team_actions","holders","defineMessages","emailError","firstname","lastname","modalTitle","modalMessage","modalButton","InviteMemberModal","teamChange","addInviteFields","clearFields","removeInviteFields","showGetTeamInviteLinkModal","inviteIds","idCount","emailErrors","firstNameErrors","lastNameErrors","emailEnabled","SendEmailNotifications","userCreationEnabled","showConfirmModal","isSendingEmails","TOGGLE_INVITE_MEMBER_MODAL","invites","valid","invite","email","isEmail","intl","formatMessage","firstName","lastName","inviteMembers","detailed_error","requireConfirm","notEmpty","currentUser","inviteSections","firstNameError","lastNameError","removeButton","emailClass","nameFields","firstNameClass","lastNameClass","placeholder","disabled","spellCheck","onKeyUp","displayNameKeyUp","sendButton","defaultChannelName","DEFAULT_CHANNEL","display_name","FormattedHTMLMessage","sendButtonLabel","teamInviteLink","enforceFocus","backdrop","confirmButton","onConfirm","onCancel","intlShape","injectIntl","2016","_webrtc_store","_webrtc_store2","LeaveTeamModal","TOGGLE_LEAVE_TEAM_MODAL","isBusy","emitChanged","WebrtcActionTypes","IN_PROGRESS","emitLeaveTeam","2019","_edit_channel_header_modal","_edit_channel_header_modal2","_edit_channel_purpose_modal","_edit_channel_purpose_modal2","_message_wrapper","_message_wrapper2","_notify_counts","_notify_counts2","_channel_info_modal","_channel_info_modal2","_channel_invite_modal","_channel_invite_modal2","_channel_members_modal","_channel_members_modal2","_channel_notifications_modal","_channel_notifications_modal2","_delete_channel_modal","_delete_channel_modal2","_rename_channel_modal","_rename_channel_modal2","_toggle_modal_button","_toggle_modal_button2","_status_icon","_status_icon2","_search_store","_search_store2","_channel_switch_modal","_channel_switch_modal2","_channel_utils","ChannelUtils","Navbar","toggleFavorite","isFavorite","unmarkFavorite","markFavorite","handleLeave","showSearch","showEditChannelHeaderModal","showRenameChannelModal","hideRenameChannelModal","isStateValid","createCollapseButtons","createDropdown","showMembersModal","hideMembersModal","showChannelSwitchModal","hideChannelSwitchModal","openDirectMessageModal","getPinnedPosts","getStateFromStores","showEditChannelPurposeModal","member","getCurrentMember","users","userCount","getCurrentStats","member_count","isFavoriteChannel","addStatsChangeListener","addStatusesChangeListener","click","hideSidebars","removeStatsChangeListener","removeStatusesChangeListener","leaveChannel","outerWidth","handleServerAction","RECEIVED_SEARCH","results","RECEIVED_POST_SELECTED","removeClass","toggleClass","SHOW_SEARCH","headerOverlay","cmdOrCtrlPressed","K","TOGGLE_DM_MODAL","startingUsers","getProfileListInChannel","isPinnedPosts","toggleSideBarAction","channelTitle","isAdmin","isSystemAdmin","isChannelAdmin","isDirect","isGroup","popoverContent","viewInfoOption","viewPinnedPostsOption","addMembersOption","manageMembersOption","setChannelHeaderOption","setChannelPurposeOption","notificationPreferenceOption","renameChannelOption","deleteChannelOption","leaveChannelOption","dialogType","dialogProps","channelMember","isDefault","showManagementOptions","showDeleteOption","canLeave","PRIVATE_CHANNEL","toggleFavoriteOption","OverlayTrigger","trigger","placement","overlay","rootClose","data-toggle","aria-expanded","status","getTeammateStatus","Link","to","currentId","buttons","data-target","toggleLeftSidebar","toggleRightSidebar","dangerouslySetInnerHTML","__html","MENU_ICON","currentUserId","teammate","find","getStatus","teamDisplayName","editChannelHeaderModal","editChannelPurposeModal","renameChannelModal","channelMembersModal","channelSwitchModal","Popover","bsStyle","header","singleline","mentionHighlight","isTeamAdminForCurrentTeam","isSystemAdminForCurrentUser","isChannelAdminForCurrentChannel","teammateId","getUserIdFromChannelName","displayUsername","GM_CHANNEL","buildGroupChannelName","newline","onModalDismissed","showInviteModal","channelInviteModalButton","collapseButtons","searchButton","channelMenuDropdown","2022","getCountsStateFromStores","mentionCount","messageCount","teamMembers","getMyTeamMembers","channels","getAll","members","getMyMembers","team_id","mention_count","msg_count","total_msg_count","notify_props","mark_unread","NotifyCounts","onListenerChange","mounted","newState","2023","DateSeparator","FormattedDate","date","weekday","month","day","year","instanceOf","2027","RemovedFromChannelModal","handleShow","handleClose","channelName","remover","getItem","removeItem","townSquare","2028","_user_profile","_user_profile2","_file_attachment_list_container","_file_attachment_list_container2","_pending_post_options","_pending_post_options2","_post_message_container","_post_message_container2","_profile_picture","_profile_picture2","_reaction_list_container","_reaction_list_container2","_rhs_dropdown","_rhs_dropdown2","_post_utils","PostUtils","_delayed_action","_delayed_action2","_load","_load2","RhsComment","handlePermalink","removePost","flagPost","unflagPost","pinPost","unpinPost","reactEmojiClick","emojiPickerClick","canEdit","canDelete","editDisableAction","handleEditDisable","currentTeamDisplayName","width","height","showReactEmojiPicker","reactPickerOffset","updateWindowDimensions","showGetPostLinkModal","emitRemovePost","nextProps","nextState","compactDisplay","useMilitaryTime","isFlagged","isSystemMessage","POST_FAILED","POST_LOADING","canDeletePost","canEditPost","is_pinned","data-refocusid","data-title","data-message","data-postid","data-channelid","timeOptions","dateTime","getDateForUnixTicks","toISOString","toLocaleString","timeTag","reactOffset","reactSelectorHeight","reactionIconY","getBoundingClientRect","top","rhsMinHeight","spaceAvail","flagIcon","FLAG_ICON_SVG","mattermostLogo","MATTERMOST_ICON_SVG","isEphemeral","isPostEphemeral","isPending","currentUserCss","timestamp","last_picture_update","from_webhook","botIndicator","userProfile","override_username","EnablePostUsernameOverride","overwriteName","disablePopover","overwriteImage","SYSTEM_MESSAGE_PROFILE_IMAGE","loading","postClass","src","isEdited","systemMessageClass","profilePic","getProfilePicSrcForPost","compactClass","profilePicContainer","fileAttachment","flag","flagFunc","flagVisible","flagTooltip","Tooltip","flagTrigger","delayShow","OVERLAY_TIME_DELAY","react","reactOverlay","Overlay","createRemovePostButton","pinnedBadge","hour","minute","hour12","renderTimeTag","2029","_get2","_get3","RhsDropdownMenu","_Dropdown$Menu","onClose","Menu","2030","RhsHeaderPost","toggleSize","handleBack","emitCloseRightHandSide","shrink","fromSearch","isWebrtc","RECEIVED_SEARCH_TERM","do_search","is_mention_search","isMentionSearch","fromFlaggedPosts","getFlaggedPosts","back","closeSidebarTooltip","backToResultsTooltip","expandSidebarTooltip","shrinkSidebarTooltip","2031","_post_body_additional_content","_post_body_additional_content2","RhsRootPost","showRHSEmojiPicker","testStateObj","previewCollapsed","userCss","rhs_root_reacticon","rootOptions","number","2032","renderView","_extends3","renderThumbHorizontal","renderThumbVertical","_assign","_assign2","_stringify","_stringify2","_extends2","_create_comment","_create_comment2","_rhs_header_post","_rhs_header_post2","_rhs_root_post","_rhs_root_post2","_rhs_comment","_rhs_comment2","_floating_timestamp","_floating_timestamp2","_date_separator","_date_separator2","_reactCustomScrollbars","_reactCustomScrollbars2","RhsThread","onPostChange","onUserChange","forceUpdateInfo","onStatusChange","onBusy","handleResize","handleScroll","handleScrollStop","scrollStopAction","getPosts","windowWidth","windowHeight","profiles","JSON","parse","getProfiles","CATEGORY_DISPLAY_SETTINGS","MESSAGE_DISPLAY","MESSAGE_DISPLAY_DEFAULT","MESSAGE_DISPLAY_COMPACT","flaggedPosts","getCategory","CATEGORY_FLAGGED_POST","statuses","getStatuses","previewsCollapsed","COLLAPSE_DISPLAY","isScrolling","topRhsPostCreateAt","addSelectedPostChangeListener","addBusyListener","scrollToBottom","removeSelectedPostChangeListener","removeBusyListener","prevPostsArray","postsArray","curPostsArray","postList","posts","previewSuffix","generateId","getSelectedPost","getSelectedPostThread","cpost","sort","a","b","childNodes","rhspostlist","viewPort","offset","offsetTop","updateFloatingTimestamp","fireAfter","SCROLL_DELAY","rootPostDay","previousPostDay","profile","isRootFlagged","rootStatus","commentsLists","comPost","keyPrefix","currentPostDay","toDateString","createAt","isRhsPost","autoHide","autoHideTimeout","autoHideDuration","onScroll","2033","getSearchResults","_map2","order","channelIds","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_getIterator3","next","done","return","searchTerm","getSearchTerm","_getIterator2","_map","_search_results_header","_search_results_header2","_search_results_item","_search_results_item2","SearchResults","resize","addSearchChangeListener","perfectScrollbar","removeSearchChangeListener","noResults","ctls","isFlaggedPosts","isFlaggedSearch","channelDisplayName","2034","SearchResultsHeader","2035","SearchResultsItem","handleFocusRHSClick","shrinkSidebar","emitPostFocusRightHandSideFromSearch","_this5","username","displayUsernameForUser","getDirectTeammate","overrideUsername","disableProfilePopover","BOT_NAME","flagContent","rhsControls","POST_DELETED","REPLY_ICON","hideSidebar","2038","SettingsUpload","doFileSelect","doSubmit","clientError","filename","val","substring","inputnode","uploadinput","files","submit","fileNameText","submitButtonClass","accept","fileTypesAccepted","2042","_search_results","_search_results2","_rhs_thread","_rhs_thread2","_search_bar","_search_bar2","_file_upload_overlay","_file_upload_overlay2","_diagnostics_actions","SidebarRight","plScrolledToBottom","onSelectedChange","onPostPinnedChange","onSearchChange","onShowSearch","onShrink","doStrangeThings","searchVisible","getIsMentionSearch","getIsFlaggedPosts","getIsPinnedPosts","postRightVisible","expanded","USE_MILITARY_TIME","addPostPinnedChangeListener","addShowSearchListener","removePostPinnedChangeListener","removeShowSearchListener","isOpen","willOpen","trackEvent","jumpPostsViewSidebarOpen","addClass","emitRhsChanged","expandedClass","searchForm","isFocus","overlayType","2043","_team_members_modal","_team_members_modal2","_user_settings_modal","_user_settings_modal2","_about_build_modal","_about_build_modal2","_add_users_to_team","_add_users_to_team2","_tutorial_tip","Constants","SidebarRightMenu","handleClick","handleAboutModal","showAddUsersToTeamModal","hideAddUsersToTeamModal","searchMentions","aboutModalDismissed","getFlagged","showUserSettingsModal","showAboutModal","tutorialStep","teamListings","getTeamListings","showTutorialTip","MENU_POPOVER","emitSearchMentionsEvent","classList","remove","add","teamLink","inviteLink","addUserToTeamLink","teamSettingsLink","manageLink","consoleLink","joinAnotherTeamLink","showInviteMemberModal","RestrictTeamInvite","PERMISSIONS_SYSTEM_ADMIN","PERMISSIONS_TEAM_ADMIN","moreTeams","isAlreadyMember","siteName","SiteName","helpLink","HelpLink","rel","reportLink","ReportAProblemLink","tutorialTip","createMenuTip","closeLeftSidebar","openRightSidebar","nativeAppLink","AppDownloadLink","addUsersToTeamModal","teamDivider","consoleDivider","emitUserLoggedOutEvent","2044","_keys","_keys2","_suggestion","_suggestion2","_provider","_provider2","_web_client","_web_client2","SwitchChannelSuggestion","_Suggestion","_props","isSelection","displayName","icon","OPEN_CHANNEL","getUsersRoute","SwitchChannelProvider","_Provider","suggestionId","channelPrefix","startNewRequest","allChannels","autocompleteUsers","shouldCancelDispatch","newChannel","userMap","first_name","last_name","nickname","getFullName","update_at","channelNames","sortChannelsByDisplayName","SUGGESTION_RECEIVED_SUGGESTIONS","matchedPretext","terms","items","component","RECEIVED_PROFILES","2045","_setting_item_min","_setting_item_min2","_setting_item_max","_setting_item_max2","GeneralTab","updateSection","handleNameSubmit","handleInviteIdSubmit","handleOpenInviteSubmit","handleDescriptionSubmit","onUpdateNameSection","updateName","updateDescription","onUpdateDescriptionSection","onUpdateInviteIdSection","updateInviteId","onUpdateOpenInviteSection","handleOpenInviteRadio","handleGenerateInviteId","setupInitialState","section","invite_id","allow_open_invite","description","Math","floor","random","toString","openInvite","updateTeam","activeSection","openInviteSection","inputs","defaultChecked","server_error","describe","inviteSection","getTeamInviteLink","client_error","nameSection","teamNameLabel","MAX_TEAMNAME_LENGTH","nameExtraInfo","extraInfo","descriptionSection","teamDescriptionLabel","MAX_TEAMDESCRIPTION_LENGTH","descriptionExtraInfo","describemsg","2046","_setting_upload","_setting_upload2","importSlack","TeamImportTab","onImportFailure","onImportSuccess","doImportSlack","res","encodeURIComponent","file","messageSection","uploadDocsLink","uploadExportInstructions","uploadExporterLink","uploadHelpText","exportInstructions","slackAdvancedExporterLink","uploadSection","download","2047","_team_import_tab","_team_import_tab2","_team_general_tab","_team_general_tab2","TeamSettings","activeTab","2048","_settings_sidebar","_settings_sidebar2","_team_settings","_team_settings2","generalTab","importTab","TeamSettingsModal","updateTab","closest","tab","tabs","uiName","2052","ImportThemeModal","updateShow","inputError","callback","TOGGLE_IMPORT_THEME_MODAL","isInputValid","colors","split","sidebarBg","sidebarText","sidebarUnreadText","sidebarTextHoverBg","sidebarTextActiveBorder","sidebarTextActiveColor","sidebarHeaderBg","sidebarHeaderTextColor","onlineIndicator","awayIndicator","mentionBj","mentionColor","centerChannelBg","centerChannelColor","newMessageSeparator","linkColor","buttonBg","buttonColor","mentionHighlightBg","mentionHighlightLink","codeTheme","charAt","2053","WebrtcHeader","2054","_web_websocket_client","_web_websocket_client2","_webrtc_actions","WebrtcActions","_ring","_ring2","PreReleaseFeatures","WebrtcNotification","closeNotification","onIncomingCall","onCancelCall","onRhs","handleAnswer","handleTimeout","stopRinging","closeRightHandSide","userCalling","rhsOpened","addNotifyListener","addChangedListener","addRhsChangedListener","removeNotifyListener","removeChangedListener","removeRhsChangedListener","ring","removeListener","pause","currentTime","incoming","from_user_id","userMedia","getUserMedia","WEBRTC_PREVIEW","BUSY","to_user_id","setVideoCallWith","getProfile","UNSUPPORTED","DISABLED","CANCEL","NO_ANSWER","caller","callerId","ANSWER","initWebrtc","handle","DECLINE","profileImgSrc","profileImg","answerBtn","xmlns","viewBox","cx","cy","r","transform","fill","d","rejectBtn","msg","marginTop","autoPlay","getVideoCallWith","2055","_webrtc_controller","_webrtc_controller2","onInitializeVideoCall","videoCallVisible","isCaller","videoCallWithUserId","addInitListener","removeInitListener","2056","_janus","_janus2","_webrtc_header","_webrtc_header2","_loading_screen","_loading_screen2","VIDEO_WIDTH","VIDEO_HEIGHT","MIN_ASPECT","MAX_ASPECT","ALREADY_REGISTERED_ERROR","USERNAME_TAKEN","WebrtcController","localMedia","session","videocall","close","clearError","getLocalMedia","stopMediaStream","previewVideo","handleMakeOffer","handleCancelOffer","handleWebrtcEvent","handleVideoCallEvent","handleRemoteStream","onCallDeclined","onUnsupported","onNoAnswer","onDisabled","onFailed","onCancelled","onConnectCall","onSessionCreated","onSessionError","doCall","doAnswer","doHangup","doCleanup","renderButtons","onToggleVideo","onToggleAudio","onToggleRemoteMute","toggleIcons","remoteUser","remoteUserImage","currentUserImage","localMediaLoaded","isPaused","isMuted","isRemotePaused","isRemoteMuted","isCalling","isAnswering","callInProgress","errorType","ended","startCall","WEBRTC_CLEAR_ERROR_DELAY","constraints","media","audio","video","catch","getTracks","track","stop","enabled","minAspectRatio","maxAspectRatio","UserStatuses","OFFLINE","connectingMsg","NOTIFY","FAILED","MUTED","jsep","event","handleRemoteJsep","errorCode","error_code","videoTracks","getVideoTracks","audioTracks","getAudioTracks","muted","destroy","webrtcToken","iceServers","stun_uri","urls","turn_uri","turn_username","credential","turn_password","init","debug","EnableDeveloper","server","gateway_url","token","success","attach","plugin","send","request","onmessage","onremotestream","_this6","createOffer","body","WEBRTC_TIME_DELAY","_this7","createAnswer","jsepSuccess","manual","hangup","detach","shouldPause","unmuteVideo","muteVideo","mute","shouldMute","unmuteAudio","muteAudio","icons","toggle","_this8","onClass","offClass","audioOnClass","audioOffClass","videoOnClass","videoOffClass","audioTitle","videoTitle","remoteImage","localImage","localVideoHidden","remoteVideoHidden","remoteMute","localImageHidden","remoteImageHidden","calling","connecting","position","2068","IS_UNITLESS","animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","opacity","orphans","tabSize","widows","zIndex","zoom","fillOpacity","stopOpacity","strokeDashoffset","strokeOpacity","strokeWidth","2163","startY","handleTouchmove","evt","el","getComputedStyle","nodeName","getAttribute","scrolling","getPropertyValue","overflowY","isScrollable","canScroll","curY","touches","screenY","isAtTop","isAtBottom","parentNode","handleTouchstart","isEnabled","testDiv","documentElement","appendChild","WebkitOverflowScrolling","scrollSupport","removeChild","iNoBounce","define","2169","process","getNanoSeconds","hrtime","loadTime","performance","hr","2170","div","prefixes","titleCase","toUpperCase","slice","2174","root","vendors","suffix","raf","caf","last","queue","frameDuration","_now","max","cp","cancelled","round","fn","cancel","polyfill","requestAnimationFrame","cancelAnimationFrame","2175","_objectWithoutProperties","keys","renderViewDefault","renderTrackHorizontalDefault","_ref","finalStyle","_extends","right","bottom","left","borderRadius","renderTrackVerticalDefault","_ref2","renderThumbHorizontalDefault","_ref3","cursor","backgroundColor","renderThumbVerticalDefault","_ref4","assign","source","2176","_raf2","_raf3","_domCss","_domCss2","_isString","_isString2","_getScrollbarWidth","_getScrollbarWidth2","_returnFalse","_returnFalse2","_getInnerWidth","_getInnerWidth2","_getInnerHeight","_getInnerHeight2","_styles","_defaultRenderElements","createClass","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderTrackHorizontal","renderTrackVertical","tagName","thumbSize","thumbMinSize","hideTracksWhenNotNeeded","autoHeight","autoHeightMin","autoHeightMax","universal","node","getDefaultProps","getInitialState","didMountUniversal","componentDidMount","addListeners","update","componentDidMountUniversal","componentDidUpdate","componentWillUnmount","removeListeners","requestFrame","clearTimeout","hideTracksTimeout","clearInterval","detectScrollingInterval","getScrollLeft","view","scrollLeft","getScrollTop","getScrollWidth","scrollWidth","getScrollHeight","getClientWidth","clientWidth","getClientHeight","clientHeight","getValues","getThumbHorizontalWidth","_refs","trackHorizontal","trackWidth","ceil","getThumbVerticalHeight","_props2","_refs2","trackVertical","trackHeight","getScrollLeftForOffset","_refs3","getScrollTopForOffset","_refs4","scrollToLeft","scrollToTop","scrollToRight","_refs5","thumbHorizontal","thumbVertical","handleTrackMouseEnter","handleTrackMouseLeave","handleHorizontalTrackMouseDown","handleVerticalTrackMouseDown","handleHorizontalThumbMouseDown","handleVerticalThumbMouseDown","handleWindowResize","_refs6","teardownDragging","_props3","viewScrollLeft","viewScrollTop","detectScrolling","handleScrollStart","handleScrollStartAutoHide","showTracks","handleScrollStopAutoHide","hideTracks","clientX","_target$getBoundingCl","targetLeft","thumbWidth","abs","clientY","_target$getBoundingCl2","targetTop","thumbHeight","handleDragStart","offsetWidth","_target$getBoundingCl3","prevPageX","_target$getBoundingCl4","prevPageY","setupDragging","disableSelectStyle","handleDrag","handleDragEnd","onselectstart","disableSelectStyleReset","dragging","stopImmediatePropagation","_refs7","_trackHorizontal$getB","trackLeft","clickPosition","_refs8","_view","_trackVertical$getBou","trackTop","_clickPosition","_offset","handleDragEndAutoHide","trackMouseOver","handleTrackMouseEnterAutoHide","handleTrackMouseLeaveAutoHide","_refs9","_refs10","setInterval","lastViewScrollLeft","lastViewScrollTop","_update","_props4","_refs11","trackHorizontalWidth","thumbHorizontalWidth","thumbHorizontalX","thumbHorizontalStyle","trackVerticalHeight","thumbVerticalHeight","thumbVerticalY","thumbVerticalStyle","trackHorizontalStyle","visibility","trackVerticalStyle","render","scrollbarWidth","_props5","containerStyle","containerStyleDefault","containerStyleAutoHeight","minHeight","maxHeight","viewStyle","viewStyleDefault","marginRight","marginBottom","viewStyleAutoHeight","viewStyleUniversalInitial","trackAutoHeightStyle","transition","trackHorizontalStyleDefault","display","trackVerticalStyleDefault","thumbHorizontalStyleDefault","thumbVerticalStyleDefault","2177","userSelect","2178","Scrollbars","_Scrollbars","_Scrollbars2","2179","getInnerHeight","_getComputedStyle","paddingTop","paddingBottom","parseFloat","2180","getInnerWidth","paddingLeft","paddingRight","2181","getScrollbarWidth","MsOverflowStyle","2182","isString","maybe","2183","returnFalse","2191","SDPUtils","generateIdentifier","substr","localCName","splitLines","blob","line","splitSections","part","matchPrefix","filter","parseCandidate","parts","candidate","foundation","protocol","priority","ip","port","relatedAddress","relatedPort","tcpType","writeCandidate","sdp","join","parseRtpMap","parsed","payloadType","shift","clockRate","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","getMid","mediaSection","mid","getDtlsParameters","sessionpart","fpLine","fingerprints","algorithm","writeDtlsParameters","setupType","fp","getIceParameters","usernameFragment","password","writeIceParameters","parseRtpParameters","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","kind","caps","maxptime","extension","parseRtpEncodingParameters","secondarySsrc","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","stringify","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","cname","rsize","reducedSize","compound","mux","parseMsid","spec","planB","writeSessionBoilerplate","writeMediaSection","transceiver","iceGatherer","getLocalParameters","dtlsTransport","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","getKind","isRejected","2199","space","replace","matches","letter","2200","toNoCase","hasSpace","hasSeparator","unseparate","hasCamel","uncamelize","separatorSplitter","m","camelSplitter","previous","uppers","2201","toSpaceCase","clean","2204","logging","chromeShim","edgeShim","firefoxShim","safariShim","shimPeerConnection","browserShim","shimGetUserMedia","shimMediaStream","shimSourceObject","shimOnTrack","shimGetSendersWithDtmf","2205","MediaStream","webkitMediaStream","RTCPeerConnection","_ontrack","f","self","_ontrackpoly","te","Event","receiver","dispatchEvent","getSenders","_senders","origAddStream","addStream","origRemoveStream","removeStream","pc","dtmf","_dtmf","createDTMFSender","sender","s","_srcObject","pcConfig","pcConstraints","iceTransportPolicy","iceTransports","generateCertificate","origGetStats","getStats","selector","successCallback","errorCallback","fixChromeStats_","response","standardReport","report","standardStats","localcandidate","remotecandidate","names","stat","makeMapStats","stats","successCallbackWrapper_","Promise","resolve","reject","method","nativeMethod","promise","opts","RTCIceCandidate","RTCSessionDescription","nativeAddIceCandidate","addIceCandidate","2206","constraintsToChrome_","c","mandatory","optional","cc","ideal","exact","min","oldname_","oc","mix","advanced","shimConstraints_","face","facingMode","getSupportedFacingModeLies","getSupportedConstraints","enumerateDevices","devices","label","deviceId","shimError_","PermissionDeniedError","ConstraintNotSatisfiedError","constraint","constraintName","getUserMedia_","onSuccess","onError","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","device","groupId","echoCancellation","frameRate","origGetUserMedia","cs","DOMException","2207","sortTracks","tracks","filterIceServers","hasTurn","RTCIceGatherer","origMSTEnabled","ev","config","_eventTarget","createDocumentFragment","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","localStreams","remoteStreams","getLocalStreams","getRemoteStreams","localDescription","remoteDescription","signalingState","iceConnectionState","iceGatheringState","iceOptions","gatherPolicy","usingBundle","bundlePolicy","_config","transceivers","_localIceCandidatesBuffer","_emitGatheringStateChange","_emitBufferedCandidates","sections","sdpMLineIndex","every","iceGatheringStateChange","getConfiguration","clonedStream","clone","idx","clonedTrack","_maybeFireNegotiationNeeded","getReceivers","_getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","findCodecByPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","rCodec","lHeaderExtension","rHeaderExtension","_createIceAndDtlsTransports","iceTransport","RTCIceTransport","onlocalcandidate","sdpMid","cand","end","_pendingOffer","complete","onicestatechange","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_transceive","recv","encodings","recvEncodingParameters","receive","setLocalDescription","isIceLite","isDatachannel","remoteIceParameters","remoteDtlsParameters","start","_updateSignalingState","TypeError","hasCallback","cb","setRemoteDescription","receiverList","rejected","direction","isComplete","cands","setRemoteCandidates","addTrack","transports","RTCRtpReceiver","getCapabilities","localTrack","RTCRtpSender","states","new","closed","checking","connected","completed","failed","disconnected","offerOptions","numAudioTracks","numVideoTracks","offerToReceiveAudio","offerToReceiveVideo","wantReceive","t","desc","mLineIndex","addRemoteCandidate","promises","fixStatsType","inboundrtp","outboundrtp","candidatepair","all","2208","2209","mozSrcObject","mozRTCPeerConnection","newIceServers","newServer","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","nativeGetStats","onSucc","onErr","2210","SecurityError","The operation is insecure.","constraintsToFF37_","require","orgEnumerateDevices","warn","2211","errcb","2212","Janus","gatewayCallbacks","randomString","len","charSet","randomPoz","eventHandler","sessionId","longpoll","maxev","apisecret","ajax","timeout","handleEvent","XMLHttpRequest","textStatus","errorThrown","retries","dataType","json","websockets","vdebug","pluginHandle","pluginHandles","webrtcState","ondetached","mediaState","slowLink","code","reason","transaction","reportSuccess","transactions","plugindata","keepAlive","wsKeepaliveTimeoutId","janus","session_id","ws","createSession","callbacks","servers","serversIndex","WebSocket","wsHandlers","sessions","that","eventName","contentType","destroySession","noop","asyncRequest","destroyed","ph","phv","destroyHandle","unbindWebSocket","onUnbindMessage","onUnbindError","async","createHandle","consentDialog","onlocalstream","ondata","ondataopen","oncleanup","handleId","webrtcStuff","started","myStream","streamExternal","remoteStream","mySdp","dataChannel","dtmfSender","trickle","iceDone","sdpSent","volume","timer","bitrate","bsnow","bsbefore","tsnow","tsbefore","getId","getPlugin","getVolume","isAudioMuted","isVideoMuted","getBitrate","sendData","sendDtmf","prepareWebrtc","prepareWebrtcPeer","sendRequest","cleanupWebrtc","sendTrickleCandidate","local_audio_track","ontonechange","tone","tones","duration","gap","insertDTMF","streamsDone","pc_config","pc_constraints","DtlsSrtpKeyAgreement","ipv6Support","googIPv6","adapter","sendSDP","isDataEnabled","onDataChannelMessage","onDataChannelStateChange","dcState","readyState","onDataChannelError","createDataChannel","ordered","onopen","onclose","callbackUserMedia","getScreenMedia","gsmCallback","webrtcError","isTrickleEnabled","isAudioSendEnabled","isVideoSendEnabled","audioSupport","videoSupport","firefoxVer","maxWidth","minWidth","location","chromever","maxver","googLeakyBucket","screen","maxFrameRate","chromeMediaSource","pending","postMessage","ffver","mozMediaSource","mediaSource","polly","onended","origin","sourceId","googTemporalLayeredScreencast","chromeMediaSourceId","audioExist","some","videoExist","audioSend","videoSend","needAudioDevice","isAudioSendRequired","needVideoDevice","isVideoSendRequired","haveAudioDevice","haveVideoDevice","mediaConstraints","isAudioRecvEnabled","isVideoRecvEnabled","OfferToReceiveAudio","OfferToReceiveVideo","offer","answer","bitRate","inbound_rtp_video_1","bytesReceived","hangupRequest","$","mst","failIfNoAudio","audioRecv","failIfNoVideo","videoRecv","initDone","isWebrtcSupported","ipv6","max_poll_events","destroyOnUnload","getServer","isConnected","getSessionId","extensionId","isExtensionEnabled","addJsList","srcArray","addJs","oHead","getElementsByTagName","oScript","onload","trace","listDevices","attachMediaStream","reattachMediaStream","from","XHR","setRequestHeader","onreadystatechange","responseText","oldOBF","onbeforeunload"],"mappings":"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","file":"6.f832ec0c055fcc7c9b4b.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 1721:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _es = __webpack_require__(37);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _async_client = __webpack_require__(20);\n\nvar AsyncClient = _interopRequireWildcard(_async_client);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _preference_store = __webpack_require__(42);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _post_store = __webpack_require__(140);\n\nvar _post_store2 = _interopRequireDefault(_post_store);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _status_actions = __webpack_require__(142);\n\nvar _websocket_actions = __webpack_require__(186);\n\nvar _user_actions = __webpack_require__(46);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _error_bar = __webpack_require__(1662);\n\nvar _error_bar2 = _interopRequireDefault(_error_bar);\n\nvar _sidebar_right = __webpack_require__(2042);\n\nvar _sidebar_right2 = _interopRequireDefault(_sidebar_right);\n\nvar _sidebar_right_menu = __webpack_require__(2043);\n\nvar _sidebar_right_menu2 = _interopRequireDefault(_sidebar_right_menu);\n\nvar _navbar = __webpack_require__(2019);\n\nvar _navbar2 = _interopRequireDefault(_navbar);\n\nvar _webrtc_sidebar = __webpack_require__(2055);\n\nvar _webrtc_sidebar2 = _interopRequireDefault(_webrtc_sidebar);\n\nvar _webrtc_notification = __webpack_require__(2054);\n\nvar _webrtc_notification2 = _interopRequireDefault(_webrtc_notification);\n\nvar _get_post_link_modal = __webpack_require__(2007);\n\nvar _get_post_link_modal2 = _interopRequireDefault(_get_post_link_modal);\n\nvar _get_public_link_modal = __webpack_require__(2008);\n\nvar _get_public_link_modal2 = _interopRequireDefault(_get_public_link_modal);\n\nvar _get_team_invite_link_modal = __webpack_require__(2009);\n\nvar _get_team_invite_link_modal2 = _interopRequireDefault(_get_team_invite_link_modal);\n\nvar _edit_post_modal = __webpack_require__(2004);\n\nvar _edit_post_modal2 = _interopRequireDefault(_edit_post_modal);\n\nvar _delete_post_modal = __webpack_require__(2003);\n\nvar _delete_post_modal2 = _interopRequireDefault(_delete_post_modal);\n\nvar _team_settings_modal = __webpack_require__(2048);\n\nvar _team_settings_modal2 = _interopRequireDefault(_team_settings_modal);\n\nvar _removed_from_channel_modal = __webpack_require__(2027);\n\nvar _removed_from_channel_modal2 = _interopRequireDefault(_removed_from_channel_modal);\n\nvar _import_theme_modal = __webpack_require__(2052);\n\nvar _import_theme_modal2 = _interopRequireDefault(_import_theme_modal);\n\nvar _invite_member_modal = __webpack_require__(2015);\n\nvar _invite_member_modal2 = _interopRequireDefault(_invite_member_modal);\n\nvar _leave_team_modal = __webpack_require__(2016);\n\nvar _leave_team_modal2 = _interopRequireDefault(_leave_team_modal);\n\nvar _inobounce = __webpack_require__(2163);\n\nvar _inobounce2 = _interopRequireDefault(_inobounce);\n\nvar _user_agent = __webpack_require__(59);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TutorialSteps = _constants2.default.TutorialSteps; // Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar Preferences = _constants2.default.Preferences;\n\n// Modals\n\n\nvar UNREAD_CHECK_TIME_MILLISECONDS = 10000;\n\nvar NeedsTeam = function (_React$Component) {\n    (0, _inherits3.default)(NeedsTeam, _React$Component);\n\n    function NeedsTeam(params) {\n        (0, _classCallCheck3.default)(this, NeedsTeam);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NeedsTeam.__proto__ || (0, _getPrototypeOf2.default)(NeedsTeam)).call(this, params));\n\n        _this.onTeamChanged = _this.onTeamChanged.bind(_this);\n        _this.onPreferencesChanged = _this.onPreferencesChanged.bind(_this);\n\n        _this.blurTime = new Date().getTime();\n\n        var team = _team_store2.default.getCurrent();\n\n        _this.state = {\n            team: team,\n            theme: _preference_store2.default.getTheme(team.id)\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(NeedsTeam, [{\n        key: 'onTeamChanged',\n        value: function onTeamChanged() {\n            var team = _team_store2.default.getCurrent();\n\n            this.setState({\n                team: team,\n                theme: _preference_store2.default.getTheme(team.id)\n            });\n        }\n    }, {\n        key: 'onPreferencesChanged',\n        value: function onPreferencesChanged(category) {\n            if (!category || category === Preferences.CATEGORY_THEME) {\n                this.setState({\n                    theme: _preference_store2.default.getTheme(this.state.team.id)\n                });\n            }\n        }\n    }, {\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            // Go to tutorial if we are first arriving\n            var tutorialStep = _preference_store2.default.getInt(Preferences.TUTORIAL_STEP, _user_store2.default.getCurrentId(), 999);\n            if (tutorialStep <= TutorialSteps.INTRO_SCREENS) {\n                _es.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/tutorial');\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            _team_store2.default.addChangeListener(this.onTeamChanged);\n            _preference_store2.default.addChangeListener(this.onPreferencesChanged);\n\n            // Emit view action\n            GlobalActions.viewLoggedIn();\n\n            (0, _status_actions.startPeriodicStatusUpdates)();\n            (0, _websocket_actions.startPeriodicSync)();\n\n            // Set up tracking for whether the window is active\n            window.isActive = true;\n            (0, _jquery2.default)(window).on('focus', function () {\n                AsyncClient.viewChannel();\n                _channel_store2.default.resetCounts(_channel_store2.default.getCurrentId());\n                _channel_store2.default.emitChange();\n\n                window.isActive = true;\n                if (new Date().getTime() - _this2.blurTime > UNREAD_CHECK_TIME_MILLISECONDS) {\n                    AsyncClient.getMyChannelMembers().then(_user_actions.loadProfilesForSidebar);\n                }\n            });\n\n            (0, _jquery2.default)(window).on('blur', function () {\n                window.isActive = false;\n                _this2.blurTime = new Date().getTime();\n                if (_user_store2.default.getCurrentUser()) {\n                    AsyncClient.viewChannel('');\n                }\n            });\n\n            Utils.applyTheme(this.state.theme);\n\n            if (UserAgent.isIosSafari()) {\n                // Use iNoBounce to prevent scrolling past the boundaries of the page\n                _inobounce2.default.enable();\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (!Utils.areObjectsEqual(prevState.theme, this.state.theme)) {\n                Utils.applyTheme(this.state.theme);\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _team_store2.default.removeChangeListener(this.onTeamChanged);\n            _preference_store2.default.removeChangeListener(this.onPreferencesChanged);\n            (0, _jquery2.default)(window).off('focus');\n            (0, _jquery2.default)(window).off('blur');\n\n            if (UserAgent.isIosSafari()) {\n                _inobounce2.default.disable();\n            }\n            (0, _status_actions.stopPeriodicStatusUpdates)();\n            (0, _websocket_actions.stopPeriodicSync)();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var content = [];\n            if (this.props.children) {\n                content = this.props.children;\n            } else {\n                content.push(this.props.navbar);\n                content.push(this.props.team_sidebar);\n                content.push(this.props.sidebar);\n                content.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'inner-wrap',\n                        className: 'inner-wrap channel__wrap'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'row header' },\n                        _react2.default.createElement(\n                            'div',\n                            { id: 'navbar' },\n                            _react2.default.createElement(_navbar2.default, null)\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'row main' },\n                        _react2.default.cloneElement(this.props.center, {\n                            user: this.props.user,\n                            team: this.state.team\n                        })\n                    )\n                ));\n            }\n\n            var channel = _channel_store2.default.getByName(this.props.params.channel);\n            if (channel == null) {\n                // the permalink view is not really tied to a particular channel but still needs it\n                var postId = _post_store2.default.getFocusedPostId();\n                var post = _post_store2.default.getEarliestPostFromPage(postId);\n\n                // the post take some time before being available on page load\n                if (post != null) {\n                    channel = _channel_store2.default.get(post.channel_id);\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'channel-view' },\n                _react2.default.createElement(_error_bar2.default, null),\n                _react2.default.createElement(_webrtc_notification2.default, null),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'container-fluid' },\n                    _react2.default.createElement(_sidebar_right2.default, { channel: channel }),\n                    _react2.default.createElement(_sidebar_right_menu2.default, { teamType: this.state.team.type }),\n                    _react2.default.createElement(_webrtc_sidebar2.default, null),\n                    content,\n                    _react2.default.createElement(_get_post_link_modal2.default, null),\n                    _react2.default.createElement(_get_public_link_modal2.default, null),\n                    _react2.default.createElement(_get_team_invite_link_modal2.default, null),\n                    _react2.default.createElement(_invite_member_modal2.default, null),\n                    _react2.default.createElement(_leave_team_modal2.default, null),\n                    _react2.default.createElement(_import_theme_modal2.default, null),\n                    _react2.default.createElement(_team_settings_modal2.default, null),\n                    _react2.default.createElement(_edit_post_modal2.default, null),\n                    _react2.default.createElement(_delete_post_modal2.default, null),\n                    _react2.default.createElement(_removed_from_channel_modal2.default, null)\n                )\n            );\n        }\n    }]);\n    return NeedsTeam;\n}(_react2.default.Component);\n\nexports.default = NeedsTeam;\n\n\nNeedsTeam.propTypes = {\n    children: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.arrayOf(_react2.default.PropTypes.element), _react2.default.PropTypes.element]),\n    navbar: _react2.default.PropTypes.element,\n    sidebar: _react2.default.PropTypes.element,\n    team_sidebar: _react2.default.PropTypes.element,\n    center: _react2.default.PropTypes.element,\n    params: _react2.default.PropTypes.object,\n    user: _react2.default.PropTypes.object\n};\n\n/***/ }),\n\n/***/ 1743:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function() {\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n      } else { // Safari (in an unpublished version) or unknown webkit-based.\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/(\\d+)\\./, 1);\n        } else { // unknown webkit-based browser.\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n        // Safari, with webkitGetUserMedia removed.\n      result.browser = 'safari';\n      result.version = this.extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function() {\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        console.log('URL.createObjectURL(stream) is deprecated! ' +\n                    'Use elem.srcObject = stream instead!');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = HTMLMediaElement.prototype.setAttribute;\n    HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  }\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  disableLog: utils.disableLog,\n  browserDetails: utils.detectBrowser(),\n  extractVersion: utils.extractVersion,\n  shimCreateObjectURL: utils.shimCreateObjectURL,\n  detectBrowser: utils.detectBrowser.bind(utils)\n};\n\n\n\n/***/ }),\n\n/***/ 1763:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GetLinkModal = function (_React$Component) {\n    (0, _inherits3.default)(GetLinkModal, _React$Component);\n\n    function GetLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetLinkModal)).call(this, props));\n\n        _this.onHide = _this.onHide.bind(_this);\n\n        _this.copyLink = _this.copyLink.bind(_this);\n\n        _this.state = {\n            copiedLink: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetLinkModal, [{\n        key: 'onHide',\n        value: function onHide() {\n            this.setState({ copiedLink: false });\n\n            this.props.onHide();\n        }\n    }, {\n        key: 'copyLink',\n        value: function copyLink() {\n            var textarea = this.refs.textarea;\n            textarea.focus();\n            textarea.setSelectionRange(0, this.props.link.length);\n\n            try {\n                if (document.execCommand('copy')) {\n                    this.setState({ copiedLink: true });\n                } else {\n                    this.setState({ copiedLink: false });\n                }\n            } catch (err) {\n                this.setState({ copiedLink: false });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var helpText = null;\n            if (this.props.helpText) {\n                helpText = _react2.default.createElement(\n                    'p',\n                    null,\n                    this.props.helpText,\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement('br', null)\n                );\n            }\n\n            var copyLink = null;\n            if (document.queryCommandSupported('copy')) {\n                copyLink = _react2.default.createElement(\n                    'button',\n                    {\n                        'data-copy-btn': 'true',\n                        type: 'button',\n                        className: 'btn btn-primary pull-left',\n                        onClick: this.copyLink\n                    },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'get_link.copy',\n                        defaultMessage: 'Copy Link'\n                    })\n                );\n            }\n\n            var linkText = _react2.default.createElement('textarea', {\n                className: 'form-control no-resize min-height',\n                ref: 'textarea',\n                value: this.props.link,\n                onClick: this.copyLink,\n                readOnly: true\n            });\n\n            var copyLinkConfirm = null;\n            if (this.state.copiedLink) {\n                copyLinkConfirm = _react2.default.createElement(\n                    'p',\n                    { className: 'alert alert-success alert--confirm' },\n                    _react2.default.createElement('i', { className: 'fa fa-check' }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'get_link.clipboard',\n                        defaultMessage: ' Link copied'\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    show: this.props.show,\n                    onHide: this.onHide\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        'h4',\n                        { className: 'modal-title' },\n                        this.props.title\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    helpText,\n                    linkText\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Footer,\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'btn btn-default',\n                            onClick: this.onHide\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'get_link.close',\n                            defaultMessage: 'Close'\n                        })\n                    ),\n                    copyLink,\n                    copyLinkConfirm\n                )\n            );\n        }\n    }]);\n    return GetLinkModal;\n}(_react2.default.Component); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = GetLinkModal;\n\n\nGetLinkModal.propTypes = {\n    show: _react2.default.PropTypes.bool.isRequired,\n    onHide: _react2.default.PropTypes.func.isRequired,\n    title: _react2.default.PropTypes.string.isRequired,\n    helpText: _react2.default.PropTypes.string,\n    link: _react2.default.PropTypes.string.isRequired\n};\n\nGetLinkModal.defaultProps = {\n    helpText: null\n};\n\n/***/ }),\n\n/***/ 1777:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _user_agent = __webpack_require__(59);\n\nvar Agent = _interopRequireWildcard(_user_agent);\n\nvar _rhs_dropdown_menu = __webpack_require__(2029);\n\nvar _rhs_dropdown_menu2 = _interopRequireDefault(_rhs_dropdown_menu);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar RhsDropdown = function (_React$Component) {\n    (0, _inherits3.default)(RhsDropdown, _React$Component);\n\n    function RhsDropdown(props) {\n        (0, _classCallCheck3.default)(this, RhsDropdown);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsDropdown.__proto__ || (0, _getPrototypeOf2.default)(RhsDropdown)).call(this, props));\n\n        _this.toggleDropdown = _this.toggleDropdown.bind(_this);\n\n        _this.state = {\n            showDropdown: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsDropdown, [{\n        key: 'toggleDropdown',\n        value: function toggleDropdown() {\n            var showDropdown = !this.state.showDropdown;\n            if (Agent.isMobile() || Agent.isMobileApp()) {\n                var scroll = document.querySelector('.scrollbar--view');\n                if (showDropdown) {\n                    scroll.style.overflow = 'hidden';\n                } else {\n                    scroll.style.overflow = 'scroll';\n                }\n            }\n\n            this.setState({ showDropdown: showDropdown });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(\n                _reactBootstrap.Dropdown,\n                {\n                    id: 'rhs_dropdown',\n                    open: this.state.showDropdown,\n                    onToggle: this.toggleDropdown\n                },\n                _react2.default.createElement('a', {\n                    href: '#',\n                    className: 'post__dropdown dropdown-toggle',\n                    bsRole: 'toggle',\n                    onClick: this.toggleDropdown\n                }),\n                _react2.default.createElement(\n                    _rhs_dropdown_menu2.default,\n                    null,\n                    this.props.dropdownContents\n                )\n            );\n        }\n    }]);\n    return RhsDropdown;\n}(_react2.default.Component);\n\nexports.default = RhsDropdown;\n\n\nRhsDropdown.propTypes = {\n    dropdownContents: _react2.default.PropTypes.array.isRequired\n};\n\n/***/ }),\n\n/***/ 1778:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"files/a4a8b617d1f6c75ad4bf17bafc2aec6a.mp3\";\n\n/***/ }),\n\n/***/ 1795:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\nvar prefix = __webpack_require__(2170)\nvar toCamelCase = __webpack_require__(2199)\nvar cache = { 'float': 'cssFloat' }\nvar addPxToStyle = __webpack_require__(2068)\n\nfunction style (element, property, value) {\n  var camel = cache[property]\n  if (typeof camel === 'undefined') {\n    camel = detect(property)\n  }\n\n  // may be false if CSS prop is unsupported\n  if (camel) {\n    if (value === undefined) {\n      return element.style[camel]\n    }\n\n    element.style[camel] = addPxToStyle(camel, value)\n  }\n}\n\nfunction each (element, properties) {\n  for (var k in properties) {\n    if (properties.hasOwnProperty(k)) {\n      style(element, k, properties[k])\n    }\n  }\n}\n\nfunction detect (cssProp) {\n  var camel = toCamelCase(cssProp)\n  var result = prefix(camel)\n  cache[camel] = cache[cssProp] = cache[result] = result\n  return result\n}\n\nfunction set () {\n  if (arguments.length === 2) {\n    if (typeof arguments[1] === 'string') {\n      arguments[0].style.cssText = arguments[1]\n    } else {\n      each(arguments[0], arguments[1])\n    }\n  } else {\n    style(arguments[0], arguments[1], arguments[2])\n  }\n}\n\nmodule.exports = set\nmodule.exports.set = set\n\nmodule.exports.get = function (element, properties) {\n  if (Array.isArray(properties)) {\n    return properties.reduce(function (obj, prop) {\n      obj[prop] = style(element, prop || '')\n      return obj\n    }, {})\n  } else {\n    return style(element, properties || '')\n  }\n}\n\n\n\n/***/ }),\n\n/***/ 2001:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _suggestion_list = __webpack_require__(345);\n\nvar _suggestion_list2 = _interopRequireDefault(_suggestion_list);\n\nvar _suggestion_box = __webpack_require__(344);\n\nvar _suggestion_box2 = _interopRequireDefault(_suggestion_box);\n\nvar _switch_channel_provider = __webpack_require__(2044);\n\nvar _switch_channel_provider2 = _interopRequireDefault(_switch_channel_provider);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _channel_actions = __webpack_require__(47);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SwitchChannelModal = function (_React$Component) {\n    (0, _inherits3.default)(SwitchChannelModal, _React$Component);\n\n    function SwitchChannelModal() {\n        (0, _classCallCheck3.default)(this, SwitchChannelModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SwitchChannelModal.__proto__ || (0, _getPrototypeOf2.default)(SwitchChannelModal)).call(this));\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.onItemSelected = _this.onItemSelected.bind(_this);\n        _this.onShow = _this.onShow.bind(_this);\n        _this.onHide = _this.onHide.bind(_this);\n        _this.onExited = _this.onExited.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.switchToChannel = _this.switchToChannel.bind(_this);\n\n        _this.suggestionProviders = [new _switch_channel_provider2.default()];\n\n        _this.state = {\n            text: '',\n            error: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SwitchChannelModal, [{\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            if (this.props.show && !prevProps.show) {\n                var textbox = this.refs.search.getTextbox();\n                textbox.focus();\n                Utils.placeCaretAtEnd(textbox);\n            }\n        }\n    }, {\n        key: 'onShow',\n        value: function onShow() {\n            this.setState({\n                text: '',\n                error: ''\n            });\n        }\n    }, {\n        key: 'onHide',\n        value: function onHide() {\n            this.setState({\n                text: '',\n                error: ''\n            });\n            this.props.onHide();\n        }\n    }, {\n        key: 'onExited',\n        value: function onExited() {\n            this.selected = null;\n            setTimeout(function () {\n                (0, _jquery2.default)('#post_textbox').get(0).focus();\n            });\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange(e) {\n            this.setState({ text: e.target.value });\n            this.selected = null;\n        }\n    }, {\n        key: 'onItemSelected',\n        value: function onItemSelected(item) {\n            this.selected = item;\n        }\n    }, {\n        key: 'handleKeyDown',\n        value: function handleKeyDown(e) {\n            this.setState({\n                error: ''\n            });\n            if (e.keyCode === _constants2.default.KeyCodes.ENTER) {\n                this.handleSubmit();\n            }\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit() {\n            var _this2 = this;\n\n            var channel = null;\n\n            if (!this.selected) {\n                if (this.state.text !== '') {\n                    this.setState({\n                        error: Utils.localizeMessage('channel_switch_modal.not_found', 'No matches found.')\n                    });\n                }\n                return;\n            }\n\n            if (this.selected.type === _constants2.default.DM_CHANNEL) {\n                var user = _user_store2.default.getProfileByUsername(this.selected.name);\n\n                if (user) {\n                    (0, _channel_actions.openDirectChannelToUser)(user.id, function (ch) {\n                        channel = ch;\n                        _this2.switchToChannel(channel);\n                    }, function () {\n                        channel = null;\n                        _this2.switchToChannel(channel);\n                    });\n                }\n            } else {\n                channel = _channel_store2.default.get(this.selected.id);\n                this.switchToChannel(channel);\n            }\n        }\n    }, {\n        key: 'switchToChannel',\n        value: function switchToChannel(channel) {\n            if (channel !== null) {\n                (0, _channel_actions.goToChannel)(channel);\n                this.onHide();\n            } else if (this.state.text !== '') {\n                this.setState({\n                    error: Utils.localizeMessage('channel_switch_modal.failed_to_open', 'Failed to open channel.')\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var message = this.state.error;\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    dialogClassName: 'channel-switch-modal',\n                    ref: 'modal',\n                    show: this.props.show,\n                    onHide: this.onHide,\n                    onExited: this.onExited\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'channel_switch_modal.title',\n                                defaultMessage: 'Switch Channels'\n                            })\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal__hint' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_switch_modal.help',\n                            defaultMessage: 'Type channel name. Use \\u2191\\u2193 to browse, TAB to select, \\u21B5 to confirm, ESC to dismiss'\n                        })\n                    ),\n                    _react2.default.createElement(_suggestion_box2.default, {\n                        ref: 'search',\n                        className: 'form-control focused',\n                        type: 'input',\n                        onChange: this.onChange,\n                        value: this.state.text,\n                        onKeyDown: this.handleKeyDown,\n                        onItemSelected: this.onItemSelected,\n                        listComponent: _suggestion_list2.default,\n                        maxLength: '64',\n                        providers: this.suggestionProviders,\n                        listStyle: 'bottom'\n                    })\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Footer,\n                    null,\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal__error' },\n                        message\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'btn btn-default',\n                            onClick: this.onHide\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'edit_channel_header_modal.cancel',\n                            defaultMessage: 'Cancel'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'btn btn-primary',\n                            onClick: this.handleSubmit\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channel_switch_modal.submit',\n                            defaultMessage: 'Switch'\n                        })\n                    )\n                )\n            );\n        }\n    }]);\n    return SwitchChannelModal;\n}(_react2.default.Component);\n\nexports.default = SwitchChannelModal;\n\n\nSwitchChannelModal.propTypes = {\n    show: _react2.default.PropTypes.bool.isRequired,\n    onHide: _react2.default.PropTypes.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2002:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactDom = __webpack_require__(30);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _app_dispatcher = __webpack_require__(16);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _channel_actions = __webpack_require__(47);\n\nvar ChannelActions = _interopRequireWildcard(_channel_actions);\n\nvar _emoji_store = __webpack_require__(80);\n\nvar _emoji_store2 = _interopRequireDefault(_emoji_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _post_deleted_modal = __webpack_require__(596);\n\nvar _post_deleted_modal2 = _interopRequireDefault(_post_deleted_modal);\n\nvar _post_store = __webpack_require__(140);\n\nvar _post_store2 = _interopRequireDefault(_post_store);\n\nvar _preference_store = __webpack_require__(42);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _message_history_store = __webpack_require__(580);\n\nvar _message_history_store2 = _interopRequireDefault(_message_history_store);\n\nvar _textbox = __webpack_require__(579);\n\nvar _textbox2 = _interopRequireDefault(_textbox);\n\nvar _msg_typing = __webpack_require__(594);\n\nvar _msg_typing2 = _interopRequireDefault(_msg_typing);\n\nvar _file_upload = __webpack_require__(590);\n\nvar _file_upload2 = _interopRequireDefault(_file_upload);\n\nvar _file_preview = __webpack_require__(589);\n\nvar _file_preview2 = _interopRequireDefault(_file_preview);\n\nvar _emoji_picker = __webpack_require__(337);\n\nvar _emoji_picker2 = _interopRequireDefault(_emoji_picker);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _user_agent = __webpack_require__(59);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(104);\n\nvar PostActions = _interopRequireWildcard(_post_actions);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _es = __webpack_require__(37);\n\nvar _create_post = __webpack_require__(1673);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ActionTypes = _constants2.default.ActionTypes;\nvar KeyCodes = _constants2.default.KeyCodes;\n\nvar CreateComment = function (_React$Component) {\n    (0, _inherits3.default)(CreateComment, _React$Component);\n\n    function CreateComment(props) {\n        (0, _classCallCheck3.default)(this, CreateComment);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (CreateComment.__proto__ || (0, _getPrototypeOf2.default)(CreateComment)).call(this, props));\n\n        _this.lastTime = 0;\n\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleSubmitPost = _this.handleSubmitPost.bind(_this);\n        _this.handleSubmitReaction = _this.handleSubmitReaction.bind(_this);\n        _this.commentMsgKeyPress = _this.commentMsgKeyPress.bind(_this);\n        _this.handleChange = _this.handleChange.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n        _this.handleBlur = _this.handleBlur.bind(_this);\n        _this.handleFileUploadChange = _this.handleFileUploadChange.bind(_this);\n        _this.handleUploadStart = _this.handleUploadStart.bind(_this);\n        _this.handleFileUploadComplete = _this.handleFileUploadComplete.bind(_this);\n        _this.handleUploadError = _this.handleUploadError.bind(_this);\n        _this.removePreview = _this.removePreview.bind(_this);\n        _this.getFileCount = _this.getFileCount.bind(_this);\n        _this.getFileUploadTarget = _this.getFileUploadTarget.bind(_this);\n        _this.onPreferenceChange = _this.onPreferenceChange.bind(_this);\n        _this.focusTextbox = _this.focusTextbox.bind(_this);\n        _this.showPostDeletedModal = _this.showPostDeletedModal.bind(_this);\n        _this.hidePostDeletedModal = _this.hidePostDeletedModal.bind(_this);\n        _this.handlePostError = _this.handlePostError.bind(_this);\n        _this.handleEmojiPickerClick = _this.handleEmojiPickerClick.bind(_this);\n        _this.handleEmojiClick = _this.handleEmojiClick.bind(_this);\n        _this.onKeyPress = _this.onKeyPress.bind(_this);\n        _this.closeEmoji = _this.closeEmoji.bind(_this);\n\n        _post_store2.default.clearCommentDraftUploads();\n        _message_history_store2.default.resetHistoryIndex('comment');\n\n        var draft = _post_store2.default.getCommentDraft(_this.props.rootId);\n        var enableAddButton = _this.handleEnableAddButton(draft.message, draft.fileInfos);\n        _this.state = {\n            message: draft.message,\n            uploadsInProgress: draft.uploadsInProgress,\n            fileInfos: draft.fileInfos,\n            submitting: false,\n            ctrlSend: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n            showPostDeletedModal: false,\n            enableAddButton: enableAddButton,\n            showEmojiPicker: false,\n            emojiOffset: 0,\n            emojiPickerEnabled: Utils.isFeatureEnabled(_constants2.default.PRE_RELEASE_FEATURES.EMOJI_PICKER_PREVIEW)\n        };\n\n        _this.lastBlurAt = 0;\n        return _this;\n    }\n\n    (0, _createClass3.default)(CreateComment, [{\n        key: 'closeEmoji',\n        value: function closeEmoji(clickEvent) {\n            /*\n            if the user clicked something outside the component, except the RHS emojipicker icon\n            and the picker is open, then close it\n             */\n            if (clickEvent && clickEvent.srcElement && clickEvent.srcElement.className !== '' && clickEvent.srcElement.className.indexOf('emoji-rhs') === -1 && this.state.showEmojiPicker) {\n                this.setState({ showEmojiPicker: !this.state.showEmojiPicker });\n            }\n        }\n    }, {\n        key: 'handleEmojiPickerClick',\n        value: function handleEmojiPickerClick() {\n            var threadHeight = document.getElementById('thread--root') ? document.getElementById('thread--root').offsetHeight : 0;\n            var messagesHeight = document.querySelector('div.post-right-comments-container') ? document.querySelector('div.post-right-comments-container').offsetHeight : 0;\n\n            var totalHeight = threadHeight + messagesHeight;\n            var pickerOffset = 0;\n            if (totalHeight > 361) {\n                pickerOffset = -361;\n            } else {\n                pickerOffset = -1 * totalHeight;\n            }\n            this.setState({ showEmojiPicker: !this.state.showEmojiPicker, emojiOffset: pickerOffset });\n        }\n    }, {\n        key: 'handleEmojiClick',\n        value: function handleEmojiClick(emoji) {\n            var emojiAlias = emoji.name || emoji.aliases[0];\n\n            if (!emojiAlias) {\n                //Oops.. There went something wrong\n                return;\n            }\n\n            if (this.state.message === '') {\n                this.setState({ message: ':' + emojiAlias + ': ', showEmojiPicker: false });\n            } else {\n                //check whether there is already a blank at the end of the current message\n                var newMessage = /\\s+$/.test(this.state.message) ? this.state.message + ':' + emojiAlias + ': ' : this.state.message + ' :' + emojiAlias + ': ';\n\n                this.setState({ message: newMessage, showEmojiPicker: false });\n            }\n\n            this.focusTextbox();\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            document.addEventListener('keydown', this.onKeyPress);\n\n            this.focusTextbox();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n            document.removeEventListener('keydown', this.onKeyPress);\n        }\n    }, {\n        key: 'onKeyPress',\n        value: function onKeyPress(e) {\n            if (e.which === _constants2.default.KeyCodes.ESCAPE && this.state.showEmojiPicker === true) {\n                this.setState({ showEmojiPicker: !this.state.showEmojiPicker });\n            }\n        }\n    }, {\n        key: 'onPreferenceChange',\n        value: function onPreferenceChange() {\n            this.setState({\n                ctrlSend: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n                emojiPickerEnabled: Utils.isFeatureEnabled(_constants2.default.PRE_RELEASE_FEATURES.EMOJI_PICKER_PREVIEW)\n            });\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (prevState.uploadsInProgress < this.state.uploadsInProgress) {\n                (0, _jquery2.default)('.post-right__scroll').scrollTop((0, _jquery2.default)('.post-right__scroll')[0].scrollHeight);\n            }\n\n            if (prevProps.rootId !== this.props.rootId) {\n                this.focusTextbox();\n            }\n        }\n    }, {\n        key: 'handlePostError',\n        value: function handlePostError(postError) {\n            this.setState({ postError: postError });\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            var _this2 = this;\n\n            e.preventDefault();\n\n            if (this.state.uploadsInProgress.length > 0) {\n                return;\n            }\n\n            if (this.state.submitting) {\n                return;\n            }\n\n            var message = this.state.message;\n\n            if (this.state.postError) {\n                this.setState({ errorClass: 'animation--highlight' });\n                setTimeout(function () {\n                    _this2.setState({ errorClass: null });\n                }, _constants2.default.ANIMATION_TIMEOUT);\n                return;\n            }\n\n            _message_history_store2.default.storeMessageInHistory(message);\n            if (message.trim().length === 0 && this.state.fileInfos.length === 0) {\n                return;\n            }\n\n            var isReaction = _create_post.REACTION_PATTERN.exec(message);\n            if (isReaction && _emoji_store2.default.has(isReaction[2])) {\n                this.handleSubmitReaction(isReaction);\n            } else if (message.indexOf('/') === 0) {\n                this.handleSubmitCommand(message);\n            } else {\n                this.handleSubmitPost(message);\n            }\n\n            this.setState({\n                message: '',\n                submitting: false,\n                postError: null,\n                fileInfos: [],\n                serverError: null,\n                enableAddButton: false\n            });\n\n            var fasterThanHumanWillClick = 150;\n            var forceFocus = Date.now() - this.lastBlurAt < fasterThanHumanWillClick;\n            this.focusTextbox(forceFocus);\n        }\n    }, {\n        key: 'handleSubmitCommand',\n        value: function handleSubmitCommand(message) {\n            var _this3 = this;\n\n            _post_store2.default.storeCommentDraft(this.props.rootId, null);\n            this.setState({\n                message: '',\n                postError: null,\n                fileInfos: [],\n                enableAddButton: false\n            });\n\n            var args = {};\n            args.channel_id = this.props.channelId;\n            args.root_id = this.props.rootId;\n            args.parent_id = this.props.rootId;\n            ChannelActions.executeCommand(message, args, function (data) {\n                _this3.setState({ submitting: false });\n                if (data.goto_location && data.goto_location.length > 0) {\n                    _es.browserHistory.push(data.goto_location);\n                }\n            }, function (err) {\n                if (err.sendMessage) {\n                    _this3.handleSubmitPost(message);\n                } else {\n                    var state = {};\n                    state.serverError = err.message;\n                    state.submitting = false;\n                    _this3.setState(state);\n                }\n            });\n        }\n    }, {\n        key: 'handleSubmitPost',\n        value: function handleSubmitPost(message) {\n            var _this4 = this;\n\n            var userId = _user_store2.default.getCurrentId();\n            var time = Utils.getTimestamp();\n\n            var post = {};\n            post.file_ids = [];\n            post.message = message;\n            post.channel_id = this.props.channelId;\n            post.root_id = this.props.rootId;\n            post.parent_id = this.props.rootId;\n            post.file_ids = this.state.fileInfos.map(function (info) {\n                return info.id;\n            });\n            post.pending_post_id = userId + ':' + time;\n            post.user_id = userId;\n            post.create_at = time;\n\n            GlobalActions.emitUserCommentedEvent(post);\n\n            var emojiResult = post.message.match(_create_post.EMOJI_PATTERN);\n            if (emojiResult) {\n                // parse message and emit emoji event\n                emojiResult.forEach(function (emoji) {\n                    PostActions.emitEmojiPosted(emoji);\n                });\n            }\n\n            PostActions.queuePost(post, false, null, function (err) {\n                if (err.id === 'api.post.create_post.root_id.app_error') {\n                    _this4.showPostDeletedModal();\n                    _post_store2.default.removePendingPost(post.channel_id, post.pending_post_id);\n                    _this4.setState({ message: post.message });\n                } else {\n                    _this4.forceUpdate();\n                }\n\n                _this4.setState({\n                    submitting: false\n                });\n            });\n\n            this.setState({\n                message: '',\n                submitting: false,\n                postError: null,\n                fileInfos: [],\n                serverError: null,\n                enableAddButton: false\n            });\n\n            var fasterThanHumanWillClick = 150;\n            var forceFocus = Date.now() - this.state.lastBlurAt < fasterThanHumanWillClick;\n            this.focusTextbox(forceFocus);\n        }\n    }, {\n        key: 'handleSubmitReaction',\n        value: function handleSubmitReaction(isReaction) {\n            var action = isReaction[1];\n\n            var emojiName = isReaction[2];\n            var postId = this.props.latestPostId;\n\n            if (action === '+') {\n                PostActions.addReaction(this.props.channelId, postId, emojiName);\n            } else if (action === '-') {\n                PostActions.removeReaction(this.props.channelId, postId, emojiName);\n            }\n\n            _post_store2.default.storeCommentDraft(this.props.rootId, null);\n        }\n    }, {\n        key: 'commentMsgKeyPress',\n        value: function commentMsgKeyPress(e) {\n            if (!UserAgent.isMobile() && (this.state.ctrlSend && e.ctrlKey || !this.state.ctrlSend)) {\n                if (e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n                    e.preventDefault();\n                    _reactDom2.default.findDOMNode(this.refs.textbox).blur();\n                    this.handleSubmit(e);\n                }\n            }\n\n            GlobalActions.emitLocalUserTypingEvent(this.props.channelId, this.props.rootId);\n        }\n    }, {\n        key: 'handleChange',\n        value: function handleChange(e) {\n            var message = e.target.value;\n\n            var draft = _post_store2.default.getCommentDraft(this.props.rootId);\n            draft.message = message;\n            _post_store2.default.storeCommentDraft(this.props.rootId, draft);\n\n            (0, _jquery2.default)('.post-right__scroll').parent().scrollTop((0, _jquery2.default)('.post-right__scroll')[0].scrollHeight);\n\n            var enableAddButton = this.handleEnableAddButton(message, this.state.fileInfos);\n\n            this.setState({\n                message: message,\n                enableAddButton: enableAddButton\n            });\n        }\n    }, {\n        key: 'handleKeyDown',\n        value: function handleKeyDown(e) {\n            if (this.state.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey === true) {\n                this.commentMsgKeyPress(e);\n                return;\n            }\n\n            if (!e.ctrlKey && !e.metaKey && !e.altKey && !e.shiftKey && e.keyCode === KeyCodes.UP && this.state.message === '') {\n                e.preventDefault();\n\n                var lastPost = _post_store2.default.getCurrentUsersLatestPost(this.props.channelId, this.props.rootId);\n                if (!lastPost) {\n                    return;\n                }\n\n                _app_dispatcher2.default.handleViewAction({\n                    type: ActionTypes.RECEIVED_EDIT_POST,\n                    refocusId: '#reply_textbox',\n                    title: Utils.localizeMessage('create_comment.commentTitle', 'Comment'),\n                    message: lastPost.message,\n                    postId: lastPost.id,\n                    channelId: lastPost.channel_id,\n                    comments: _post_store2.default.getCommentCount(lastPost)\n                });\n            }\n\n            if ((e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey && (e.keyCode === _constants2.default.KeyCodes.UP || e.keyCode === _constants2.default.KeyCodes.DOWN)) {\n                var lastMessage = _message_history_store2.default.nextMessageInHistory(e.keyCode, this.state.message, 'comment');\n                if (lastMessage !== null) {\n                    e.preventDefault();\n                    this.setState({\n                        message: lastMessage,\n                        enableAddButton: true\n                    });\n                }\n            }\n        }\n    }, {\n        key: 'handleFileUploadChange',\n        value: function handleFileUploadChange() {\n            this.focusTextbox();\n        }\n    }, {\n        key: 'handleUploadStart',\n        value: function handleUploadStart(clientIds) {\n            var draft = _post_store2.default.getCommentDraft(this.props.rootId);\n\n            draft.uploadsInProgress = draft.uploadsInProgress.concat(clientIds);\n            _post_store2.default.storeCommentDraft(this.props.rootId, draft);\n\n            this.setState({ uploadsInProgress: draft.uploadsInProgress });\n\n            // this is a bit redundant with the code that sets focus when the file input is clicked,\n            // but this also resets the focus after a drag and drop\n            this.focusTextbox();\n        }\n    }, {\n        key: 'handleFileUploadComplete',\n        value: function handleFileUploadComplete(fileInfos, clientIds) {\n            var draft = _post_store2.default.getCommentDraft(this.props.rootId);\n\n            // remove each finished file from uploads\n            for (var i = 0; i < clientIds.length; i++) {\n                var index = draft.uploadsInProgress.indexOf(clientIds[i]);\n\n                if (index !== -1) {\n                    draft.uploadsInProgress.splice(index, 1);\n                }\n            }\n\n            draft.fileInfos = draft.fileInfos.concat(fileInfos);\n            _post_store2.default.storeCommentDraft(this.props.rootId, draft);\n\n            // Focus on preview if needed\n            this.refs.preview.refs.container.scrollIntoView();\n\n            var enableAddButton = this.handleEnableAddButton(draft.message, draft.fileInfos);\n\n            this.setState({\n                uploadsInProgress: draft.uploadsInProgress,\n                fileInfos: draft.fileInfos,\n                enableAddButton: enableAddButton\n            });\n        }\n    }, {\n        key: 'handleUploadError',\n        value: function handleUploadError(err, clientId) {\n            if (clientId === -1) {\n                this.setState({ serverError: err });\n            } else {\n                var draft = _post_store2.default.getCommentDraft(this.props.rootId);\n\n                var index = draft.uploadsInProgress.indexOf(clientId);\n                if (index !== -1) {\n                    draft.uploadsInProgress.splice(index, 1);\n                }\n\n                _post_store2.default.storeCommentDraft(this.props.rootId, draft);\n\n                this.setState({ uploadsInProgress: draft.uploadsInProgress, serverError: err });\n            }\n        }\n    }, {\n        key: 'removePreview',\n        value: function removePreview(id) {\n            var fileInfos = this.state.fileInfos;\n            var uploadsInProgress = this.state.uploadsInProgress;\n\n            // Clear previous errors\n            this.handleUploadError(null);\n\n            // id can either be the id of an uploaded file or the client id of an in progress upload\n            var index = fileInfos.findIndex(function (info) {\n                return info.id === id;\n            });\n            if (index === -1) {\n                index = uploadsInProgress.indexOf(id);\n\n                if (index !== -1) {\n                    uploadsInProgress.splice(index, 1);\n                    this.refs.fileUpload.getWrappedInstance().cancelUpload(id);\n                }\n            } else {\n                fileInfos.splice(index, 1);\n            }\n\n            var draft = _post_store2.default.getCommentDraft(this.props.rootId);\n            draft.fileInfos = fileInfos;\n            draft.uploadsInProgress = uploadsInProgress;\n            _post_store2.default.storeCommentDraft(this.props.rootId, draft);\n\n            this.setState({ fileInfos: fileInfos, uploadsInProgress: uploadsInProgress });\n\n            this.handleFileUploadChange();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.rootId !== this.props.rootId) {\n                var draft = _post_store2.default.getCommentDraft(newProps.rootId);\n                var enableAddButton = this.handleEnableAddButton(draft.message, draft.fileInfos);\n                this.setState({\n                    message: draft.message,\n                    uploadsInProgress: draft.uploadsInProgress,\n                    fileInfos: draft.fileInfos,\n                    enableAddButton: enableAddButton\n                });\n            }\n        }\n    }, {\n        key: 'getFileCount',\n        value: function getFileCount() {\n            return this.state.fileInfos.length + this.state.uploadsInProgress.length;\n        }\n    }, {\n        key: 'getFileUploadTarget',\n        value: function getFileUploadTarget() {\n            return this.refs.textbox;\n        }\n    }, {\n        key: 'focusTextbox',\n        value: function focusTextbox() {\n            var keepFocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            if (keepFocus || !Utils.isMobile()) {\n                this.refs.textbox.focus();\n            }\n        }\n    }, {\n        key: 'showPostDeletedModal',\n        value: function showPostDeletedModal() {\n            this.setState({\n                showPostDeletedModal: true\n            });\n        }\n    }, {\n        key: 'hidePostDeletedModal',\n        value: function hidePostDeletedModal() {\n            this.setState({\n                showPostDeletedModal: false\n            });\n        }\n    }, {\n        key: 'handleBlur',\n        value: function handleBlur() {\n            this.lastBlurAt = Date.now();\n        }\n    }, {\n        key: 'handleEnableAddButton',\n        value: function handleEnableAddButton(message, fileInfos) {\n            return message.trim().length !== 0 || fileInfos.length !== 0;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.serverError\n                    )\n                );\n            }\n\n            var postError = null;\n            if (this.state.postError) {\n                var postErrorClass = 'post-error' + (this.state.errorClass ? ' ' + this.state.errorClass : '');\n                postError = _react2.default.createElement(\n                    'label',\n                    { className: postErrorClass },\n                    this.state.postError\n                );\n            }\n\n            var preview = null;\n            if (this.state.fileInfos.length > 0 || this.state.uploadsInProgress.length > 0) {\n                preview = _react2.default.createElement(_file_preview2.default, {\n                    fileInfos: this.state.fileInfos,\n                    onRemove: this.removePreview,\n                    uploadsInProgress: this.state.uploadsInProgress,\n                    ref: 'preview'\n                });\n            }\n\n            var uploadsInProgressText = null;\n            if (this.state.uploadsInProgress.length > 0) {\n                uploadsInProgressText = _react2.default.createElement(\n                    'span',\n                    { className: 'pull-right post-right-comments-upload-in-progress' },\n                    this.state.uploadsInProgress.length === 1 ? _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'create_comment.file',\n                        defaultMessage: 'File uploading'\n                    }) : _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'create_comment.files',\n                        defaultMessage: 'Files uploading'\n                    })\n                );\n            }\n\n            var addButtonClass = 'btn btn-primary comment-btn pull-right';\n            if (!this.state.enableAddButton) {\n                addButtonClass += ' disabled';\n            }\n\n            var emojiPicker = null;\n            if (this.state.showEmojiPicker) {\n                emojiPicker = _react2.default.createElement(_emoji_picker2.default, {\n                    onEmojiClick: this.handleEmojiClick,\n                    pickerLocation: 'bottom',\n                    emojiOffset: this.state.emojiOffset,\n                    outsideClick: this.closeEmoji\n                });\n            }\n\n            return _react2.default.createElement(\n                'form',\n                { onSubmit: this.handleSubmit },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post-create' },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            id: this.props.rootId,\n                            className: 'post-create-body comment-create-body'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post-body__cell' },\n                            _react2.default.createElement(_textbox2.default, {\n                                onChange: this.handleChange,\n                                onKeyPress: this.commentMsgKeyPress,\n                                onKeyDown: this.handleKeyDown,\n                                handlePostError: this.handlePostError,\n                                value: this.state.message,\n                                onBlur: this.handleBlur,\n                                createMessage: Utils.localizeMessage('create_comment.addComment', 'Add a comment...'),\n                                emojiEnabled: this.state.emojiPickerEnabled,\n                                initialText: '',\n                                channelId: this.props.channelId,\n                                id: 'reply_textbox',\n                                ref: 'textbox'\n                            }),\n                            _react2.default.createElement(_file_upload2.default, {\n                                ref: 'fileUpload',\n                                getFileCount: this.getFileCount,\n                                getTarget: this.getFileUploadTarget,\n                                onFileUploadChange: this.handleFileUploadChange,\n                                onUploadStart: this.handleUploadStart,\n                                onFileUpload: this.handleFileUploadComplete,\n                                onUploadError: this.handleUploadError,\n                                postType: 'comment',\n                                channelId: this.props.channelId,\n                                onEmojiClick: this.handleEmojiPickerClick,\n                                emojiEnabled: this.state.emojiPickerEnabled,\n                                navBarName: 'rhs'\n                            }),\n                            emojiPicker\n                        )\n                    ),\n                    _react2.default.createElement(_msg_typing2.default, {\n                        channelId: this.props.channelId,\n                        parentId: this.props.rootId\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'post-create-footer' },\n                        _react2.default.createElement('input', {\n                            type: 'button',\n                            className: addButtonClass,\n                            value: Utils.localizeMessage('create_comment.comment', 'Add Comment'),\n                            onClick: this.handleSubmit\n                        }),\n                        uploadsInProgressText,\n                        postError,\n                        preview,\n                        serverError\n                    )\n                ),\n                _react2.default.createElement(_post_deleted_modal2.default, {\n                    show: this.state.showPostDeletedModal,\n                    onHide: this.hidePostDeletedModal\n                })\n            );\n        }\n    }]);\n    return CreateComment;\n}(_react2.default.Component);\n\nexports.default = CreateComment;\n\n\nCreateComment.propTypes = {\n    channelId: _react2.default.PropTypes.string.isRequired,\n    rootId: _react2.default.PropTypes.string.isRequired,\n    latestPostId: _react2.default.PropTypes.string\n};\n\n/***/ }),\n\n/***/ 2003:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactDom = __webpack_require__(30);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _modal_store = __webpack_require__(1661);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _post_actions = __webpack_require__(104);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActionTypes = _constants2.default.ActionTypes; // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar DeletePostModal = function (_React$Component) {\n    (0, _inherits3.default)(DeletePostModal, _React$Component);\n\n    function DeletePostModal(props) {\n        (0, _classCallCheck3.default)(this, DeletePostModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (DeletePostModal.__proto__ || (0, _getPrototypeOf2.default)(DeletePostModal)).call(this, props));\n\n        _this.handleDelete = _this.handleDelete.bind(_this);\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n\n        _this.state = {\n            show: false,\n            post: null,\n            commentCount: 0,\n            error: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(DeletePostModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            var _this2 = this;\n\n            if (this.state.show && !prevState.show) {\n                setTimeout(function () {\n                    (0, _jquery2.default)(_reactDom2.default.findDOMNode(_this2.refs.deletePostBtn)).focus();\n                }, 0);\n            }\n        }\n    }, {\n        key: 'handleDelete',\n        value: function handleDelete() {\n            var _this3 = this;\n\n            (0, _post_actions.deletePost)(this.state.post.channel_id, this.state.post, function () {\n                _this3.handleHide();\n            }, function (err) {\n                _this3.setState({ error: err.message });\n            });\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value, args) {\n            this.setState({\n                show: value,\n                post: args.post,\n                commentCount: args.commentCount,\n                error: ''\n            });\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({ show: false });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.state.post) {\n                return null;\n            }\n\n            var error = null;\n            if (this.state.error) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.error\n                    )\n                );\n            }\n\n            var commentWarning = '';\n            if (this.state.commentCount > 0) {\n                commentWarning = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'delete_post.warning',\n                    defaultMessage: 'This post has {count} comment(s) on it.',\n                    values: {\n                        count: this.state.commentCount\n                    }\n                });\n            }\n\n            var postTerm = this.state.post.root_id ? _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'delete_post.comment',\n                defaultMessage: 'Comment'\n            }) : _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'delete_post.post',\n                defaultMessage: 'Post'\n            });\n\n            return _react2.default.createElement(\n                _reactBootstrap.Modal,\n                {\n                    show: this.state.show,\n                    onHide: this.handleHide\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Header,\n                    { closeButton: true },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Title,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'delete_post.confirm',\n                            defaultMessage: 'Confirm {term} Delete',\n                            values: {\n                                term: postTerm\n                            }\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Body,\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'delete_post.question',\n                        defaultMessage: 'Are you sure you want to delete this {term}?',\n                        values: {\n                            term: postTerm\n                        }\n                    }),\n                    _react2.default.createElement('br', null),\n                    _react2.default.createElement('br', null),\n                    commentWarning,\n                    error\n                ),\n                _react2.default.createElement(\n                    _reactBootstrap.Modal.Footer,\n                    null,\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'btn btn-default',\n                            onClick: this.handleHide\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'delete_post.cancel',\n                            defaultMessage: 'Cancel'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            ref: 'deletePostBtn',\n                            type: 'button',\n                            className: 'btn btn-danger',\n                            onClick: this.handleDelete\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'delete_post.del',\n                            defaultMessage: 'Delete'\n                        })\n                    )\n                )\n            );\n        }\n    }]);\n    return DeletePostModal;\n}(_react2.default.Component);\n\nexports.default = DeletePostModal;\n\n/***/ }),\n\n/***/ 2004:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _deleteProperty = __webpack_require__(92);\n\nvar _deleteProperty2 = _interopRequireDefault(_deleteProperty);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _textbox = __webpack_require__(579);\n\nvar _textbox2 = _interopRequireDefault(_textbox);\n\nvar _browser_store = __webpack_require__(79);\n\nvar _browser_store2 = _interopRequireDefault(_browser_store);\n\nvar _post_store = __webpack_require__(140);\n\nvar _post_store2 = _interopRequireDefault(_post_store);\n\nvar _message_history_store = __webpack_require__(580);\n\nvar _message_history_store2 = _interopRequireDefault(_message_history_store);\n\nvar _preference_store = __webpack_require__(42);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(104);\n\nvar _user_agent = __webpack_require__(59);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(30);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(13);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar KeyCodes = _constants2.default.KeyCodes;\n\nvar EditPostModal = function (_React$Component) {\n    (0, _inherits3.default)(EditPostModal, _React$Component);\n\n    function EditPostModal(props) {\n        (0, _classCallCheck3.default)(this, EditPostModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (EditPostModal.__proto__ || (0, _getPrototypeOf2.default)(EditPostModal)).call(this, props));\n\n        _this.handleEdit = _this.handleEdit.bind(_this);\n        _this.handleEditKeyPress = _this.handleEditKeyPress.bind(_this);\n        _this.handleEditPostEvent = _this.handleEditPostEvent.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n        _this.handleChange = _this.handleChange.bind(_this);\n        _this.onPreferenceChange = _this.onPreferenceChange.bind(_this);\n        _this.onModalHidden = _this.onModalHidden.bind(_this);\n        _this.onModalShow = _this.onModalShow.bind(_this);\n        _this.onModalShown = _this.onModalShown.bind(_this);\n        _this.onModalHide = _this.onModalHide.bind(_this);\n        _this.onModalKeyDown = _this.onModalKeyDown.bind(_this);\n        _this.handlePostError = _this.handlePostError.bind(_this);\n\n        _this.state = {\n            editText: '',\n            originalText: '',\n            title: '',\n            post_id: '',\n            channel_id: '',\n            comments: 0,\n            refocusId: '',\n            ctrlSend: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n            postError: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(EditPostModal, [{\n        key: 'handlePostError',\n        value: function handlePostError(postError) {\n            if (this.state.postError !== postError) {\n                this.setState({ postError: postError });\n            }\n        }\n    }, {\n        key: 'handleEdit',\n        value: function handleEdit() {\n            var _this2 = this;\n\n            var updatedPost = {\n                message: this.state.editText,\n                id: this.state.post_id,\n                channel_id: this.state.channel_id\n            };\n\n            if (this.state.postError) {\n                this.setState({ errorClass: 'animation--highlight' });\n                setTimeout(function () {\n                    _this2.setState({ errorClass: null });\n                }, _constants2.default.ANIMATION_TIMEOUT);\n                return;\n            }\n\n            if (updatedPost.message === this.state.originalText) {\n                // no changes so just close the modal\n                (0, _jquery2.default)('#edit_post').modal('hide');\n                return;\n            }\n\n            _message_history_store2.default.storeMessageInHistory(updatedPost.message);\n\n            if (updatedPost.message.trim().length === 0) {\n                var tempState = this.state;\n                (0, _deleteProperty2.default)(tempState, 'editText');\n                _browser_store2.default.setItem('edit_state_transfer', tempState);\n                (0, _jquery2.default)('#edit_post').modal('hide');\n                GlobalActions.showDeletePostModal(_post_store2.default.getPost(this.state.channel_id, this.state.post_id), this.state.comments);\n                return;\n            }\n\n            (0, _post_actions.updatePost)(updatedPost, function () {\n                window.scrollTo(0, 0);\n            }, Boolean(_post_store2.default.getFocusedPostId()) // If there is focused post we need to update that post's store too.\n            );\n\n            (0, _jquery2.default)('#edit_post').modal('hide');\n        }\n    }, {\n        key: 'handleChange',\n        value: function handleChange(e) {\n            var message = e.target.value;\n            this.setState({\n                editText: message\n            });\n        }\n    }, {\n        key: 'handleEditKeyPress',\n        value: function handleEditKeyPress(e) {\n            if (!UserAgent.isMobile() && !this.state.ctrlSend && e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n                e.preventDefault();\n                _reactDom2.default.findDOMNode(this.refs.editbox).blur();\n                this.handleEdit();\n            } else if (this.state.ctrlSend && e.ctrlKey && e.which === KeyCodes.ENTER) {\n                e.preventDefault();\n                _reactDom2.default.findDOMNode(this.refs.editbox).blur();\n                this.handleEdit();\n            }\n        }\n    }, {\n        key: 'handleEditPostEvent',\n        value: function handleEditPostEvent(options) {\n            var post = _post_store2.default.getPost(options.channelId, options.postId);\n            if (global.window.mm_license.IsLicensed === 'true') {\n                if (global.window.mm_config.AllowEditPost === _constants2.default.ALLOW_EDIT_POST_NEVER) {\n                    return;\n                }\n                if (global.window.mm_config.AllowEditPost === _constants2.default.ALLOW_EDIT_POST_TIME_LIMIT) {\n                    if (post.create_at + global.window.mm_config.PostEditTimeLimit * 1000 < Utils.getTimestamp()) {\n                        return;\n                    }\n                }\n            }\n            this.setState({\n                editText: options.message || '',\n                originalText: options.message || '',\n                title: options.title || '',\n                post_id: options.postId || '',\n                channel_id: options.channelId || '',\n                comments: options.comments || 0,\n                refocusId: options.refocusId || ''\n            });\n\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.modal)).modal('show');\n        }\n    }, {\n        key: 'handleKeyDown',\n        value: function handleKeyDown(e) {\n            if (this.state.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey === true) {\n                this.handleEdit();\n            }\n        }\n    }, {\n        key: 'onPreferenceChange',\n        value: function onPreferenceChange() {\n            this.setState({\n                ctrlSend: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter')\n            });\n        }\n    }, {\n        key: 'onModalHidden',\n        value: function onModalHidden() {\n            this.setState({ editText: '', originalText: '', title: '', channel_id: '', post_id: '', comments: 0, refocusId: '', error: '', typing: false });\n        }\n    }, {\n        key: 'onModalShow',\n        value: function onModalShow(e) {\n            var button = e.relatedTarget;\n            if (!button) {\n                return;\n            }\n            this.setState({\n                editText: (0, _jquery2.default)(button).attr('data-message'),\n                originalText: (0, _jquery2.default)(button).attr('data-message'),\n                title: (0, _jquery2.default)(button).attr('data-title'),\n                channel_id: (0, _jquery2.default)(button).attr('data-channelid'),\n                post_id: (0, _jquery2.default)(button).attr('data-postid'),\n                comments: (0, _jquery2.default)(button).attr('data-comments'),\n                refocusId: (0, _jquery2.default)(button).attr('data-refocusid'),\n                typing: false\n            });\n        }\n    }, {\n        key: 'onModalShown',\n        value: function onModalShown() {\n            this.refs.editbox.focus();\n\n            this.refs.editbox.recalculateSize();\n        }\n    }, {\n        key: 'onModalHide',\n        value: function onModalHide() {\n            var _this3 = this;\n\n            this.refs.editbox.hidePreview();\n\n            if (this.state.refocusId !== '') {\n                setTimeout(function () {\n                    var element = (0, _jquery2.default)(_this3.state.refocusId).get(0);\n                    if (element) {\n                        element.focus();\n                    }\n                });\n            }\n        }\n    }, {\n        key: 'onModalKeyDown',\n        value: function onModalKeyDown(e) {\n            if (e.which === _constants2.default.KeyCodes.ESCAPE) {\n                e.stopPropagation();\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            (0, _jquery2.default)(this.refs.modal).on('hidden.bs.modal', this.onModalHidden);\n            (0, _jquery2.default)(this.refs.modal).on('show.bs.modal', this.onModalShow);\n            (0, _jquery2.default)(this.refs.modal).on('shown.bs.modal', this.onModalShown);\n            (0, _jquery2.default)(this.refs.modal).on('hide.bs.modal', this.onModalHide);\n            (0, _jquery2.default)(this.refs.modal).on('keydown', this.onModalKeyDown);\n            _post_store2.default.addEditPostListener(this.handleEditPostEvent);\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)(this.refs.modal).off('hidden.bs.modal', this.onModalHidden);\n            (0, _jquery2.default)(this.refs.modal).off('show.bs.modal', this.onModalShow);\n            (0, _jquery2.default)(this.refs.modal).off('shown.bs.modal', this.onModalShown);\n            (0, _jquery2.default)(this.refs.modal).off('hide.bs.modal', this.onModalHide);\n            (0, _jquery2.default)(this.refs.modal).off('keydown', this.onModalKeyDown);\n            _post_store2.default.removeEditPostListner(this.handleEditPostEvent);\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var errorBoxClass = 'edit-post-footer' + (this.state.postError ? ' has-error' : '');\n            var postError = null;\n            if (this.state.postError) {\n                var postErrorClass = 'post-error' + (this.state.errorClass ? ' ' + this.state.errorClass : '');\n                postError = _react2.default.createElement(\n                    'label',\n                    { className: postErrorClass },\n                    this.state.postError\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'modal fade edit-modal',\n                    ref: 'modal',\n                    id: 'edit_post',\n                    role: 'dialog',\n                    tabIndex: '-1',\n                    'aria-hidden': 'true'\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-dialog modal-push-down modal-xl' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal-content' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-header' },\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'close',\n                                    'data-dismiss': 'modal',\n                                    'aria-label': 'Close'\n                                },\n                                _react2.default.createElement(\n                                    'span',\n                                    { 'aria-hidden': 'true' },\n                                    ''\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'h4',\n                                { className: 'modal-title' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'edit_post.edit',\n                                    defaultMessage: 'Edit {title}',\n                                    values: {\n                                        title: this.state.title\n                                    }\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'edit-modal-body modal-body' },\n                            _react2.default.createElement(_textbox2.default, {\n                                onChange: this.handleChange,\n                                onKeyPress: this.handleEditKeyPress,\n                                onKeyDown: this.handleKeyDown,\n                                handlePostError: this.handlePostError,\n                                value: this.state.editText,\n                                channelId: this.state.channel_id,\n                                createMessage: Utils.localizeMessage('edit_post.editPost', 'Edit the post...'),\n                                supportsCommands: false,\n                                suggestionListStyle: 'bottom',\n                                id: 'edit_textbox',\n                                ref: 'editbox'\n                            }),\n                            _react2.default.createElement(\n                                'div',\n                                { className: errorBoxClass },\n                                postError\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-footer' },\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-default',\n                                    'data-dismiss': 'modal'\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'edit_post.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-primary',\n                                    onClick: this.handleEdit\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'edit_post.save',\n                                    defaultMessage: 'Save'\n                                })\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return EditPostModal;\n}(_react2.default.Component);\n\nexports.default = EditPostModal;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ }),\n\n/***/ 2007:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _get_link_modal = __webpack_require__(1763);\n\nvar _get_link_modal2 = _interopRequireDefault(_get_link_modal);\n\nvar _modal_store = __webpack_require__(1661);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsPureRenderMixin = __webpack_require__(245);\n\nvar _reactAddonsPureRenderMixin2 = _interopRequireDefault(_reactAddonsPureRenderMixin);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GetPostLinkModal = function (_React$Component) {\n    (0, _inherits3.default)(GetPostLinkModal, _React$Component);\n\n    function GetPostLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetPostLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetPostLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetPostLinkModal)).call(this, props));\n\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.hide = _this.hide.bind(_this);\n\n        _this.shouldComponentUpdate = _reactAddonsPureRenderMixin2.default.shouldComponentUpdate.bind(_this);\n\n        _this.state = {\n            show: false,\n            post: {}\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetPostLinkModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value, args) {\n            this.setState({\n                show: value,\n                post: args.post\n            });\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.setState({\n                show: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(_get_link_modal2.default, {\n                show: this.state.show,\n                onHide: this.hide,\n                title: Utils.localizeMessage('get_post_link_modal.title', 'Copy Permalink'),\n                helpText: Utils.localizeMessage('get_post_link_modal.help', 'The link below allows authorized users to see your post.'),\n                link: _team_store2.default.getCurrentTeamUrl() + '/pl/' + this.state.post.id\n            });\n        }\n    }]);\n    return GetPostLinkModal;\n}(_react2.default.Component); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = GetPostLinkModal;\n\n/***/ }),\n\n/***/ 2008:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _async_client = __webpack_require__(20);\n\nvar AsyncClient = _interopRequireWildcard(_async_client);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _modal_store = __webpack_require__(1661);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _reactAddonsPureRenderMixin = __webpack_require__(245);\n\nvar _reactAddonsPureRenderMixin2 = _interopRequireDefault(_reactAddonsPureRenderMixin);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _get_link_modal = __webpack_require__(1763);\n\nvar _get_link_modal2 = _interopRequireDefault(_get_link_modal);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GetPublicLinkModal = function (_React$Component) {\n    (0, _inherits3.default)(GetPublicLinkModal, _React$Component);\n\n    function GetPublicLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetPublicLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetPublicLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetPublicLinkModal)).call(this, props));\n\n        _this.handlePublicLink = _this.handlePublicLink.bind(_this);\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.hide = _this.hide.bind(_this);\n\n        _this.shouldComponentUpdate = _reactAddonsPureRenderMixin2.default.shouldComponentUpdate.bind(_this);\n\n        _this.state = {\n            show: false,\n            fileId: '',\n            link: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetPublicLinkModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (this.state.show && !prevState.show) {\n                AsyncClient.getPublicLink(this.state.fileId, this.handlePublicLink);\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'handlePublicLink',\n        value: function handlePublicLink(link) {\n            this.setState({\n                link: link\n            });\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value, args) {\n            this.setState({\n                show: value,\n                fileId: args.fileId,\n                link: ''\n            });\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.setState({\n                show: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(_get_link_modal2.default, {\n                show: this.state.show,\n                onHide: this.hide,\n                title: Utils.localizeMessage('get_public_link_modal.title', 'Copy Public Link'),\n                helpText: Utils.localizeMessage('get_public_link_modal.help', 'The link below allows anyone to see this file without being registered on this server.'),\n                link: this.state.link\n            });\n        }\n    }]);\n    return GetPublicLinkModal;\n}(_react2.default.Component); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = GetPublicLinkModal;\n\n/***/ }),\n\n/***/ 2009:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _get_link_modal = __webpack_require__(1763);\n\nvar _get_link_modal2 = _interopRequireDefault(_get_link_modal);\n\nvar _modal_store = __webpack_require__(1661);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddonsPureRenderMixin = __webpack_require__(245);\n\nvar _reactAddonsPureRenderMixin2 = _interopRequireDefault(_reactAddonsPureRenderMixin);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GetTeamInviteLinkModal = function (_React$Component) {\n    (0, _inherits3.default)(GetTeamInviteLinkModal, _React$Component);\n\n    function GetTeamInviteLinkModal(props) {\n        (0, _classCallCheck3.default)(this, GetTeamInviteLinkModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GetTeamInviteLinkModal.__proto__ || (0, _getPrototypeOf2.default)(GetTeamInviteLinkModal)).call(this, props));\n\n        _this.handleToggle = _this.handleToggle.bind(_this);\n\n        _this.shouldComponentUpdate = _reactAddonsPureRenderMixin2.default.shouldComponentUpdate.bind(_this);\n\n        _this.state = {\n            show: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(GetTeamInviteLinkModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants2.default.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants2.default.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                show: value\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var helpText = void 0;\n            if (global.window.mm_config.EnableUserCreation === 'true') {\n                helpText = Utils.localizeMessage('get_team_invite_link_modal.help', 'Send teammates the link below for them to sign-up to this team site. The Team Invite Link can be shared with multiple teammates as it does not change unless it\\'s regenerated in Team Settings by a Team Admin.');\n            } else {\n                helpText = Utils.localizeMessage('get_team_invite_link_modal.helpDisabled', 'User creation has been disabled for your team. Please ask your team administrator for details.');\n            }\n\n            return _react2.default.createElement(_get_link_modal2.default, {\n                show: this.state.show,\n                onHide: function onHide() {\n                    return _this2.setState({ show: false });\n                },\n                title: Utils.localizeMessage('get_team_invite_link_modal.title', 'Team Invite Link'),\n                helpText: helpText,\n                link: _team_store2.default.getCurrentInviteLink()\n            });\n        }\n    }]);\n    return GetTeamInviteLinkModal;\n}(_react2.default.Component); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = GetTeamInviteLinkModal;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ }),\n\n/***/ 2015:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _reactDom = __webpack_require__(30);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _utils = __webpack_require__(11);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _modal_store = __webpack_require__(1661);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _confirm_modal = __webpack_require__(242);\n\nvar _confirm_modal2 = _interopRequireDefault(_confirm_modal);\n\nvar _team_actions = __webpack_require__(333);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActionTypes = _constants2.default.ActionTypes; // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar holders = (0, _reactIntl.defineMessages)({\n    emailError: {\n        id: 'invite_member.emailError',\n        defaultMessage: 'Please enter a valid email address'\n    },\n    firstname: {\n        id: 'invite_member.firstname',\n        defaultMessage: 'First name'\n    },\n    lastname: {\n        id: 'invite_member.lastname',\n        defaultMessage: 'Last name'\n    },\n    modalTitle: {\n        id: 'invite_member.modalTitle',\n        defaultMessage: 'Discard Invitations?'\n    },\n    modalMessage: {\n        id: 'invite_member.modalMessage',\n        defaultMessage: 'You have unsent invitations, are you sure you want to discard them?'\n    },\n    modalButton: {\n        id: 'invite_member.modalButton',\n        defaultMessage: 'Yes, Discard'\n    }\n});\n\nvar InviteMemberModal = function (_React$Component) {\n    (0, _inherits3.default)(InviteMemberModal, _React$Component);\n\n    function InviteMemberModal(props) {\n        (0, _classCallCheck3.default)(this, InviteMemberModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (InviteMemberModal.__proto__ || (0, _getPrototypeOf2.default)(InviteMemberModal)).call(this, props));\n\n        _this.teamChange = _this.teamChange.bind(_this);\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n        _this.addInviteFields = _this.addInviteFields.bind(_this);\n        _this.clearFields = _this.clearFields.bind(_this);\n        _this.removeInviteFields = _this.removeInviteFields.bind(_this);\n        _this.showGetTeamInviteLinkModal = _this.showGetTeamInviteLinkModal.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n\n        var team = _team_store2.default.getCurrent();\n\n        _this.state = {\n            show: false,\n            inviteIds: [0],\n            idCount: 0,\n            emailErrors: {},\n            firstNameErrors: {},\n            lastNameErrors: {},\n            emailEnabled: global.window.mm_config.SendEmailNotifications === 'true',\n            userCreationEnabled: global.window.mm_config.EnableUserCreation === 'true',\n            showConfirmModal: false,\n            isSendingEmails: false,\n            teamType: team ? team.type : null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(InviteMemberModal, [{\n        key: 'teamChange',\n        value: function teamChange() {\n            var team = _team_store2.default.getCurrent();\n            var teamType = team ? team.type : null;\n            this.setState({\n                teamType: teamType\n            });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n            _team_store2.default.addChangeListener(this.teamChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n            _team_store2.default.removeChangeListener(this.teamChange);\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                show: value\n            });\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit() {\n            var _this2 = this;\n\n            if (!this.state.emailEnabled) {\n                return;\n            }\n\n            var inviteIds = this.state.inviteIds;\n            var count = inviteIds.length;\n            var invites = [];\n            var emailErrors = this.state.emailErrors;\n            var firstNameErrors = this.state.firstNameErrors;\n            var lastNameErrors = this.state.lastNameErrors;\n            var valid = true;\n\n            for (var i = 0; i < count; i++) {\n                var index = inviteIds[i];\n                var invite = {};\n                invite.email = _reactDom2.default.findDOMNode(this.refs['email' + index]).value.trim();\n                if (!invite.email || !utils.isEmail(invite.email)) {\n                    emailErrors[index] = this.props.intl.formatMessage(holders.emailError);\n                    valid = false;\n                } else {\n                    emailErrors[index] = '';\n                }\n\n                invite.firstName = _reactDom2.default.findDOMNode(this.refs['first_name' + index]).value.trim();\n\n                invite.lastName = _reactDom2.default.findDOMNode(this.refs['last_name' + index]).value.trim();\n\n                invites.push(invite);\n            }\n\n            this.setState({ emailErrors: emailErrors, firstNameErrors: firstNameErrors, lastNameErrors: lastNameErrors });\n\n            if (!valid || invites.length === 0) {\n                return;\n            }\n\n            var data = {};\n            data.invites = invites;\n\n            this.setState({ isSendingEmails: true });\n\n            (0, _team_actions.inviteMembers)(data, function () {\n                _this2.handleHide(false);\n                _this2.setState({ isSendingEmails: false });\n            }, function (err) {\n                if (err.id === 'api.team.invite_members.already.app_error') {\n                    emailErrors[err.detailed_error] = err.message;\n                    _this2.setState({ emailErrors: emailErrors });\n                } else {\n                    _this2.setState({ serverError: err.message });\n                }\n\n                _this2.setState({ isSendingEmails: false });\n            });\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide(requireConfirm) {\n            if (requireConfirm) {\n                var notEmpty = false;\n                for (var i = 0; i < this.state.inviteIds.length; i++) {\n                    var index = this.state.inviteIds[i];\n                    if (_reactDom2.default.findDOMNode(this.refs['email' + index]).value.trim() !== '') {\n                        notEmpty = true;\n                        break;\n                    }\n                }\n\n                if (notEmpty) {\n                    this.setState({\n                        showConfirmModal: true\n                    });\n\n                    return;\n                }\n            }\n\n            this.clearFields();\n\n            this.setState({\n                show: false,\n                showConfirmModal: false\n            });\n        }\n    }, {\n        key: 'addInviteFields',\n        value: function addInviteFields() {\n            var count = this.state.idCount + 1;\n            var inviteIds = this.state.inviteIds;\n            inviteIds.push(count);\n            this.setState({ inviteIds: inviteIds, idCount: count });\n        }\n    }, {\n        key: 'clearFields',\n        value: function clearFields() {\n            var inviteIds = this.state.inviteIds;\n\n            for (var i = 0; i < inviteIds.length; i++) {\n                var index = inviteIds[i];\n                _reactDom2.default.findDOMNode(this.refs['email' + index]).value = '';\n                _reactDom2.default.findDOMNode(this.refs['first_name' + index]).value = '';\n                _reactDom2.default.findDOMNode(this.refs['last_name' + index]).value = '';\n            }\n\n            this.setState({\n                inviteIds: [0],\n                idCount: 0,\n                emailErrors: {},\n                firstNameErrors: {},\n                lastNameErrors: {}\n            });\n        }\n    }, {\n        key: 'removeInviteFields',\n        value: function removeInviteFields(index) {\n            var count = this.state.idCount;\n            var inviteIds = this.state.inviteIds;\n            var i = inviteIds.indexOf(index);\n            if (i > -1) {\n                inviteIds.splice(i, 1);\n            }\n            if (!inviteIds.length) {\n                inviteIds.push(++count);\n            }\n            this.setState({ inviteIds: inviteIds, idCount: count });\n        }\n    }, {\n        key: 'showGetTeamInviteLinkModal',\n        value: function showGetTeamInviteLinkModal() {\n            this.handleHide(false);\n\n            GlobalActions.showGetTeamInviteLinkModal();\n        }\n    }, {\n        key: 'handleKeyDown',\n        value: function handleKeyDown(e) {\n            if (e.keyCode === _constants2.default.KeyCodes.ENTER) {\n                e.preventDefault();\n                this.handleSubmit();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var currentUser = _user_store2.default.getCurrentUser();\n            var formatMessage = this.props.intl.formatMessage;\n\n\n            if (currentUser != null && this.state.teamType != null) {\n                var inviteSections = [];\n                var inviteIds = this.state.inviteIds;\n                for (var i = 0; i < inviteIds.length; i++) {\n                    var index = inviteIds[i];\n                    var emailError = null;\n                    if (this.state.emailErrors[index]) {\n                        emailError = _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.emailErrors[index]\n                        );\n                    }\n                    var firstNameError = null;\n                    if (this.state.firstNameErrors[index]) {\n                        firstNameError = _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.firstNameErrors[index]\n                        );\n                    }\n                    var lastNameError = null;\n                    if (this.state.lastNameErrors[index]) {\n                        lastNameError = _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.lastNameErrors[index]\n                        );\n                    }\n\n                    var removeButton = null;\n                    if (index) {\n                        removeButton = _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-link remove__member',\n                                    onClick: this.removeInviteFields.bind(this, index)\n                                },\n                                _react2.default.createElement('span', { className: 'fa fa-trash' })\n                            )\n                        );\n                    }\n                    var emailClass = 'form-group invite';\n                    if (emailError) {\n                        emailClass += ' has-error';\n                    }\n\n                    var nameFields = null;\n\n                    var firstNameClass = 'form-group';\n                    if (firstNameError) {\n                        firstNameClass += ' has-error';\n                    }\n                    var lastNameClass = 'form-group';\n                    if (lastNameError) {\n                        lastNameClass += ' has-error';\n                    }\n                    nameFields = _react2.default.createElement(\n                        'div',\n                        { className: 'row row--invite' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-6' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: firstNameClass },\n                                _react2.default.createElement('input', {\n                                    onKeyDown: this.handleKeyDown,\n                                    type: 'text',\n                                    className: 'form-control',\n                                    ref: 'first_name' + index,\n                                    placeholder: formatMessage(holders.firstname),\n                                    maxLength: '64',\n                                    disabled: !this.state.emailEnabled || !this.state.userCreationEnabled,\n                                    spellCheck: 'false'\n                                }),\n                                firstNameError\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-6' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: lastNameClass },\n                                _react2.default.createElement('input', {\n                                    onKeyDown: this.handleKeyDown,\n                                    type: 'text',\n                                    className: 'form-control',\n                                    ref: 'last_name' + index,\n                                    placeholder: formatMessage(holders.lastname),\n                                    maxLength: '64',\n                                    disabled: !this.state.emailEnabled || !this.state.userCreationEnabled,\n                                    spellCheck: 'false'\n                                }),\n                                lastNameError\n                            )\n                        )\n                    );\n\n                    inviteSections[index] = _react2.default.createElement(\n                        'div',\n                        { key: 'key' + index },\n                        removeButton,\n                        _react2.default.createElement(\n                            'div',\n                            { className: emailClass },\n                            _react2.default.createElement('input', {\n                                onKeyUp: this.displayNameKeyUp,\n                                onKeyDown: this.handleKeyDown,\n                                type: 'text',\n                                ref: 'email' + index,\n                                className: 'form-control',\n                                placeholder: 'email@domain.com',\n                                maxLength: '64',\n                                disabled: !this.state.emailEnabled || !this.state.userCreationEnabled,\n                                spellCheck: 'false'\n                            }),\n                            emailError\n                        ),\n                        nameFields\n                    );\n                }\n\n                var serverError = null;\n                if (this.state.serverError) {\n                    serverError = _react2.default.createElement(\n                        'div',\n                        { className: 'form-group has-error' },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.serverError\n                        )\n                    );\n                }\n\n                var content = null;\n                var sendButton = null;\n\n                var defaultChannelName = '';\n                if (_channel_store2.default.getByName(_constants2.default.DEFAULT_CHANNEL)) {\n                    defaultChannelName = _channel_store2.default.getByName(_constants2.default.DEFAULT_CHANNEL).display_name;\n                }\n\n                if (this.state.emailEnabled && this.state.userCreationEnabled) {\n                    content = _react2.default.createElement(\n                        'div',\n                        null,\n                        serverError,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'button',\n                                className: 'btn btn-default',\n                                onClick: this.addInviteFields\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.addAnother',\n                                defaultMessage: 'Add another'\n                            })\n                        ),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'invite_member.autoJoin',\n                                defaultMessage: 'People invited automatically join the <strong>{channel}</strong> channel.',\n                                values: {\n                                    channel: defaultChannelName\n                                }\n                            })\n                        )\n                    );\n\n                    var sendButtonLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'invite_member.send',\n                        defaultMessage: 'Send Invitation'\n                    });\n                    if (this.state.isSendingEmails) {\n                        sendButtonLabel = _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement('i', { className: 'fa fa-spinner fa-spin' }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.sending',\n                                defaultMessage: ' Sending'\n                            })\n                        );\n                    } else if (this.state.inviteIds.length > 1) {\n                        sendButtonLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'invite_member.send2',\n                            defaultMessage: 'Send Invitations'\n                        });\n                    }\n\n                    sendButton = _react2.default.createElement(\n                        'button',\n                        {\n                            onClick: this.handleSubmit,\n                            type: 'button',\n                            className: 'btn btn-primary',\n                            disabled: this.state.isSendingEmails\n                        },\n                        sendButtonLabel\n                    );\n                } else if (this.state.userCreationEnabled) {\n                    var teamInviteLink = null;\n                    if (currentUser && this.state.teamType === 'O') {\n                        var link = _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: this.showGetTeamInviteLinkModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.inviteLink',\n                                defaultMessage: 'Team Invite Link'\n                            })\n                        );\n\n                        teamInviteLink = _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.teamInviteLink',\n                                defaultMessage: 'You can also invite people using the {link}.',\n                                values: {\n                                    link: link\n                                }\n                            })\n                        );\n                    }\n\n                    content = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.content',\n                                defaultMessage: 'Email is currently disabled for your team, and email invitations cannot be sent. Contact your System Administrator to enable email and email invitations.'\n                            })\n                        ),\n                        teamInviteLink\n                    );\n                } else {\n                    content = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'invite_member.disabled',\n                                defaultMessage: 'User creation has been disabled for your team. Please ask your Team Administrator for details.'\n                            })\n                        )\n                    );\n                }\n\n                return _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal,\n                        {\n                            dialogClassName: 'modal-invite-member',\n                            show: this.state.show,\n                            onHide: this.handleHide.bind(this, true),\n                            enforceFocus: !this.state.showConfirmModal,\n                            backdrop: this.state.isSendingEmails ? 'static' : true\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Header,\n                            { closeButton: !this.state.isSendingEmails },\n                            _react2.default.createElement(\n                                _reactBootstrap.Modal.Title,\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'invite_member.newMember',\n                                    defaultMessage: 'Send Email Invite'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Body,\n                            { ref: 'modalBody' },\n                            _react2.default.createElement(\n                                'form',\n                                { role: 'form' },\n                                inviteSections\n                            ),\n                            content\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Footer,\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'btn btn-default',\n                                    onClick: this.handleHide.bind(this, true),\n                                    disabled: this.state.isSendingEmails\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'invite_member.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            ),\n                            sendButton\n                        )\n                    ),\n                    _react2.default.createElement(_confirm_modal2.default, {\n                        title: formatMessage(holders.modalTitle),\n                        message: formatMessage(holders.modalMessage),\n                        confirmButton: formatMessage(holders.modalButton),\n                        show: this.state.showConfirmModal,\n                        onConfirm: this.handleHide.bind(this, false),\n                        onCancel: function onCancel() {\n                            return _this3.setState({ showConfirmModal: false });\n                        }\n                    })\n                );\n            }\n\n            return null;\n        }\n    }]);\n    return InviteMemberModal;\n}(_react2.default.Component);\n\nInviteMemberModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(InviteMemberModal);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ }),\n\n/***/ 2016:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _constants = __webpack_require__(8);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _modal_store = __webpack_require__(1661);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(334);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar LeaveTeamModal = function (_React$Component) {\n    (0, _inherits3.default)(LeaveTeamModal, _React$Component);\n\n    function LeaveTeamModal(props) {\n        (0, _classCallCheck3.default)(this, LeaveTeamModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (LeaveTeamModal.__proto__ || (0, _getPrototypeOf2.default)(LeaveTeamModal)).call(this, props));\n\n        _this.handleToggle = _this.handleToggle.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleHide = _this.handleHide.bind(_this);\n\n        _this.state = {\n            show: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(LeaveTeamModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(_constants.ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(_constants.ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n        }\n    }, {\n        key: 'handleToggle',\n        value: function handleToggle(value) {\n            this.setState({\n                show: value\n            });\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            this.setState({\n                show: false\n            });\n\n            if (_webrtc_store2.default.isBusy()) {\n                _webrtc_store2.default.emitChanged({ action: _constants.WebrtcActionTypes.IN_PROGRESS });\n                e.preventDefault();\n                return;\n            }\n\n            GlobalActions.emitLeaveTeam();\n        }\n    }, {\n        key: 'handleHide',\n        value: function handleHide() {\n            this.setState({\n                show: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var currentUser = _user_store2.default.getCurrentUser();\n\n            if (currentUser != null) {\n                return _react2.default.createElement(\n                    _reactBootstrap.Modal,\n                    {\n                        className: 'modal-confirm',\n                        show: this.state.show,\n                        onHide: this.handleHide\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Header,\n                        { closeButton: false },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Title,\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'leave_team_modal.title',\n                                defaultMessage: 'Leave the team?'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Body,\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'leave_team_modal.desc',\n                            defaultMessage: 'You will be removed from all public and private channels.  If the team is private you will not be able to rejoin the team.  Are you sure?'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Footer,\n                        null,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'button',\n                                className: 'btn btn-default',\n                                onClick: this.handleHide\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'leave_team_modal.no',\n                                defaultMessage: 'No'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'button',\n                                className: 'btn btn-danger',\n                                onClick: this.handleSubmit\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'leave_team_modal.yes',\n                                defaultMessage: 'Yes'\n                            })\n                        )\n                    )\n                );\n            }\n\n            return null;\n        }\n    }]);\n    return LeaveTeamModal;\n}(_react2.default.Component);\n\nLeaveTeamModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(LeaveTeamModal);\n\n/***/ }),\n\n/***/ 2019:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _edit_channel_header_modal = __webpack_require__(342);\n\nvar _edit_channel_header_modal2 = _interopRequireDefault(_edit_channel_header_modal);\n\nvar _edit_channel_purpose_modal = __webpack_require__(588);\n\nvar _edit_channel_purpose_modal2 = _interopRequireDefault(_edit_channel_purpose_modal);\n\nvar _message_wrapper = __webpack_require__(593);\n\nvar _message_wrapper2 = _interopRequireDefault(_message_wrapper);\n\nvar _notify_counts = __webpack_require__(2022);\n\nvar _notify_counts2 = _interopRequireDefault(_notify_counts);\n\nvar _channel_info_modal = __webpack_require__(584);\n\nvar _channel_info_modal2 = _interopRequireDefault(_channel_info_modal);\n\nvar _channel_invite_modal = __webpack_require__(249);\n\nvar _channel_invite_modal2 = _interopRequireDefault(_channel_invite_modal);\n\nvar _channel_members_modal = __webpack_require__(341);\n\nvar _channel_members_modal2 = _interopRequireDefault(_channel_members_modal);\n\nvar _channel_notifications_modal = __webpack_require__(585);\n\nvar _channel_notifications_modal2 = _interopRequireDefault(_channel_notifications_modal);\n\nvar _delete_channel_modal = __webpack_require__(586);\n\nvar _delete_channel_modal2 = _interopRequireDefault(_delete_channel_modal);\n\nvar _rename_channel_modal = __webpack_require__(600);\n\nvar _rename_channel_modal2 = _interopRequireDefault(_rename_channel_modal);\n\nvar _toggle_modal_button = __webpack_require__(248);\n\nvar _toggle_modal_button2 = _interopRequireDefault(_toggle_modal_button);\n\nvar _status_icon = __webpack_require__(577);\n\nvar _status_icon2 = _interopRequireDefault(_status_icon);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _preference_store = __webpack_require__(42);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _search_store = __webpack_require__(244);\n\nvar _search_store2 = _interopRequireDefault(_search_store);\n\nvar _channel_switch_modal = __webpack_require__(2001);\n\nvar _channel_switch_modal2 = _interopRequireDefault(_channel_switch_modal);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _channel_utils = __webpack_require__(81);\n\nvar ChannelUtils = _interopRequireWildcard(_channel_utils);\n\nvar _channel_actions = __webpack_require__(47);\n\nvar ChannelActions = _interopRequireWildcard(_channel_actions);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(104);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _app_dispatcher = __webpack_require__(16);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _es = __webpack_require__(37);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActionTypes = _constants2.default.ActionTypes; // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar Navbar = function (_React$Component) {\n    (0, _inherits3.default)(Navbar, _React$Component);\n\n    function Navbar(props) {\n        (0, _classCallCheck3.default)(this, Navbar);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Navbar.__proto__ || (0, _getPrototypeOf2.default)(Navbar)).call(this, props));\n\n        _this.toggleFavorite = function (e) {\n            e.preventDefault();\n\n            if (_this.state.isFavorite) {\n                ChannelActions.unmarkFavorite(_this.state.channel.id);\n            } else {\n                ChannelActions.markFavorite(_this.state.channel.id);\n            }\n        };\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.handleLeave = _this.handleLeave.bind(_this);\n        _this.showSearch = _this.showSearch.bind(_this);\n\n        _this.showEditChannelHeaderModal = _this.showEditChannelHeaderModal.bind(_this);\n        _this.showRenameChannelModal = _this.showRenameChannelModal.bind(_this);\n        _this.hideRenameChannelModal = _this.hideRenameChannelModal.bind(_this);\n        _this.isStateValid = _this.isStateValid.bind(_this);\n\n        _this.createCollapseButtons = _this.createCollapseButtons.bind(_this);\n        _this.createDropdown = _this.createDropdown.bind(_this);\n\n        _this.showMembersModal = _this.showMembersModal.bind(_this);\n        _this.hideMembersModal = _this.hideMembersModal.bind(_this);\n\n        _this.showChannelSwitchModal = _this.showChannelSwitchModal.bind(_this);\n        _this.hideChannelSwitchModal = _this.hideChannelSwitchModal.bind(_this);\n\n        _this.openDirectMessageModal = _this.openDirectMessageModal.bind(_this);\n        _this.getPinnedPosts = _this.getPinnedPosts.bind(_this);\n\n        var state = _this.getStateFromStores();\n        state.showEditChannelPurposeModal = false;\n        state.showEditChannelHeaderModal = false;\n        state.showMembersModal = false;\n        state.showRenameChannelModal = false;\n        state.showChannelSwitchModal = false;\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(Navbar, [{\n        key: 'getStateFromStores',\n        value: function getStateFromStores() {\n            var channel = _channel_store2.default.getCurrent();\n\n            return {\n                channel: channel,\n                member: _channel_store2.default.getCurrentMember(),\n                users: [],\n                userCount: _channel_store2.default.getCurrentStats().member_count,\n                currentUser: _user_store2.default.getCurrentUser(),\n                isFavorite: channel && ChannelUtils.isFavoriteChannel(channel)\n            };\n        }\n    }, {\n        key: 'isStateValid',\n        value: function isStateValid() {\n            return this.state.channel && this.state.member && this.state.users && this.state.currentUser;\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _channel_store2.default.addChangeListener(this.onChange);\n            _channel_store2.default.addStatsChangeListener(this.onChange);\n            _user_store2.default.addStatusesChangeListener(this.onChange);\n            _user_store2.default.addChangeListener(this.onChange);\n            _preference_store2.default.addChangeListener(this.onChange);\n            (0, _jquery2.default)('.inner-wrap').click(this.hideSidebars);\n            document.addEventListener('keydown', this.showChannelSwitchModal);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _channel_store2.default.removeChangeListener(this.onChange);\n            _channel_store2.default.removeStatsChangeListener(this.onChange);\n            _user_store2.default.removeStatusesChangeListener(this.onChange);\n            _user_store2.default.removeChangeListener(this.onChange);\n            _preference_store2.default.removeChangeListener(this.onChange);\n            document.removeEventListener('keydown', this.showChannelSwitchModal);\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            e.preventDefault();\n        }\n    }, {\n        key: 'handleLeave',\n        value: function handleLeave() {\n            ChannelActions.leaveChannel(this.state.channel.id);\n        }\n    }, {\n        key: 'hideSidebars',\n        value: function hideSidebars(e) {\n            var windowWidth = (0, _jquery2.default)(window).outerWidth();\n            if (windowWidth <= 768) {\n                _app_dispatcher2.default.handleServerAction({\n                    type: ActionTypes.RECEIVED_SEARCH,\n                    results: null\n                });\n\n                _app_dispatcher2.default.handleServerAction({\n                    type: ActionTypes.RECEIVED_POST_SELECTED,\n                    postId: null\n                });\n\n                if (e.target.className !== 'navbar-toggle' && e.target.className !== 'icon-bar') {\n                    (0, _jquery2.default)('.app__body .inner-wrap').removeClass('move--right move--left move--left-small');\n                    (0, _jquery2.default)('.app__body .sidebar--left').removeClass('move--right');\n                    (0, _jquery2.default)('.multi-teams .team-sidebar').removeClass('move--right');\n                    (0, _jquery2.default)('.app__body .sidebar--right').removeClass('move--left');\n                    (0, _jquery2.default)('.app__body .sidebar--menu').removeClass('move--left');\n                }\n            }\n        }\n    }, {\n        key: 'toggleLeftSidebar',\n        value: function toggleLeftSidebar() {\n            (0, _jquery2.default)('.app__body .inner-wrap').toggleClass('move--right');\n            (0, _jquery2.default)('.app__body .sidebar--left').toggleClass('move--right');\n            (0, _jquery2.default)('.multi-teams .team-sidebar').toggleClass('move--right');\n        }\n    }, {\n        key: 'toggleRightSidebar',\n        value: function toggleRightSidebar() {\n            (0, _jquery2.default)('.app__body .inner-wrap').toggleClass('move--left-small');\n            (0, _jquery2.default)('.app__body .sidebar--menu').toggleClass('move--left');\n        }\n    }, {\n        key: 'showSearch',\n        value: function showSearch() {\n            _app_dispatcher2.default.handleServerAction({\n                type: ActionTypes.SHOW_SEARCH\n            });\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            this.setState(this.getStateFromStores());\n        }\n    }, {\n        key: 'showEditChannelHeaderModal',\n        value: function showEditChannelHeaderModal() {\n            // this can't be done using a ToggleModalButton because we can't use one inside an OverlayTrigger\n            if (this.refs.headerOverlay) {\n                this.refs.headerOverlay.hide();\n            }\n\n            this.setState({\n                showEditChannelHeaderModal: true\n            });\n        }\n    }, {\n        key: 'showRenameChannelModal',\n        value: function showRenameChannelModal(e) {\n            e.preventDefault();\n\n            this.setState({\n                showRenameChannelModal: true\n            });\n        }\n    }, {\n        key: 'hideRenameChannelModal',\n        value: function hideRenameChannelModal() {\n            this.setState({\n                showRenameChannelModal: false\n            });\n        }\n    }, {\n        key: 'showMembersModal',\n        value: function showMembersModal(e) {\n            e.preventDefault();\n\n            this.setState({ showMembersModal: true });\n        }\n    }, {\n        key: 'hideMembersModal',\n        value: function hideMembersModal() {\n            this.setState({ showMembersModal: false });\n        }\n    }, {\n        key: 'showChannelSwitchModal',\n        value: function showChannelSwitchModal(e) {\n            if (Utils.cmdOrCtrlPressed(e) && e.keyCode === _constants2.default.KeyCodes.K) {\n                e.preventDefault();\n                this.setState({ showChannelSwitchModal: !this.state.showChannelSwitchModal });\n            }\n        }\n    }, {\n        key: 'hideChannelSwitchModal',\n        value: function hideChannelSwitchModal() {\n            this.setState({\n                showChannelSwitchModal: false\n            });\n        }\n    }, {\n        key: 'openDirectMessageModal',\n        value: function openDirectMessageModal() {\n            _app_dispatcher2.default.handleViewAction({\n                type: ActionTypes.TOGGLE_DM_MODAL,\n                value: true,\n                startingUsers: _user_store2.default.getProfileListInChannel(this.state.channel.id, true)\n            });\n        }\n    }, {\n        key: 'getPinnedPosts',\n        value: function getPinnedPosts(e) {\n            e.preventDefault();\n            if (_search_store2.default.isPinnedPosts) {\n                GlobalActions.toggleSideBarAction(false);\n            } else {\n                (0, _post_actions.getPinnedPosts)(this.state.channel.id);\n            }\n        }\n    }, {\n        key: 'createDropdown',\n        value: function createDropdown(channel, channelTitle, isAdmin, isSystemAdmin, isChannelAdmin, isDirect, isGroup, popoverContent) {\n            var _this2 = this;\n\n            if (channel) {\n                var viewInfoOption = void 0;\n                var viewPinnedPostsOption = void 0;\n                var addMembersOption = void 0;\n                var manageMembersOption = void 0;\n                var setChannelHeaderOption = void 0;\n                var setChannelPurposeOption = void 0;\n                var notificationPreferenceOption = void 0;\n                var renameChannelOption = void 0;\n                var deleteChannelOption = void 0;\n                var leaveChannelOption = void 0;\n\n                if (isDirect) {\n                    setChannelHeaderOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: this.showEditChannelHeaderModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'channel_header.channelHeader',\n                                defaultMessage: 'Set Channel Header...'\n                            })\n                        )\n                    );\n                } else if (isGroup) {\n                    setChannelHeaderOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: this.showEditChannelHeaderModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'channel_header.channelHeader',\n                                defaultMessage: 'Set Channel Header...'\n                            })\n                        )\n                    );\n\n                    notificationPreferenceOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            _toggle_modal_button2.default,\n                            {\n                                role: 'menuitem',\n                                dialogType: _channel_notifications_modal2.default,\n                                dialogProps: {\n                                    channel: channel,\n                                    channelMember: this.state.member,\n                                    currentUser: this.state.currentUser\n                                }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.preferences',\n                                defaultMessage: 'Notification Preferences'\n                            })\n                        )\n                    );\n\n                    addMembersOption = _react2.default.createElement(\n                        'li',\n                        {\n                            role: 'presentation'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: this.openDirectMessageModal\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.addMembers',\n                                defaultMessage: 'Add Members'\n                            })\n                        )\n                    );\n                } else {\n                    viewInfoOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            _toggle_modal_button2.default,\n                            {\n                                role: 'menuitem',\n                                dialogType: _channel_info_modal2.default,\n                                dialogProps: { channel: channel }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.viewInfo',\n                                defaultMessage: 'View Info'\n                            })\n                        )\n                    );\n\n                    viewPinnedPostsOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                role: 'menuitem',\n                                href: '#',\n                                onClick: this.getPinnedPosts\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.viewPinnedPosts',\n                                defaultMessage: 'View Pinned Posts'\n                            })\n                        )\n                    );\n\n                    if (!_channel_store2.default.isDefault(channel)) {\n                        addMembersOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                _toggle_modal_button2.default,\n                                {\n                                    ref: 'channelInviteModalButton',\n                                    role: 'menuitem',\n                                    dialogType: _channel_invite_modal2.default,\n                                    dialogProps: { channel: channel, currentUser: this.state.currentUser }\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'navbar.addMembers',\n                                    defaultMessage: 'Add Members'\n                                })\n                            )\n                        );\n\n                        if (isAdmin) {\n                            manageMembersOption = _react2.default.createElement(\n                                'li',\n                                {\n                                    key: 'manage_members',\n                                    role: 'presentation'\n                                },\n                                _react2.default.createElement(\n                                    'a',\n                                    {\n                                        role: 'menuitem',\n                                        href: '#',\n                                        onClick: this.showMembersModal\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'channel_header.manageMembers',\n                                        defaultMessage: 'Manage Members'\n                                    })\n                                )\n                            );\n                        } else {\n                            manageMembersOption = _react2.default.createElement(\n                                'li',\n                                {\n                                    key: 'view_members',\n                                    role: 'presentation'\n                                },\n                                _react2.default.createElement(\n                                    'a',\n                                    {\n                                        role: 'menuitem',\n                                        href: '#',\n                                        onClick: this.showMembersModal\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'channel_header.viewMembers',\n                                        defaultMessage: 'View Members'\n                                    })\n                                )\n                            );\n                        }\n                    }\n\n                    notificationPreferenceOption = _react2.default.createElement(\n                        'li',\n                        { role: 'presentation' },\n                        _react2.default.createElement(\n                            _toggle_modal_button2.default,\n                            {\n                                role: 'menuitem',\n                                dialogType: _channel_notifications_modal2.default,\n                                dialogProps: {\n                                    channel: channel,\n                                    channelMember: this.state.member,\n                                    currentUser: this.state.currentUser\n                                }\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.preferences',\n                                defaultMessage: 'Notification Preferences'\n                            })\n                        )\n                    );\n\n                    if (ChannelUtils.showManagementOptions(channel, isAdmin, isSystemAdmin, isChannelAdmin)) {\n                        setChannelHeaderOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: this.showEditChannelHeaderModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.setHeader',\n                                    defaultMessage: 'Edit Channel Header'\n                                })\n                            )\n                        );\n\n                        setChannelPurposeOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: function onClick() {\n                                        return _this2.setState({ showEditChannelPurposeModal: true });\n                                    }\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.setPurpose',\n                                    defaultMessage: 'Edit Channel Purpose'\n                                })\n                            )\n                        );\n\n                        renameChannelOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: this.showRenameChannelModal\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.rename',\n                                    defaultMessage: 'Rename Channel'\n                                })\n                            )\n                        );\n                    }\n\n                    if (ChannelUtils.showDeleteOption(channel, isAdmin, isSystemAdmin, isChannelAdmin) || this.state.userCount === 1) {\n                        if (!_channel_store2.default.isDefault(channel)) {\n                            deleteChannelOption = _react2.default.createElement(\n                                'li',\n                                { role: 'presentation' },\n                                _react2.default.createElement(\n                                    _toggle_modal_button2.default,\n                                    {\n                                        role: 'menuitem',\n                                        dialogType: _delete_channel_modal2.default,\n                                        dialogProps: { channel: channel }\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'channel_header.delete',\n                                        defaultMessage: 'Delete Channel'\n                                    })\n                                )\n                            );\n                        }\n                    }\n\n                    var canLeave = channel.type === _constants2.default.PRIVATE_CHANNEL ? this.state.userCount > 1 : true;\n                    if (!_channel_store2.default.isDefault(channel) && canLeave) {\n                        leaveChannelOption = _react2.default.createElement(\n                            'li',\n                            { role: 'presentation' },\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    role: 'menuitem',\n                                    href: '#',\n                                    onClick: this.handleLeave\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'channel_header.leave',\n                                    defaultMessage: 'Leave Channel'\n                                })\n                            )\n                        );\n                    }\n                }\n\n                var toggleFavoriteOption = _react2.default.createElement(\n                    'li',\n                    {\n                        key: 'toggle_favorite',\n                        role: 'presentation'\n                    },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            role: 'menuitem',\n                            href: '#',\n                            onClick: this.toggleFavorite\n                        },\n                        this.state.isFavorite ? _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channelHeader.removeFromFavorites',\n                            defaultMessage: 'Remove from Favorites'\n                        }) : _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'channelHeader.addToFavorites',\n                            defaultMessage: 'Add to Favorites'\n                        })\n                    )\n                );\n\n                return _react2.default.createElement(\n                    'div',\n                    { className: 'navbar-brand' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'dropdown' },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                ref: 'headerOverlay',\n                                trigger: 'click',\n                                placement: 'bottom',\n                                overlay: popoverContent,\n                                className: 'description',\n                                rootClose: true\n                            },\n                            _react2.default.createElement('div', { className: 'pull-right description info-popover' })\n                        ),\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                className: 'dropdown-toggle theme',\n                                type: 'button',\n                                'data-toggle': 'dropdown',\n                                'aria-expanded': 'true'\n                            },\n                            _react2.default.createElement(\n                                'span',\n                                { className: 'heading' },\n                                _react2.default.createElement(_status_icon2.default, { status: this.getTeammateStatus() }),\n                                channelTitle,\n                                ' '\n                            ),\n                            _react2.default.createElement('span', { className: 'fa fa-chevron-down header-dropdown__icon' })\n                        ),\n                        _react2.default.createElement(\n                            'ul',\n                            {\n                                className: 'dropdown-menu',\n                                role: 'menu'\n                            },\n                            viewInfoOption,\n                            viewPinnedPostsOption,\n                            notificationPreferenceOption,\n                            addMembersOption,\n                            manageMembersOption,\n                            setChannelHeaderOption,\n                            setChannelPurposeOption,\n                            renameChannelOption,\n                            deleteChannelOption,\n                            leaveChannelOption,\n                            toggleFavoriteOption,\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    className: 'close visible-xs-block',\n                                    onClick: function onClick() {\n                                        return _this2.refs.headerOverlay.hide();\n                                    }\n                                },\n                                ''\n                            )\n                        )\n                    )\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'navbar-brand' },\n                _react2.default.createElement(\n                    _es.Link,\n                    {\n                        to: _team_store2.default.getCurrentTeamUrl() + '/channels/town-square',\n                        className: 'heading'\n                    },\n                    channelTitle\n                )\n            );\n        }\n    }, {\n        key: 'createCollapseButtons',\n        value: function createCollapseButtons(currentId) {\n            var buttons = [];\n            if (currentId == null) {\n                buttons.push(_react2.default.createElement(\n                    'button',\n                    {\n                        key: 'navbar-toggle-collapse',\n                        type: 'button',\n                        className: 'navbar-toggle',\n                        'data-toggle': 'collapse',\n                        'data-target': '#navbar-collapse-1'\n                    },\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'sr-only' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar.toggle1',\n                            defaultMessage: 'Toggle sidebar'\n                        })\n                    ),\n                    _react2.default.createElement('span', { className: 'icon-bar' }),\n                    _react2.default.createElement('span', { className: 'icon-bar' }),\n                    _react2.default.createElement('span', { className: 'icon-bar' })\n                ));\n            } else {\n                buttons.push(_react2.default.createElement(\n                    'button',\n                    {\n                        key: 'navbar-toggle-sidebar',\n                        type: 'button',\n                        className: 'navbar-toggle',\n                        'data-toggle': 'collapse',\n                        'data-target': '#sidebar-nav',\n                        onClick: this.toggleLeftSidebar\n                    },\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'sr-only' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar.toggle2',\n                            defaultMessage: 'Toggle sidebar'\n                        })\n                    ),\n                    _react2.default.createElement('span', { className: 'icon-bar' }),\n                    _react2.default.createElement('span', { className: 'icon-bar' }),\n                    _react2.default.createElement('span', { className: 'icon-bar' }),\n                    _react2.default.createElement(_notify_counts2.default, null)\n                ));\n\n                buttons.push(_react2.default.createElement(\n                    'button',\n                    {\n                        key: 'navbar-toggle-menu',\n                        type: 'button',\n                        className: 'navbar-toggle menu-toggle pull-right',\n                        'data-toggle': 'collapse',\n                        'data-target': '#sidebar-nav',\n                        onClick: this.toggleRightSidebar\n                    },\n                    _react2.default.createElement('span', { dangerouslySetInnerHTML: { __html: _constants2.default.MENU_ICON } })\n                ));\n            }\n\n            return buttons;\n        }\n    }, {\n        key: 'getTeammateStatus',\n        value: function getTeammateStatus() {\n            var channel = this.state.channel;\n\n            // get status for direct message channels\n            if (channel.type === 'D') {\n                var currentUserId = this.state.currentUser.id;\n                var teammate = this.state.users.find(function (user) {\n                    return user.id !== currentUserId;\n                });\n                if (teammate) {\n                    return _user_store2.default.getStatus(teammate.id);\n                }\n            }\n            return null;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            if (!this.isStateValid()) {\n                return null;\n            }\n\n            var currentId = this.state.currentUser.id;\n            var channel = this.state.channel;\n            var channelTitle = this.props.teamDisplayName;\n            var popoverContent;\n            var isAdmin = false;\n            var isSystemAdmin = false;\n            var isChannelAdmin = false;\n            var isDirect = false;\n            var isGroup = false;\n\n            var editChannelHeaderModal = null;\n            var editChannelPurposeModal = null;\n            var renameChannelModal = null;\n            var channelMembersModal = null;\n            var channelSwitchModal = null;\n\n            if (channel) {\n                popoverContent = _react2.default.createElement(\n                    _reactBootstrap.Popover,\n                    {\n                        bsStyle: 'info',\n                        placement: 'bottom',\n                        id: 'header-popover'\n                    },\n                    _react2.default.createElement(_message_wrapper2.default, {\n                        message: channel.header,\n                        options: { singleline: true, mentionHighlight: false }\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            className: 'close visible-xs-block',\n                            onClick: function onClick() {\n                                return _this3.refs.headerOverlay.hide();\n                            }\n                        },\n                        ''\n                    )\n                );\n\n                isAdmin = _team_store2.default.isTeamAdminForCurrentTeam() || _user_store2.default.isSystemAdminForCurrentUser();\n                isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n                isChannelAdmin = _channel_store2.default.isChannelAdminForCurrentChannel();\n\n                if (channel.type === 'O') {\n                    channelTitle = channel.display_name;\n                } else if (channel.type === 'P') {\n                    channelTitle = channel.display_name;\n                } else if (channel.type === 'D') {\n                    isDirect = true;\n                    var teammateId = Utils.getUserIdFromChannelName(channel);\n                    channelTitle = Utils.displayUsername(teammateId);\n                } else if (channel.type === _constants2.default.GM_CHANNEL) {\n                    isGroup = true;\n                    channelTitle = ChannelUtils.buildGroupChannelName(channel.id);\n                }\n\n                if (channel.header.length === 0) {\n                    var link = _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            onClick: this.showEditChannelHeaderModal\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'navbar.click',\n                            defaultMessage: 'Click here'\n                        })\n                    );\n                    popoverContent = _react2.default.createElement(\n                        _reactBootstrap.Popover,\n                        {\n                            bsStyle: 'info',\n                            placement: 'bottom',\n                            id: 'header-popover'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar.noHeader',\n                                defaultMessage: 'No channel header yet.{newline}{link} to add one.',\n                                values: {\n                                    newline: _react2.default.createElement('br', null),\n                                    link: link\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            {\n                                className: 'close visible-xs-block',\n                                onClick: function onClick() {\n                                    return _this3.refs.headerOverlay.hide();\n                                }\n                            },\n                            ''\n                        )\n                    );\n                }\n\n                if (this.state.showEditChannelHeaderModal) {\n                    editChannelHeaderModal = _react2.default.createElement(_edit_channel_header_modal2.default, {\n                        onHide: function onHide() {\n                            return _this3.setState({ showEditChannelHeaderModal: false });\n                        },\n                        channel: channel\n                    });\n                }\n\n                if (this.state.showEditChannelPurposeModal) {\n                    editChannelPurposeModal = _react2.default.createElement(_edit_channel_purpose_modal2.default, {\n                        onModalDismissed: function onModalDismissed() {\n                            return _this3.setState({ showEditChannelPurposeModal: false });\n                        },\n                        channel: channel\n                    });\n                }\n\n                renameChannelModal = _react2.default.createElement(_rename_channel_modal2.default, {\n                    show: this.state.showRenameChannelModal,\n                    onHide: this.hideRenameChannelModal,\n                    channel: channel\n                });\n\n                if (this.state.showMembersModal) {\n                    channelMembersModal = _react2.default.createElement(_channel_members_modal2.default, {\n                        show: true,\n                        onModalDismissed: this.hideMembersModal,\n                        showInviteModal: function showInviteModal() {\n                            return _this3.refs.channelInviteModalButton.show();\n                        },\n                        channel: channel,\n                        isAdmin: isAdmin\n                    });\n                }\n\n                channelSwitchModal = _react2.default.createElement(_channel_switch_modal2.default, {\n                    show: this.state.showChannelSwitchModal,\n                    onHide: this.hideChannelSwitchModal\n                });\n            }\n\n            var collapseButtons = this.createCollapseButtons(currentId);\n\n            var searchButton = _react2.default.createElement(\n                'button',\n                {\n                    type: 'button',\n                    className: 'navbar-toggle pull-right',\n                    onClick: this.showSearch\n                },\n                _react2.default.createElement('span', { className: 'fa fa-search icon-search icon--white' })\n            );\n\n            var channelMenuDropdown = this.createDropdown(channel, channelTitle, isAdmin, isSystemAdmin, isChannelAdmin, isDirect, isGroup, popoverContent);\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'nav',\n                    {\n                        className: 'navbar navbar-default navbar-fixed-top',\n                        role: 'navigation'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'container-fluid theme' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'navbar-header' },\n                            collapseButtons,\n                            searchButton,\n                            channelMenuDropdown\n                        )\n                    )\n                ),\n                editChannelHeaderModal,\n                editChannelPurposeModal,\n                renameChannelModal,\n                channelMembersModal,\n                channelSwitchModal\n            );\n        }\n    }]);\n    return Navbar;\n}(_react2.default.Component);\n\nexports.default = Navbar;\n\n\nNavbar.defaultProps = {\n    teamDisplayName: ''\n};\nNavbar.propTypes = {\n    teamDisplayName: _react2.default.PropTypes.string\n};\n\n/***/ }),\n\n/***/ 2022:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _utils = __webpack_require__(11);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getCountsStateFromStores() {\n    var mentionCount = 0;\n    var messageCount = 0;\n    var teamMembers = _team_store2.default.getMyTeamMembers();\n    var channels = _channel_store2.default.getAll();\n    var members = _channel_store2.default.getMyMembers();\n\n    teamMembers.forEach(function (member) {\n        if (member.team_id !== _team_store2.default.getCurrentId()) {\n            mentionCount += member.mention_count || 0;\n            messageCount += member.msg_count || 0;\n        }\n    });\n\n    channels.forEach(function (channel) {\n        var channelMember = members[channel.id];\n        if (channelMember == null) {\n            return;\n        }\n\n        if (channel.type === 'D') {\n            mentionCount += channel.total_msg_count - channelMember.msg_count;\n        } else if (channelMember.mention_count > 0) {\n            mentionCount += channelMember.mention_count;\n        }\n        if (channelMember.notify_props.mark_unread !== 'mention' && channel.total_msg_count - channelMember.msg_count > 0) {\n            messageCount += 1;\n        }\n    });\n\n    return { mentionCount: mentionCount, messageCount: messageCount };\n} // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar NotifyCounts = function (_React$Component) {\n    (0, _inherits3.default)(NotifyCounts, _React$Component);\n\n    function NotifyCounts(props) {\n        (0, _classCallCheck3.default)(this, NotifyCounts);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (NotifyCounts.__proto__ || (0, _getPrototypeOf2.default)(NotifyCounts)).call(this, props));\n\n        _this.onListenerChange = _this.onListenerChange.bind(_this);\n\n        _this.state = getCountsStateFromStores();\n        _this.mounted = false;\n        return _this;\n    }\n\n    (0, _createClass3.default)(NotifyCounts, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.mounted = true;\n            _channel_store2.default.addChangeListener(this.onListenerChange);\n            _team_store2.default.addChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.mounted = false;\n            _channel_store2.default.removeChangeListener(this.onListenerChange);\n            _team_store2.default.removeChangeListener(this.onListenerChange);\n        }\n    }, {\n        key: 'onListenerChange',\n        value: function onListenerChange() {\n            if (this.mounted) {\n                var newState = getCountsStateFromStores();\n                if (!utils.areObjectsEqual(newState, this.state)) {\n                    this.setState(newState);\n                }\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.state.mentionCount) {\n                return _react2.default.createElement(\n                    'span',\n                    { className: 'badge badge-notify' },\n                    this.state.mentionCount\n                );\n            } else if (this.state.messageCount) {\n                return _react2.default.createElement(\n                    'span',\n                    { className: 'badge badge-notify' },\n                    ''\n                );\n            }\n            return null;\n        }\n    }]);\n    return NotifyCounts;\n}(_react2.default.Component);\n\nexports.default = NotifyCounts;\n\n/***/ }),\n\n/***/ 2023:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(13);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DateSeparator = function (_React$Component) {\n    (0, _inherits3.default)(DateSeparator, _React$Component);\n\n    function DateSeparator() {\n        (0, _classCallCheck3.default)(this, DateSeparator);\n        return (0, _possibleConstructorReturn3.default)(this, (DateSeparator.__proto__ || (0, _getPrototypeOf2.default)(DateSeparator)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(DateSeparator, [{\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'date-separator'\n                },\n                _react2.default.createElement('hr', { className: 'separator__hr' }),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'separator__text' },\n                    _react2.default.createElement(_reactIntl.FormattedDate, {\n                        value: this.props.date,\n                        weekday: 'short',\n                        month: 'short',\n                        day: '2-digit',\n                        year: 'numeric'\n                    })\n                )\n            );\n        }\n    }]);\n    return DateSeparator;\n}(_react2.default.Component);\n\nexports.default = DateSeparator;\n\n\nDateSeparator.propTypes = {\n    date: _react2.default.PropTypes.instanceOf(Date)\n};\n\n/***/ }),\n\n/***/ 2027:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactDom = __webpack_require__(30);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _browser_store = __webpack_require__(79);\n\nvar _browser_store2 = _interopRequireDefault(_browser_store);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _es = __webpack_require__(37);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RemovedFromChannelModal = function (_React$Component) {\n    (0, _inherits3.default)(RemovedFromChannelModal, _React$Component);\n\n    function RemovedFromChannelModal(props) {\n        (0, _classCallCheck3.default)(this, RemovedFromChannelModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RemovedFromChannelModal.__proto__ || (0, _getPrototypeOf2.default)(RemovedFromChannelModal)).call(this, props));\n\n        _this.handleShow = _this.handleShow.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n\n        _this.state = {\n            channelName: '',\n            remover: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(RemovedFromChannelModal, [{\n        key: 'handleShow',\n        value: function handleShow() {\n            var newState = {};\n            if (_browser_store2.default.getItem('channel-removed-state')) {\n                newState = _browser_store2.default.getItem('channel-removed-state');\n                _browser_store2.default.removeItem('channel-removed-state');\n            }\n\n            var townSquare = _channel_store2.default.getByName('town-square');\n            setTimeout(function () {\n                _es.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/channels/' + townSquare.name);\n            }, 1);\n\n            this.setState(newState);\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose() {\n            this.setState({ channelName: '', remover: '' });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).on('show.bs.modal', this.handleShow);\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).on('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).off('show.bs.modal', this.handleShow);\n            (0, _jquery2.default)(_reactDom2.default.findDOMNode(this)).off('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var currentUser = _user_store2.default.getCurrentUser();\n\n            var channelName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'removed_channel.channelName',\n                defaultMessage: 'the channel'\n            });\n            if (this.state.channelName) {\n                channelName = this.state.channelName;\n            }\n\n            var remover = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'removed_channel.someone',\n                defaultMessage: 'Someone'\n            });\n            if (this.state.remover) {\n                remover = this.state.remover;\n            }\n\n            if (currentUser != null) {\n                return _react2.default.createElement(\n                    'div',\n                    {\n                        className: 'modal fade',\n                        ref: 'modal',\n                        id: 'removed_from_channel',\n                        tabIndex: '-1',\n                        role: 'dialog',\n                        'aria-hidden': 'true'\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal-dialog' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-content' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'modal-header' },\n                                _react2.default.createElement(\n                                    'button',\n                                    {\n                                        type: 'button',\n                                        className: 'close',\n                                        'data-dismiss': 'modal',\n                                        'aria-label': 'Close'\n                                    },\n                                    _react2.default.createElement(\n                                        'span',\n                                        { 'aria-hidden': 'true' },\n                                        ''\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    'h4',\n                                    { className: 'modal-title' },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'removed_channel.from',\n                                        defaultMessage: 'Removed from '\n                                    }),\n                                    _react2.default.createElement(\n                                        'span',\n                                        { className: 'name' },\n                                        channelName\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'modal-body' },\n                                _react2.default.createElement(\n                                    'p',\n                                    null,\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'removed_channel.remover',\n                                        defaultMessage: '{remover} removed you from {channel}',\n                                        values: {\n                                            remover: remover,\n                                            channel: channelName\n                                        }\n                                    })\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'modal-footer' },\n                                _react2.default.createElement(\n                                    'button',\n                                    {\n                                        type: 'button',\n                                        className: 'btn btn-primary',\n                                        'data-dismiss': 'modal'\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'removed_channel.okay',\n                                        defaultMessage: 'Okay'\n                                    })\n                                )\n                            )\n                        )\n                    )\n                );\n            }\n\n            return _react2.default.createElement('div', null);\n        }\n    }]);\n    return RemovedFromChannelModal;\n}(_react2.default.Component); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = RemovedFromChannelModal;\n\n/***/ }),\n\n/***/ 2028:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _user_profile = __webpack_require__(338);\n\nvar _user_profile2 = _interopRequireDefault(_user_profile);\n\nvar _file_attachment_list_container = __webpack_require__(571);\n\nvar _file_attachment_list_container2 = _interopRequireDefault(_file_attachment_list_container);\n\nvar _pending_post_options = __webpack_require__(598);\n\nvar _pending_post_options2 = _interopRequireDefault(_pending_post_options);\n\nvar _post_message_container = __webpack_require__(572);\n\nvar _post_message_container2 = _interopRequireDefault(_post_message_container);\n\nvar _profile_picture = __webpack_require__(166);\n\nvar _profile_picture2 = _interopRequireDefault(_profile_picture);\n\nvar _reaction_list_container = __webpack_require__(575);\n\nvar _reaction_list_container2 = _interopRequireDefault(_reaction_list_container);\n\nvar _rhs_dropdown = __webpack_require__(1777);\n\nvar _rhs_dropdown2 = _interopRequireDefault(_rhs_dropdown);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(104);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _post_utils = __webpack_require__(105);\n\nvar PostUtils = _interopRequireWildcard(_post_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _delayed_action = __webpack_require__(246);\n\nvar _delayed_action2 = _interopRequireDefault(_delayed_action);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _emoji_picker = __webpack_require__(337);\n\nvar _emoji_picker2 = _interopRequireDefault(_emoji_picker);\n\nvar _reactDom = __webpack_require__(30);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _load = __webpack_require__(121);\n\nvar _load2 = _interopRequireDefault(_load);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _es = __webpack_require__(37);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RhsComment = function (_React$Component) {\n    (0, _inherits3.default)(RhsComment, _React$Component);\n\n    function RhsComment(props) {\n        (0, _classCallCheck3.default)(this, RhsComment);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsComment.__proto__ || (0, _getPrototypeOf2.default)(RhsComment)).call(this, props));\n\n        _this.handlePermalink = _this.handlePermalink.bind(_this);\n        _this.removePost = _this.removePost.bind(_this);\n        _this.flagPost = _this.flagPost.bind(_this);\n        _this.unflagPost = _this.unflagPost.bind(_this);\n        _this.pinPost = _this.pinPost.bind(_this);\n        _this.unpinPost = _this.unpinPost.bind(_this);\n        _this.reactEmojiClick = _this.reactEmojiClick.bind(_this);\n        _this.emojiPickerClick = _this.emojiPickerClick.bind(_this);\n\n        _this.canEdit = false;\n        _this.canDelete = false;\n        _this.editDisableAction = new _delayed_action2.default(_this.handleEditDisable);\n\n        _this.state = {\n            currentTeamDisplayName: _team_store2.default.getCurrent().name,\n            width: '',\n            height: '',\n            showReactEmojiPicker: false,\n            reactPickerOffset: 15\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsComment, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            window.addEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this2);\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            var _this3 = this;\n\n            window.removeEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this3);\n            });\n        }\n    }, {\n        key: 'handlePermalink',\n        value: function handlePermalink(e) {\n            e.preventDefault();\n            GlobalActions.showGetPostLinkModal(this.props.post);\n        }\n    }, {\n        key: 'handleEditDisable',\n        value: function handleEditDisable() {\n            this.canEdit = false;\n        }\n    }, {\n        key: 'removePost',\n        value: function removePost() {\n            GlobalActions.emitRemovePost(this.props.post);\n        }\n    }, {\n        key: 'createRemovePostButton',\n        value: function createRemovePostButton() {\n            return _react2.default.createElement(\n                'a',\n                {\n                    href: '#',\n                    className: 'post__remove theme',\n                    type: 'button',\n                    onClick: this.removePost\n                },\n                ''\n            );\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (nextProps.status !== this.props.status) {\n                return true;\n            }\n\n            if (nextProps.isBusy !== this.props.isBusy) {\n                return true;\n            }\n\n            if (nextProps.compactDisplay !== this.props.compactDisplay) {\n                return true;\n            }\n\n            if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n                return true;\n            }\n\n            if (nextProps.isFlagged !== this.props.isFlagged) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n                return true;\n            }\n\n            if (this.state.showReactEmojiPicker !== nextState.showReactEmojiPicker) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'flagPost',\n        value: function flagPost(e) {\n            e.preventDefault();\n            (0, _post_actions.flagPost)(this.props.post.id);\n        }\n    }, {\n        key: 'unflagPost',\n        value: function unflagPost(e) {\n            e.preventDefault();\n            (0, _post_actions.unflagPost)(this.props.post.id);\n        }\n    }, {\n        key: 'pinPost',\n        value: function pinPost(e) {\n            e.preventDefault();\n            (0, _post_actions.pinPost)(this.props.post.channel_id, this.props.post.id);\n        }\n    }, {\n        key: 'unpinPost',\n        value: function unpinPost(e) {\n            e.preventDefault();\n            (0, _post_actions.unpinPost)(this.props.post.channel_id, this.props.post.id);\n        }\n    }, {\n        key: 'createDropdown',\n        value: function createDropdown(isSystemMessage) {\n            var post = this.props.post;\n\n            if (post.state === _constants2.default.POST_FAILED || post.state === _constants2.default.POST_LOADING) {\n                return '';\n            }\n\n            this.canDelete = PostUtils.canDeletePost(post);\n            this.canEdit = PostUtils.canEditPost(post, this.editDisableAction);\n\n            var dropdownContents = [];\n\n            if (Utils.isMobile()) {\n                if (this.props.isFlagged) {\n                    dropdownContents.push(_react2.default.createElement(\n                        'li',\n                        {\n                            key: 'mobileFlag',\n                            role: 'presentation'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: this.unflagPost\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'rhs_root.mobile.unflag',\n                                defaultMessage: 'Unflag'\n                            })\n                        )\n                    ));\n                } else {\n                    dropdownContents.push(_react2.default.createElement(\n                        'li',\n                        {\n                            key: 'mobileFlag',\n                            role: 'presentation'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: this.flagPost\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'rhs_root.mobile.flag',\n                                defaultMessage: 'Flag'\n                            })\n                        )\n                    ));\n                }\n            }\n\n            if (!isSystemMessage) {\n                dropdownContents.push(_react2.default.createElement(\n                    'li',\n                    {\n                        key: 'rhs-root-permalink',\n                        role: 'presentation'\n                    },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            onClick: this.handlePermalink\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'rhs_comment.permalink',\n                            defaultMessage: 'Permalink'\n                        })\n                    )\n                ));\n\n                if (post.is_pinned) {\n                    dropdownContents.push(_react2.default.createElement(\n                        'li',\n                        {\n                            key: 'rhs-comment-unpin',\n                            role: 'presentation'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: this.unpinPost\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'rhs_root.unpin',\n                                defaultMessage: 'Un-pin from channel'\n                            })\n                        )\n                    ));\n                } else {\n                    dropdownContents.push(_react2.default.createElement(\n                        'li',\n                        {\n                            key: 'rhs-comment-pin',\n                            role: 'presentation'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: this.pinPost\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'rhs_root.pin',\n                                defaultMessage: 'Pin to channel'\n                            })\n                        )\n                    ));\n                }\n            }\n\n            if (this.canDelete) {\n                dropdownContents.push(_react2.default.createElement(\n                    'li',\n                    {\n                        role: 'presentation',\n                        key: 'delete-button'\n                    },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            role: 'menuitem',\n                            onClick: function onClick(e) {\n                                e.preventDefault();\n                                GlobalActions.showDeletePostModal(post, 0);\n                            }\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'rhs_comment.del',\n                            defaultMessage: 'Delete'\n                        })\n                    )\n                ));\n            }\n\n            if (this.canEdit) {\n                dropdownContents.push(_react2.default.createElement(\n                    'li',\n                    {\n                        role: 'presentation',\n                        key: 'edit-button',\n                        className: this.canEdit ? '' : 'hide'\n                    },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            role: 'menuitem',\n                            'data-toggle': 'modal',\n                            'data-target': '#edit_post',\n                            'data-refocusid': '#reply_textbox',\n                            'data-title': Utils.localizeMessage('rhs_comment.comment', 'Comment'),\n                            'data-message': post.message,\n                            'data-postid': post.id,\n                            'data-channelid': post.channel_id\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'rhs_comment.edit',\n                            defaultMessage: 'Edit'\n                        })\n                    )\n                ));\n            }\n\n            if (dropdownContents.length === 0) {\n                return '';\n            }\n\n            return _react2.default.createElement(_rhs_dropdown2.default, { dropdownContents: dropdownContents });\n        }\n    }, {\n        key: 'timeTag',\n        value: function timeTag(post, timeOptions) {\n            return _react2.default.createElement(\n                'time',\n                {\n                    className: 'post__time',\n                    dateTime: Utils.getDateForUnixTicks(post.create_at).toISOString()\n                },\n                Utils.getDateForUnixTicks(post.create_at).toLocaleString('en', timeOptions)\n            );\n        }\n    }, {\n        key: 'renderTimeTag',\n        value: function renderTimeTag(post, timeOptions) {\n            return Utils.isMobile() ? this.timeTag(post, timeOptions) : _react2.default.createElement(\n                _es.Link,\n                {\n                    to: '/' + this.state.currentTeamDisplayName + '/pl/' + post.id,\n                    target: '_blank',\n                    className: 'post__permalink'\n                },\n                this.timeTag(post, timeOptions)\n            );\n        }\n    }, {\n        key: 'emojiPickerClick',\n        value: function emojiPickerClick() {\n            // set default offset\n            var reactOffset = 15;\n            var reactSelectorHeight = 360;\n            var reactionIconY = _reactDom2.default.findDOMNode(this).getBoundingClientRect().top;\n            var rhsMinHeight = 700;\n\n            var spaceAvail = rhsMinHeight - reactionIconY;\n            if (spaceAvail < reactSelectorHeight) {\n                reactOffset = spaceAvail - reactSelectorHeight;\n            }\n            this.setState({ showReactEmojiPicker: !this.state.showReactEmojiPicker, reactPickerOffset: reactOffset });\n        }\n    }, {\n        key: 'reactEmojiClick',\n        value: function reactEmojiClick(emoji) {\n            this.setState({ showReactEmojiPicker: false });\n            var emojiName = emoji.name || emoji.aliases[0];\n            (0, _post_actions.addReaction)(this.props.post.channel_id, this.props.post.id, emojiName);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var post = this.props.post;\n            var flagIcon = _constants2.default.FLAG_ICON_SVG;\n            var mattermostLogo = _constants2.default.MATTERMOST_ICON_SVG;\n\n            var isEphemeral = Utils.isPostEphemeral(post);\n            var isPending = post.state === _constants2.default.POST_FAILED || post.state === _constants2.default.POST_LOADING;\n            var isSystemMessage = PostUtils.isSystemMessage(post);\n\n            var currentUserCss = '';\n            if (this.props.currentUser.id === post.user_id) {\n                currentUserCss = 'current--user';\n            }\n\n            var timestamp = this.props.currentUser.last_picture_update;\n\n            var status = this.props.status;\n            if (post.props && post.props.from_webhook === 'true') {\n                status = null;\n            }\n\n            var botIndicator = void 0;\n            var userProfile = _react2.default.createElement(_user_profile2.default, {\n                user: this.props.user,\n                status: status,\n                isBusy: this.props.isBusy\n            });\n\n            if (post.props && post.props.from_webhook) {\n                if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: this.props.user,\n                        overwriteName: post.props.override_username,\n                        disablePopover: true\n                    });\n                } else {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: this.props.user,\n                        disablePopover: true\n                    });\n                }\n\n                botIndicator = _react2.default.createElement(\n                    'li',\n                    { className: 'col col__name bot-indicator' },\n                    'BOT'\n                );\n            } else if (isSystemMessage) {\n                userProfile = _react2.default.createElement(_user_profile2.default, {\n                    user: {},\n                    overwriteName: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.system',\n                        defaultMessage: 'System'\n                    }),\n                    overwriteImage: _constants2.default.SYSTEM_MESSAGE_PROFILE_IMAGE,\n                    disablePopover: true\n                });\n            }\n\n            var loading = void 0;\n            var postClass = '';\n\n            if (post.state === _constants2.default.POST_FAILED) {\n                postClass += ' post-fail';\n                loading = _react2.default.createElement(_pending_post_options2.default, { post: this.props.post });\n            } else if (post.state === _constants2.default.POST_LOADING) {\n                postClass += ' post-waiting';\n                loading = _react2.default.createElement('img', {\n                    className: 'post-loading-gif pull-right',\n                    src: _load2.default\n                });\n            }\n\n            if (PostUtils.isEdited(this.props.post)) {\n                postClass += ' post--edited';\n            }\n\n            var systemMessageClass = '';\n            if (isSystemMessage) {\n                systemMessageClass = 'post--system';\n            }\n\n            var profilePic = _react2.default.createElement(_profile_picture2.default, {\n                src: PostUtils.getProfilePicSrcForPost(post, timestamp),\n                status: status,\n                width: '36',\n                height: '36',\n                user: this.props.user,\n                isBusy: this.props.isBusy\n            });\n\n            if (post.props && post.props.from_webhook) {\n                profilePic = _react2.default.createElement(_profile_picture2.default, {\n                    src: PostUtils.getProfilePicSrcForPost(post, timestamp),\n                    width: '36',\n                    height: '36'\n                });\n            }\n\n            if (isSystemMessage) {\n                profilePic = _react2.default.createElement('span', {\n                    className: 'icon',\n                    dangerouslySetInnerHTML: { __html: mattermostLogo }\n                });\n            }\n\n            var compactClass = '';\n            if (this.props.compactDisplay) {\n                compactClass = 'post--compact';\n\n                if (post.props && post.props.from_webhook) {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: ''\n                    });\n                } else {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: '',\n                        status: status,\n                        user: this.props.user,\n                        isBusy: this.props.isBusy\n                    });\n                }\n            }\n\n            var profilePicContainer = _react2.default.createElement(\n                'div',\n                { className: 'post__img' },\n                profilePic\n            );\n\n            var fileAttachment = null;\n            if (post.file_ids && post.file_ids.length > 0) {\n                fileAttachment = _react2.default.createElement(_file_attachment_list_container2.default, {\n                    post: post,\n                    compactDisplay: this.props.compactDisplay\n                });\n            }\n\n            var flag = void 0;\n            var flagFunc = void 0;\n            var flagVisible = '';\n            var flagTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'flagTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'flag_post.flag',\n                    defaultMessage: 'Flag for follow up'\n                })\n            );\n            if (this.props.isFlagged) {\n                flagVisible = 'visible';\n                flag = _react2.default.createElement('span', {\n                    className: 'icon',\n                    dangerouslySetInnerHTML: { __html: flagIcon }\n                });\n                flagFunc = this.unflagPost;\n                flagTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'flagTooltip' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'flag_post.unflag',\n                        defaultMessage: 'Unflag'\n                    })\n                );\n            } else {\n                flag = _react2.default.createElement('span', {\n                    className: 'icon',\n                    dangerouslySetInnerHTML: { __html: flagIcon }\n                });\n                flagFunc = this.flagPost;\n            }\n\n            var flagTrigger = void 0;\n            if (!isEphemeral) {\n                flagTrigger = _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        key: 'commentflagtooltipkey' + flagVisible,\n                        delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                        placement: 'top',\n                        overlay: flagTooltip\n                    },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            className: 'flag-icon__container ' + flagVisible,\n                            onClick: flagFunc\n                        },\n                        flag\n                    )\n                );\n            }\n\n            var react = void 0;\n            var reactOverlay = void 0;\n\n            if (!isEphemeral && !isPending && !isSystemMessage && Utils.isFeatureEnabled(_constants2.default.PRE_RELEASE_FEATURES.EMOJI_PICKER_PREVIEW)) {\n                react = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            className: 'reacticon__container reaction',\n                            onClick: this.emojiPickerClick,\n                            ref: 'rhs_reacticon_' + post.id\n                        },\n                        _react2.default.createElement('i', { className: 'fa fa-smile-o' })\n                    )\n                );\n                reactOverlay = _react2.default.createElement(\n                    _reactBootstrap.Overlay,\n                    {\n                        id: 'rhs_react_overlay_' + post.id,\n                        show: this.state.showReactEmojiPicker,\n                        placement: 'top',\n                        rootClose: true,\n                        container: this.refs['post_body_' + post.id],\n                        onHide: function onHide() {\n                            return _this4.setState({ showReactEmojiPicker: false });\n                        },\n                        target: function target() {\n                            return _reactDom2.default.findDOMNode(_this4.refs['rhs_reacticon_' + post.id]);\n                        }\n\n                    },\n                    _react2.default.createElement(_emoji_picker2.default, {\n                        onEmojiClick: this.reactEmojiClick,\n                        pickerLocation: 'react-rhs-comment',\n                        emojiOffset: this.state.reactPickerOffset\n                    })\n                );\n            }\n\n            var options = void 0;\n            if (isEphemeral) {\n                options = _react2.default.createElement(\n                    'li',\n                    { className: 'col col__remove' },\n                    this.createRemovePostButton()\n                );\n            } else if (!isSystemMessage) {\n                options = _react2.default.createElement(\n                    'li',\n                    { className: 'col col__reply' },\n                    reactOverlay,\n                    this.createDropdown(isSystemMessage),\n                    react\n                );\n            }\n\n            var pinnedBadge = void 0;\n            if (post.is_pinned) {\n                pinnedBadge = _react2.default.createElement(\n                    'span',\n                    { className: 'post__pinned-badge' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.pinned',\n                        defaultMessage: 'Pinned'\n                    })\n                );\n            }\n\n            var timeOptions = {\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: !this.props.useMilitaryTime\n            };\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    ref: 'post_body_' + post.id,\n                    className: 'post post--thread ' + currentUserCss + ' ' + compactClass + ' ' + systemMessageClass\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post__content' },\n                    profilePicContainer,\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'ul',\n                            { className: 'post__header' },\n                            _react2.default.createElement(\n                                'li',\n                                { className: 'col col__name' },\n                                _react2.default.createElement(\n                                    'strong',\n                                    null,\n                                    userProfile\n                                )\n                            ),\n                            botIndicator,\n                            _react2.default.createElement(\n                                'li',\n                                { className: 'col' },\n                                this.renderTimeTag(post, timeOptions),\n                                pinnedBadge,\n                                flagTrigger\n                            ),\n                            options\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post__body' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: postClass },\n                                loading,\n                                _react2.default.createElement(_post_message_container2.default, { post: post })\n                            ),\n                            fileAttachment,\n                            _react2.default.createElement(_reaction_list_container2.default, { post: post })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsComment;\n}(_react2.default.Component); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = RhsComment;\n\n\nRhsComment.propTypes = {\n    post: _react2.default.PropTypes.object,\n    user: _react2.default.PropTypes.object.isRequired,\n    currentUser: _react2.default.PropTypes.object.isRequired,\n    compactDisplay: _react2.default.PropTypes.bool,\n    useMilitaryTime: _react2.default.PropTypes.bool.isRequired,\n    isFlagged: _react2.default.PropTypes.bool,\n    status: _react2.default.PropTypes.string,\n    isBusy: _react2.default.PropTypes.bool\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ }),\n\n/***/ 2029:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = __webpack_require__(581);\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar RhsDropdownMenu = function (_Dropdown$Menu) {\n    (0, _inherits3.default)(RhsDropdownMenu, _Dropdown$Menu);\n\n    function RhsDropdownMenu(props) {\n        (0, _classCallCheck3.default)(this, RhsDropdownMenu);\n        //eslint-disable-line no-useless-constructor\n        return (0, _possibleConstructorReturn3.default)(this, (RhsDropdownMenu.__proto__ || (0, _getPrototypeOf2.default)(RhsDropdownMenu)).call(this, props));\n    }\n\n    (0, _createClass3.default)(RhsDropdownMenu, [{\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'dropdown-menu__content',\n                    onClick: this.props.onClose\n                },\n                (0, _get3.default)(RhsDropdownMenu.prototype.__proto__ || (0, _getPrototypeOf2.default)(RhsDropdownMenu.prototype), 'render', this).call(this)\n            );\n        }\n    }]);\n    return RhsDropdownMenu;\n}(_reactBootstrap.Dropdown.Menu);\n\nexports.default = RhsDropdownMenu;\n\n/***/ }),\n\n/***/ 2030:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _app_dispatcher = __webpack_require__(16);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(104);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ActionTypes = _constants2.default.ActionTypes;\n\nvar RhsHeaderPost = function (_React$Component) {\n    (0, _inherits3.default)(RhsHeaderPost, _React$Component);\n\n    function RhsHeaderPost(props) {\n        (0, _classCallCheck3.default)(this, RhsHeaderPost);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsHeaderPost.__proto__ || (0, _getPrototypeOf2.default)(RhsHeaderPost)).call(this, props));\n\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.toggleSize = _this.toggleSize.bind(_this);\n        _this.handleBack = _this.handleBack.bind(_this);\n\n        _this.state = {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsHeaderPost, [{\n        key: 'handleClose',\n        value: function handleClose(e) {\n            e.preventDefault();\n            GlobalActions.emitCloseRightHandSide();\n            this.props.shrink();\n        }\n    }, {\n        key: 'toggleSize',\n        value: function toggleSize(e) {\n            e.preventDefault();\n            this.props.toggleSize();\n        }\n    }, {\n        key: 'handleBack',\n        value: function handleBack(e) {\n            e.preventDefault();\n\n            if (this.props.fromSearch || this.props.isWebrtc) {\n                _app_dispatcher2.default.handleServerAction({\n                    type: ActionTypes.RECEIVED_SEARCH_TERM,\n                    term: this.props.fromSearch,\n                    do_search: true,\n                    is_mention_search: this.props.isMentionSearch\n                });\n\n                _app_dispatcher2.default.handleServerAction({\n                    type: ActionTypes.RECEIVED_POST_SELECTED,\n                    postId: null\n                });\n            } else if (this.props.fromFlaggedPosts) {\n                (0, _post_actions.getFlaggedPosts)();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var back = void 0;\n            var closeSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'closeSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.closeSidebarTooltip',\n                    defaultMessage: 'Close Sidebar'\n                })\n            );\n\n            var backToResultsTooltip = void 0;\n            if (this.props.fromSearch) {\n                backToResultsTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'backToResultsTooltip' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_header.backToResultsTooltip',\n                        defaultMessage: 'Back to Search Results'\n                    })\n                );\n            } else if (this.props.fromFlaggedPosts) {\n                backToResultsTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'backToResultsTooltip' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_header.backToFlaggedTooltip',\n                        defaultMessage: 'Back to Flagged Posts'\n                    })\n                );\n            } else if (this.props.isWebrtc) {\n                backToResultsTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'backToResultsTooltip' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_header.backToCallTooltip',\n                        defaultMessage: 'Back to Call'\n                    })\n                );\n            }\n\n            var expandSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'expandSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.expandSidebarTooltip',\n                    defaultMessage: 'Expand Sidebar'\n                })\n            );\n\n            var shrinkSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'shrinkSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.shrinkSidebarTooltip',\n                    defaultMessage: 'Shrink Sidebar'\n                })\n            );\n\n            if (this.props.fromSearch || this.props.fromFlaggedPosts || this.props.isWebrtc) {\n                back = _react2.default.createElement(\n                    'a',\n                    {\n                        href: '#',\n                        onClick: this.handleBack,\n                        className: 'sidebar--right__back'\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.OverlayTrigger,\n                        {\n                            delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                            placement: 'top',\n                            overlay: backToResultsTooltip\n                        },\n                        _react2.default.createElement('i', { className: 'fa fa-angle-left' })\n                    )\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'sidebar--right__header' },\n                _react2.default.createElement(\n                    'span',\n                    { className: 'sidebar--right__title' },\n                    back,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_header.details',\n                        defaultMessage: 'Message Details'\n                    })\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'pull-right' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__expand',\n                            'aria-label': 'Expand',\n                            onClick: this.toggleSize\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: expandSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-expand' })\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: shrinkSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-compress' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__close',\n                            'aria-label': 'Close',\n                            onClick: this.handleClose\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: closeSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-sign-out' })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsHeaderPost;\n}(_react2.default.Component);\n\nexports.default = RhsHeaderPost;\n\n\nRhsHeaderPost.defaultProps = {\n    isMentionSearch: false,\n    fromSearch: ''\n};\nRhsHeaderPost.propTypes = {\n    isMentionSearch: _react2.default.PropTypes.bool,\n    isWebrtc: _react2.default.PropTypes.bool,\n    fromSearch: _react2.default.PropTypes.string,\n    fromFlaggedPosts: _react2.default.PropTypes.bool,\n    toggleSize: _react2.default.PropTypes.func,\n    shrink: _react2.default.PropTypes.func\n};\n\n/***/ }),\n\n/***/ 2031:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _user_profile = __webpack_require__(338);\n\nvar _user_profile2 = _interopRequireDefault(_user_profile);\n\nvar _post_body_additional_content = __webpack_require__(599);\n\nvar _post_body_additional_content2 = _interopRequireDefault(_post_body_additional_content);\n\nvar _post_message_container = __webpack_require__(572);\n\nvar _post_message_container2 = _interopRequireDefault(_post_message_container);\n\nvar _file_attachment_list_container = __webpack_require__(571);\n\nvar _file_attachment_list_container2 = _interopRequireDefault(_file_attachment_list_container);\n\nvar _profile_picture = __webpack_require__(166);\n\nvar _profile_picture2 = _interopRequireDefault(_profile_picture);\n\nvar _reaction_list_container = __webpack_require__(575);\n\nvar _reaction_list_container2 = _interopRequireDefault(_reaction_list_container);\n\nvar _rhs_dropdown = __webpack_require__(1777);\n\nvar _rhs_dropdown2 = _interopRequireDefault(_rhs_dropdown);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(104);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _post_utils = __webpack_require__(105);\n\nvar PostUtils = _interopRequireWildcard(_post_utils);\n\nvar _emoji_picker = __webpack_require__(337);\n\nvar _emoji_picker2 = _interopRequireDefault(_emoji_picker);\n\nvar _reactDom = __webpack_require__(30);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _delayed_action = __webpack_require__(246);\n\nvar _delayed_action2 = _interopRequireDefault(_delayed_action);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _es = __webpack_require__(37);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar RhsRootPost = function (_React$Component) {\n    (0, _inherits3.default)(RhsRootPost, _React$Component);\n\n    function RhsRootPost(props) {\n        (0, _classCallCheck3.default)(this, RhsRootPost);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsRootPost.__proto__ || (0, _getPrototypeOf2.default)(RhsRootPost)).call(this, props));\n\n        _this.handlePermalink = _this.handlePermalink.bind(_this);\n        _this.flagPost = _this.flagPost.bind(_this);\n        _this.unflagPost = _this.unflagPost.bind(_this);\n        _this.pinPost = _this.pinPost.bind(_this);\n        _this.unpinPost = _this.unpinPost.bind(_this);\n        _this.reactEmojiClick = _this.reactEmojiClick.bind(_this);\n        _this.emojiPickerClick = _this.emojiPickerClick.bind(_this);\n\n        _this.canEdit = false;\n        _this.canDelete = false;\n        _this.editDisableAction = new _delayed_action2.default(_this.handleEditDisable);\n\n        _this.state = {\n            currentTeamDisplayName: _team_store2.default.getCurrent().name,\n            width: '',\n            height: '',\n            showRHSEmojiPicker: false,\n            testStateObj: true\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsRootPost, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            window.addEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this2);\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            var _this3 = this;\n\n            window.removeEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this3);\n            });\n        }\n    }, {\n        key: 'handlePermalink',\n        value: function handlePermalink(e) {\n            e.preventDefault();\n            GlobalActions.showGetPostLinkModal(this.props.post);\n        }\n    }, {\n        key: 'handleEditDisable',\n        value: function handleEditDisable() {\n            this.canEdit = false;\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (nextProps.status !== this.props.status) {\n                return true;\n            }\n\n            if (nextProps.isBusy !== this.props.isBusy) {\n                return true;\n            }\n\n            if (nextProps.compactDisplay !== this.props.compactDisplay) {\n                return true;\n            }\n\n            if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n                return true;\n            }\n\n            if (nextProps.isFlagged !== this.props.isFlagged) {\n                return true;\n            }\n\n            if (nextProps.previewCollapsed !== this.props.previewCollapsed) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.user, this.props.user)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n                return true;\n            }\n\n            if (this.state.showRHSEmojiPicker !== nextState.showRHSEmojiPicker) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'flagPost',\n        value: function flagPost(e) {\n            e.preventDefault();\n            (0, _post_actions.flagPost)(this.props.post.id);\n        }\n    }, {\n        key: 'unflagPost',\n        value: function unflagPost(e) {\n            e.preventDefault();\n            (0, _post_actions.unflagPost)(this.props.post.id);\n        }\n    }, {\n        key: 'timeTag',\n        value: function timeTag(post, timeOptions) {\n            return _react2.default.createElement(\n                'time',\n                {\n                    className: 'post__time',\n                    dateTime: Utils.getDateForUnixTicks(post.create_at).toISOString()\n                },\n                Utils.getDateForUnixTicks(post.create_at).toLocaleString('en', timeOptions)\n            );\n        }\n    }, {\n        key: 'renderTimeTag',\n        value: function renderTimeTag(post, timeOptions) {\n            return Utils.isMobile() ? this.timeTag(post, timeOptions) : _react2.default.createElement(\n                _es.Link,\n                {\n                    to: '/' + this.state.currentTeamDisplayName + '/pl/' + post.id,\n                    target: '_blank',\n                    className: 'post__permalink'\n                },\n                this.timeTag(post, timeOptions)\n            );\n        }\n    }, {\n        key: 'pinPost',\n        value: function pinPost(e) {\n            e.preventDefault();\n            (0, _post_actions.pinPost)(this.props.post.channel_id, this.props.post.id);\n        }\n    }, {\n        key: 'unpinPost',\n        value: function unpinPost(e) {\n            e.preventDefault();\n            (0, _post_actions.unpinPost)(this.props.post.channel_id, this.props.post.id);\n        }\n    }, {\n        key: 'emojiPickerClick',\n        value: function emojiPickerClick() {\n            this.setState({ showRHSEmojiPicker: !this.state.showRHSEmojiPicker });\n        }\n    }, {\n        key: 'reactEmojiClick',\n        value: function reactEmojiClick(emoji) {\n            var emojiName = emoji.name || emoji.aliases[0];\n            (0, _post_actions.addReaction)(this.props.post.channel_id, this.props.post.id, emojiName);\n            this.setState({ showRHSEmojiPicker: false });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var post = this.props.post;\n            var user = this.props.user;\n            var mattermostLogo = _constants2.default.MATTERMOST_ICON_SVG;\n            var timestamp = user ? user.last_picture_update : 0;\n            var channel = _channel_store2.default.get(post.channel_id);\n            var flagIcon = _constants2.default.FLAG_ICON_SVG;\n\n            this.canDelete = PostUtils.canDeletePost(post);\n            this.canEdit = PostUtils.canEditPost(post, this.editDisableAction);\n\n            var isEphemeral = Utils.isPostEphemeral(post);\n            var isPending = post.state === _constants2.default.POST_FAILED || post.state === _constants2.default.POST_LOADING;\n            var isSystemMessage = PostUtils.isSystemMessage(post);\n\n            var type = 'Post';\n            if (post.root_id.length > 0) {\n                type = 'Comment';\n            }\n\n            var userCss = '';\n            if (_user_store2.default.getCurrentId() === post.user_id) {\n                userCss = 'current--user';\n            }\n\n            var systemMessageClass = '';\n            if (isSystemMessage) {\n                systemMessageClass = 'post--system';\n            }\n\n            var channelName;\n            if (channel) {\n                if (channel.type === 'D') {\n                    channelName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'rhs_root.direct',\n                        defaultMessage: 'Direct Message'\n                    });\n                } else {\n                    channelName = channel.display_name;\n                }\n            }\n\n            var react = void 0;\n            var reactOverlay = void 0;\n\n            if (!isEphemeral && !isPending && !isSystemMessage && Utils.isFeatureEnabled(_constants2.default.PRE_RELEASE_FEATURES.EMOJI_PICKER_PREVIEW)) {\n                react = _react2.default.createElement(\n                    'span',\n                    null,\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            className: 'reacticon__container reaction',\n                            onClick: this.emojiPickerClick,\n                            ref: 'rhs_root_reacticon'\n                        },\n                        _react2.default.createElement('i', { className: 'fa fa-smile-o' })\n                    )\n                );\n                reactOverlay = _react2.default.createElement(\n                    _reactBootstrap.Overlay,\n                    {\n                        id: 'rhs_react_overlay',\n                        show: this.state.showRHSEmojiPicker,\n                        placement: 'bottom',\n                        rootClose: true,\n                        container: this,\n                        onHide: function onHide() {\n                            return _this4.setState({ showRHSEmojiPicker: false });\n                        },\n                        target: function target() {\n                            return _reactDom2.default.findDOMNode(_this4.refs.rhs_root_reacticon);\n                        }\n\n                    },\n                    _react2.default.createElement(_emoji_picker2.default, {\n                        onEmojiClick: this.reactEmojiClick,\n                        pickerLocation: 'react'\n                    })\n                );\n            }\n\n            var dropdownContents = [];\n\n            if (Utils.isMobile()) {\n                if (this.props.isFlagged) {\n                    dropdownContents.push(_react2.default.createElement(\n                        'li',\n                        {\n                            key: 'mobileFlag',\n                            role: 'presentation'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: this.unflagPost\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'rhs_root.mobile.unflag',\n                                defaultMessage: 'Unflag'\n                            })\n                        )\n                    ));\n                } else {\n                    dropdownContents.push(_react2.default.createElement(\n                        'li',\n                        {\n                            key: 'mobileFlag',\n                            role: 'presentation'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: this.flagPost\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'rhs_root.mobile.flag',\n                                defaultMessage: 'Flag'\n                            })\n                        )\n                    ));\n                }\n            }\n\n            if (!isSystemMessage) {\n                dropdownContents.push(_react2.default.createElement(\n                    'li',\n                    {\n                        key: 'rhs-root-permalink',\n                        role: 'presentation'\n                    },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            onClick: this.handlePermalink\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'rhs_root.permalink',\n                            defaultMessage: 'Permalink'\n                        })\n                    )\n                ));\n\n                if (post.is_pinned) {\n                    dropdownContents.push(_react2.default.createElement(\n                        'li',\n                        {\n                            key: 'rhs-root-unpin',\n                            role: 'presentation'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: this.unpinPost\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'rhs_root.unpin',\n                                defaultMessage: 'Un-pin from channel'\n                            })\n                        )\n                    ));\n                } else {\n                    dropdownContents.push(_react2.default.createElement(\n                        'li',\n                        {\n                            key: 'rhs-root-pin',\n                            role: 'presentation'\n                        },\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: this.pinPost\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'rhs_root.pin',\n                                defaultMessage: 'Pin to channel'\n                            })\n                        )\n                    ));\n                }\n            }\n\n            if (this.canDelete) {\n                dropdownContents.push(_react2.default.createElement(\n                    'li',\n                    {\n                        key: 'rhs-root-delete',\n                        role: 'presentation'\n                    },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            role: 'menuitem',\n                            onClick: function onClick() {\n                                return GlobalActions.showDeletePostModal(post, _this4.props.commentCount);\n                            }\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'rhs_root.del',\n                            defaultMessage: 'Delete'\n                        })\n                    )\n                ));\n            }\n\n            if (this.canEdit) {\n                dropdownContents.push(_react2.default.createElement(\n                    'li',\n                    {\n                        key: 'rhs-root-edit',\n                        role: 'presentation',\n                        className: this.canEdit ? '' : 'hide'\n                    },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            role: 'menuitem',\n                            'data-toggle': 'modal',\n                            'data-target': '#edit_post',\n                            'data-refocusid': '#reply_textbox',\n                            'data-title': type,\n                            'data-message': post.message,\n                            'data-postid': post.id,\n                            'data-channelid': post.channel_id\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'rhs_root.edit',\n                            defaultMessage: 'Edit'\n                        })\n                    )\n                ));\n            }\n\n            var rootOptions = '';\n            if (dropdownContents.length > 0) {\n                rootOptions = _react2.default.createElement(_rhs_dropdown2.default, { dropdownContents: dropdownContents });\n            }\n\n            var fileAttachment = null;\n            if (post.file_ids && post.file_ids.length > 0) {\n                fileAttachment = _react2.default.createElement(_file_attachment_list_container2.default, {\n                    post: post,\n                    compactDisplay: this.props.compactDisplay\n                });\n            }\n\n            var userProfile = _react2.default.createElement(_user_profile2.default, {\n                user: user,\n                status: this.props.status,\n                isBusy: this.props.isBusy\n            });\n            var botIndicator = void 0;\n\n            if (post.props && post.props.from_webhook) {\n                if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: user,\n                        overwriteName: post.props.override_username,\n                        disablePopover: true\n                    });\n                } else {\n                    userProfile = _react2.default.createElement(_user_profile2.default, {\n                        user: user,\n                        disablePopover: true\n                    });\n                }\n\n                botIndicator = _react2.default.createElement(\n                    'li',\n                    { className: 'col col__name bot-indicator' },\n                    'BOT'\n                );\n            } else if (isSystemMessage) {\n                userProfile = _react2.default.createElement(_user_profile2.default, {\n                    user: {},\n                    overwriteName: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.system',\n                        defaultMessage: 'System'\n                    }),\n                    overwriteImage: _constants2.default.SYSTEM_MESSAGE_PROFILE_IMAGE,\n                    disablePopover: true\n                });\n            }\n\n            var status = this.props.status;\n            if (post.props && post.props.from_webhook === 'true') {\n                status = null;\n            }\n\n            var profilePic = _react2.default.createElement(_profile_picture2.default, {\n                src: PostUtils.getProfilePicSrcForPost(post, timestamp),\n                status: status,\n                width: '36',\n                height: '36',\n                user: this.props.user,\n                isBusy: this.props.isBusy\n            });\n\n            if (post.props && post.props.from_webhook) {\n                profilePic = _react2.default.createElement(_profile_picture2.default, {\n                    src: PostUtils.getProfilePicSrcForPost(post, timestamp),\n                    width: '36',\n                    height: '36'\n                });\n            }\n\n            if (isSystemMessage) {\n                profilePic = _react2.default.createElement('span', {\n                    className: 'icon',\n                    dangerouslySetInnerHTML: { __html: mattermostLogo }\n                });\n            }\n\n            var compactClass = '';\n            var postClass = '';\n            if (this.props.compactDisplay) {\n                compactClass = 'post--compact';\n\n                if (post.props && post.props.from_webhook) {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: ''\n                    });\n                } else {\n                    profilePic = _react2.default.createElement(_profile_picture2.default, {\n                        src: '',\n                        status: status,\n                        user: this.props.user,\n                        isBusy: this.props.isBusy\n                    });\n                }\n            }\n\n            if (PostUtils.isEdited(this.props.post)) {\n                postClass += ' post--edited';\n            }\n\n            var profilePicContainer = _react2.default.createElement(\n                'div',\n                { className: 'post__img' },\n                profilePic\n            );\n\n            var flag = void 0;\n            var flagFunc = void 0;\n            var flagVisible = '';\n            var flagTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'flagTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'flag_post.flag',\n                    defaultMessage: 'Flag for follow up'\n                })\n            );\n            if (this.props.isFlagged) {\n                flagVisible = 'visible';\n                flag = _react2.default.createElement('span', {\n                    className: 'icon',\n                    dangerouslySetInnerHTML: { __html: flagIcon }\n                });\n                flagFunc = this.unflagPost;\n                flagTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'flagTooltip' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'flag_post.unflag',\n                        defaultMessage: 'Unflag'\n                    })\n                );\n            } else {\n                flag = _react2.default.createElement('span', {\n                    className: 'icon',\n                    dangerouslySetInnerHTML: { __html: flagIcon }\n                });\n                flagFunc = this.flagPost;\n            }\n\n            var pinnedBadge = void 0;\n            if (post.is_pinned) {\n                pinnedBadge = _react2.default.createElement(\n                    'span',\n                    { className: 'post__pinned-badge' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.pinned',\n                        defaultMessage: 'Pinned'\n                    })\n                );\n            }\n\n            var timeOptions = {\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: !this.props.useMilitaryTime\n            };\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    id: 'thread--root',\n                    className: 'post post--root post--thread ' + userCss + ' ' + systemMessageClass + ' ' + compactClass\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post-right-channel__name' },\n                    channelName\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'post__content' },\n                    profilePicContainer,\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'ul',\n                            { className: 'post__header' },\n                            _react2.default.createElement(\n                                'li',\n                                { className: 'col__name' },\n                                userProfile\n                            ),\n                            botIndicator,\n                            _react2.default.createElement(\n                                'li',\n                                { className: 'col' },\n                                this.renderTimeTag(post, timeOptions),\n                                pinnedBadge,\n                                _react2.default.createElement(\n                                    _reactBootstrap.OverlayTrigger,\n                                    {\n                                        key: 'rootpostflagtooltipkey' + flagVisible,\n                                        delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                        placement: 'top',\n                                        overlay: flagTooltip\n                                    },\n                                    _react2.default.createElement(\n                                        'a',\n                                        {\n                                            href: '#',\n                                            className: 'flag-icon__container ' + flagVisible,\n                                            onClick: flagFunc\n                                        },\n                                        flag\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'li',\n                                { className: 'col col__reply' },\n                                reactOverlay,\n                                rootOptions,\n                                react\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post__body' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: postClass },\n                                _react2.default.createElement(_post_body_additional_content2.default, {\n                                    post: post,\n                                    message: _react2.default.createElement(_post_message_container2.default, { post: post }),\n                                    previewCollapsed: this.props.previewCollapsed\n                                })\n                            ),\n                            fileAttachment,\n                            _react2.default.createElement(_reaction_list_container2.default, { post: post })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsRootPost;\n}(_react2.default.Component);\n\nexports.default = RhsRootPost;\n\n\nRhsRootPost.defaultProps = {\n    commentCount: 0\n};\nRhsRootPost.propTypes = {\n    post: _react2.default.PropTypes.object.isRequired,\n    user: _react2.default.PropTypes.object.isRequired,\n    currentUser: _react2.default.PropTypes.object.isRequired,\n    commentCount: _react2.default.PropTypes.number,\n    compactDisplay: _react2.default.PropTypes.bool,\n    useMilitaryTime: _react2.default.PropTypes.bool.isRequired,\n    isFlagged: _react2.default.PropTypes.bool,\n    status: _react2.default.PropTypes.string,\n    previewCollapsed: _react2.default.PropTypes.string,\n    isBusy: _react2.default.PropTypes.bool\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ }),\n\n/***/ 2032:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(31);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _stringify = __webpack_require__(71);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _extends2 = __webpack_require__(9);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nexports.renderView = renderView;\nexports.renderThumbHorizontal = renderThumbHorizontal;\nexports.renderThumbVertical = renderThumbVertical;\n\nvar _create_comment = __webpack_require__(2002);\n\nvar _create_comment2 = _interopRequireDefault(_create_comment);\n\nvar _rhs_header_post = __webpack_require__(2030);\n\nvar _rhs_header_post2 = _interopRequireDefault(_rhs_header_post);\n\nvar _rhs_root_post = __webpack_require__(2031);\n\nvar _rhs_root_post2 = _interopRequireDefault(_rhs_root_post);\n\nvar _rhs_comment = __webpack_require__(2028);\n\nvar _rhs_comment2 = _interopRequireDefault(_rhs_comment);\n\nvar _floating_timestamp = __webpack_require__(597);\n\nvar _floating_timestamp2 = _interopRequireDefault(_floating_timestamp);\n\nvar _date_separator = __webpack_require__(2023);\n\nvar _date_separator2 = _interopRequireDefault(_date_separator);\n\nvar _post_store = __webpack_require__(140);\n\nvar _post_store2 = _interopRequireDefault(_post_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _preference_store = __webpack_require__(42);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _webrtc_store = __webpack_require__(334);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _delayed_action = __webpack_require__(246);\n\nvar _delayed_action2 = _interopRequireDefault(_delayed_action);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactCustomScrollbars = __webpack_require__(2178);\n\nvar _reactCustomScrollbars2 = _interopRequireDefault(_reactCustomScrollbars);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Preferences = _constants2.default.Preferences; // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction renderView(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--view'\n    }));\n}\n\nfunction renderThumbHorizontal(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--horizontal'\n    }));\n}\n\nfunction renderThumbVertical(props) {\n    return _react2.default.createElement('div', (0, _extends3.default)({}, props, {\n        className: 'scrollbar--vertical'\n    }));\n}\n\nvar RhsThread = function (_React$Component) {\n    (0, _inherits3.default)(RhsThread, _React$Component);\n\n    function RhsThread(props) {\n        (0, _classCallCheck3.default)(this, RhsThread);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (RhsThread.__proto__ || (0, _getPrototypeOf2.default)(RhsThread)).call(this, props));\n\n        _this.mounted = false;\n\n        _this.onPostChange = _this.onPostChange.bind(_this);\n        _this.onUserChange = _this.onUserChange.bind(_this);\n        _this.forceUpdateInfo = _this.forceUpdateInfo.bind(_this);\n        _this.onPreferenceChange = _this.onPreferenceChange.bind(_this);\n        _this.onStatusChange = _this.onStatusChange.bind(_this);\n        _this.onBusy = _this.onBusy.bind(_this);\n        _this.handleResize = _this.handleResize.bind(_this);\n        _this.handleScroll = _this.handleScroll.bind(_this);\n        _this.handleScrollStop = _this.handleScrollStop.bind(_this);\n        _this.scrollStopAction = new _delayed_action2.default(_this.handleScrollStop);\n\n        var state = _this.getPosts();\n        state.windowWidth = Utils.windowWidth();\n        state.windowHeight = Utils.windowHeight();\n        state.profiles = JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles()));\n        state.compactDisplay = _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT;\n        state.flaggedPosts = _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_FLAGGED_POST);\n        state.statuses = (0, _assign2.default)({}, _user_store2.default.getStatuses());\n        state.previewsCollapsed = _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, 'false');\n        state.isBusy = _webrtc_store2.default.isBusy();\n\n        _this.state = (0, _extends3.default)({}, state, {\n            isScrolling: false,\n            topRhsPostCreateAt: 0\n        });\n        return _this;\n    }\n\n    (0, _createClass3.default)(RhsThread, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _post_store2.default.addSelectedPostChangeListener(this.onPostChange);\n            _post_store2.default.addChangeListener(this.onPostChange);\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            _user_store2.default.addChangeListener(this.onUserChange);\n            _user_store2.default.addStatusesChangeListener(this.onStatusChange);\n            _webrtc_store2.default.addBusyListener(this.onBusy);\n\n            this.scrollToBottom();\n            window.addEventListener('resize', this.handleResize);\n\n            this.mounted = true;\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _post_store2.default.removeSelectedPostChangeListener(this.onPostChange);\n            _post_store2.default.removeChangeListener(this.onPostChange);\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n            _user_store2.default.removeChangeListener(this.onUserChange);\n            _user_store2.default.removeStatusesChangeListener(this.onStatusChange);\n            _webrtc_store2.default.removeBusyListener(this.onBusy);\n\n            window.removeEventListener('resize', this.handleResize);\n\n            this.mounted = false;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            var prevPostsArray = prevState.postsArray || [];\n            var curPostsArray = this.state.postsArray || [];\n\n            if (prevPostsArray.length >= curPostsArray.length) {\n                return;\n            }\n\n            var curLastPost = curPostsArray[curPostsArray.length - 1];\n\n            if (curLastPost.user_id === _user_store2.default.getCurrentId()) {\n                this.scrollToBottom();\n            }\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (!Utils.areObjectsEqual(nextState.statuses, this.state.statuses)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.postsArray, this.state.postsArray)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.selected, this.state.selected)) {\n                return true;\n            }\n\n            if (nextState.compactDisplay !== this.state.compactDisplay) {\n                return true;\n            }\n\n            if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n                return true;\n            }\n\n            if (nextState.previewsCollapsed !== this.state.previewsCollapsed) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.flaggedPosts, this.state.flaggedPosts)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextState.profiles, this.state.profiles)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n                return true;\n            }\n\n            if (nextState.isBusy !== this.state.isBusy) {\n                return true;\n            }\n\n            if (nextState.isScrolling !== this.state.isScrolling) {\n                return true;\n            }\n\n            if (nextState.topRhsPostCreateAt !== this.state.topRhsPostCreateAt) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'forceUpdateInfo',\n        value: function forceUpdateInfo() {\n            if (this.state.postList) {\n                for (var postId in this.state.postList.posts) {\n                    if (this.refs[postId]) {\n                        this.refs[postId].forceUpdate();\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'handleResize',\n        value: function handleResize() {\n            this.setState({\n                windowWidth: Utils.windowWidth(),\n                windowHeight: Utils.windowHeight()\n            });\n        }\n    }, {\n        key: 'onPreferenceChange',\n        value: function onPreferenceChange(category) {\n            var previewSuffix = '';\n            if (category === Preferences.CATEGORY_DISPLAY_SETTINGS) {\n                previewSuffix = '_' + Utils.generateId();\n            }\n\n            this.setState({\n                compactDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n                flaggedPosts: _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_FLAGGED_POST),\n                previewsCollapsed: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, 'false') + previewSuffix\n            });\n            this.forceUpdateInfo();\n        }\n    }, {\n        key: 'onPostChange',\n        value: function onPostChange() {\n            if (this.mounted) {\n                this.setState(this.getPosts());\n            }\n        }\n    }, {\n        key: 'onStatusChange',\n        value: function onStatusChange() {\n            this.setState({ statuses: (0, _assign2.default)({}, _user_store2.default.getStatuses()) });\n        }\n    }, {\n        key: 'onBusy',\n        value: function onBusy(isBusy) {\n            this.setState({ isBusy: isBusy });\n        }\n    }, {\n        key: 'getPosts',\n        value: function getPosts() {\n            var selected = _post_store2.default.getSelectedPost();\n            var posts = _post_store2.default.getSelectedPostThread();\n\n            var postsArray = [];\n\n            for (var id in posts) {\n                if (posts.hasOwnProperty(id)) {\n                    var cpost = posts[id];\n                    if (cpost.root_id === selected.id) {\n                        postsArray.push(cpost);\n                    }\n                }\n            }\n\n            // sort failed posts to bottom, followed by pending, and then regular posts\n            postsArray.sort(function (a, b) {\n                if ((a.state === _constants2.default.POST_LOADING || a.state === _constants2.default.POST_FAILED) && b.state !== _constants2.default.POST_LOADING && b.state !== _constants2.default.POST_FAILED) {\n                    return 1;\n                }\n                if (a.state !== _constants2.default.POST_LOADING && a.state !== _constants2.default.POST_FAILED && (b.state === _constants2.default.POST_LOADING || b.state === _constants2.default.POST_FAILED)) {\n                    return -1;\n                }\n\n                if (a.state === _constants2.default.POST_LOADING && b.state === _constants2.default.POST_FAILED) {\n                    return -1;\n                }\n                if (a.state === _constants2.default.POST_FAILED && b.state === _constants2.default.POST_LOADING) {\n                    return 1;\n                }\n\n                if (a.create_at < b.create_at) {\n                    return -1;\n                }\n                if (a.create_at > b.create_at) {\n                    return 1;\n                }\n                return 0;\n            });\n\n            return { postsArray: postsArray, selected: selected };\n        }\n    }, {\n        key: 'onUserChange',\n        value: function onUserChange() {\n            var profiles = JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles()));\n            this.setState({ profiles: profiles });\n        }\n    }, {\n        key: 'scrollToBottom',\n        value: function scrollToBottom() {\n            if ((0, _jquery2.default)('.post-right__scroll')[0]) {\n                (0, _jquery2.default)('.post-right__scroll').parent().scrollTop((0, _jquery2.default)('.post-right__scroll')[0].scrollHeight);\n            }\n        }\n    }, {\n        key: 'updateFloatingTimestamp',\n        value: function updateFloatingTimestamp() {\n            // skip this in non-mobile view since that's when the timestamp is visible\n            if (!Utils.isMobile()) {\n                return;\n            }\n\n            if (this.state.postsArray) {\n                var childNodes = this.refs.rhspostlist.childNodes;\n                var viewPort = this.refs.rhspostlist.getBoundingClientRect();\n                var topRhsPostCreateAt = 0;\n                var offset = 100;\n\n                // determine the top rhs comment assuming that childNodes and postsArray are of same length\n                for (var i = 0; i < childNodes.length; i++) {\n                    if (childNodes[i].offsetTop + viewPort.top - offset > 0) {\n                        topRhsPostCreateAt = this.state.postsArray[i].create_at;\n                        break;\n                    }\n                }\n\n                if (topRhsPostCreateAt !== this.state.topRhsPostCreateAt) {\n                    this.setState({\n                        topRhsPostCreateAt: topRhsPostCreateAt\n                    });\n                }\n            }\n        }\n    }, {\n        key: 'handleScroll',\n        value: function handleScroll() {\n            this.updateFloatingTimestamp();\n\n            if (!this.state.isScrolling) {\n                this.setState({\n                    isScrolling: true\n                });\n            }\n\n            this.scrollStopAction.fireAfter(_constants2.default.SCROLL_DELAY);\n        }\n    }, {\n        key: 'handleScrollStop',\n        value: function handleScrollStop() {\n            this.setState({\n                isScrolling: false\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var postsArray = this.state.postsArray;\n            var selected = this.state.selected;\n            var profiles = this.state.profiles || {};\n            var rootPostDay = Utils.getDateForUnixTicks(selected.create_at);\n            var previousPostDay = rootPostDay;\n\n            if (postsArray == null || selected == null) {\n                return _react2.default.createElement('div', null);\n            }\n\n            var profile = void 0;\n            if (_user_store2.default.getCurrentId() === selected.user_id) {\n                profile = this.props.currentUser;\n            } else {\n                profile = profiles[selected.user_id];\n            }\n\n            var isRootFlagged = false;\n            if (this.state.flaggedPosts) {\n                isRootFlagged = this.state.flaggedPosts.get(selected.id) === 'true';\n            }\n\n            var rootStatus = 'offline';\n            if (this.state.statuses) {\n                rootStatus = this.state.statuses[selected.user_id] || 'offline';\n            }\n\n            var commentsLists = [];\n            for (var i = 0; i < postsArray.length; i++) {\n                var comPost = postsArray[i];\n                var p = void 0;\n                if (_user_store2.default.getCurrentId() === comPost.user_id) {\n                    p = _user_store2.default.getCurrentUser();\n                } else {\n                    p = profiles[comPost.user_id];\n                }\n\n                var isFlagged = false;\n                if (this.state.flaggedPosts) {\n                    isFlagged = this.state.flaggedPosts.get(comPost.id) === 'true';\n                }\n\n                var status = 'offline';\n                if (this.state.statuses && p && p.id) {\n                    status = this.state.statuses[p.id] || 'offline';\n                }\n\n                var keyPrefix = comPost.id ? comPost.id : comPost.pending_post_id;\n\n                var currentPostDay = Utils.getDateForUnixTicks(comPost.create_at);\n\n                if (currentPostDay.toDateString() !== previousPostDay.toDateString()) {\n                    previousPostDay = currentPostDay;\n                    commentsLists.push(_react2.default.createElement(_date_separator2.default, {\n                        date: currentPostDay\n                    }));\n                }\n\n                commentsLists.push(_react2.default.createElement(\n                    'div',\n                    { key: keyPrefix + 'commentKey' },\n                    _react2.default.createElement(_rhs_comment2.default, {\n                        ref: comPost.id,\n                        post: comPost,\n                        user: p,\n                        currentUser: this.props.currentUser,\n                        compactDisplay: this.state.compactDisplay,\n                        useMilitaryTime: this.props.useMilitaryTime,\n                        isFlagged: isFlagged,\n                        status: status,\n                        isBusy: this.state.isBusy\n                    })\n                ));\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'sidebar-right__body' },\n                _react2.default.createElement(_floating_timestamp2.default, {\n                    isScrolling: this.state.isScrolling,\n                    isMobile: Utils.isMobile(),\n                    createAt: this.state.topRhsPostCreateAt,\n                    isRhsPost: true\n                }),\n                _react2.default.createElement(_rhs_header_post2.default, {\n                    fromFlaggedPosts: this.props.fromFlaggedPosts,\n                    fromSearch: this.props.fromSearch,\n                    isWebrtc: this.props.isWebrtc,\n                    isMentionSearch: this.props.isMentionSearch,\n                    toggleSize: this.props.toggleSize,\n                    shrink: this.props.shrink\n                }),\n                _react2.default.createElement(\n                    _reactCustomScrollbars2.default,\n                    {\n                        autoHide: true,\n                        autoHideTimeout: 500,\n                        autoHideDuration: 500,\n                        renderThumbHorizontal: renderThumbHorizontal,\n                        renderThumbVertical: renderThumbVertical,\n                        renderView: renderView,\n                        onScroll: this.handleScroll\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            ref: 'post-right__scroll',\n                            className: 'post-right__scroll'\n                        },\n                        _react2.default.createElement(_date_separator2.default, {\n                            date: rootPostDay.toDateString()\n                        }),\n                        _react2.default.createElement(_rhs_root_post2.default, {\n                            ref: selected.id,\n                            post: selected,\n                            commentCount: postsArray.length,\n                            user: profile,\n                            currentUser: this.props.currentUser,\n                            compactDisplay: this.state.compactDisplay,\n                            useMilitaryTime: this.props.useMilitaryTime,\n                            isFlagged: isRootFlagged,\n                            status: rootStatus,\n                            previewCollapsed: this.state.previewsCollapsed,\n                            isBusy: this.state.isBusy\n                        }),\n                        _react2.default.createElement(\n                            'div',\n                            {\n                                ref: 'rhspostlist',\n                                className: 'post-right-comments-container'\n                            },\n                            commentsLists\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'post-create__container' },\n                            _react2.default.createElement(_create_comment2.default, {\n                                channelId: selected.channel_id,\n                                rootId: selected.id,\n                                latestPostId: postsArray.length > 0 ? postsArray[postsArray.length - 1].id : selected.id\n                            })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return RhsThread;\n}(_react2.default.Component);\n\nexports.default = RhsThread;\n\n\nRhsThread.defaultProps = {\n    fromSearch: '',\n    isMentionSearch: false\n};\n\nRhsThread.propTypes = {\n    fromSearch: _react2.default.PropTypes.string,\n    fromFlaggedPosts: _react2.default.PropTypes.bool,\n    isWebrtc: _react2.default.PropTypes.bool,\n    isMentionSearch: _react2.default.PropTypes.bool,\n    currentUser: _react2.default.PropTypes.object.isRequired,\n    useMilitaryTime: _react2.default.PropTypes.bool.isRequired,\n    toggleSize: _react2.default.PropTypes.func,\n    shrink: _react2.default.PropTypes.func\n};\n\n/***/ }),\n\n/***/ 2033:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(31);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _getIterator2 = __webpack_require__(36);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _map = __webpack_require__(72);\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _stringify = __webpack_require__(71);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _search_results_header = __webpack_require__(2034);\n\nvar _search_results_header2 = _interopRequireDefault(_search_results_header);\n\nvar _search_results_item = __webpack_require__(2035);\n\nvar _search_results_item2 = _interopRequireDefault(_search_results_item);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _search_store = __webpack_require__(244);\n\nvar _search_store2 = _interopRequireDefault(_search_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _preference_store = __webpack_require__(42);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _webrtc_store = __webpack_require__(334);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(13);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Preferences = _constants2.default.Preferences; // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nfunction getStateFromStores() {\n    var results = JSON.parse((0, _stringify2.default)(_search_store2.default.getSearchResults()));\n\n    var channels = new _map2.default();\n\n    if (results && results.order) {\n        var channelIds = results.order.map(function (postId) {\n            return results.posts[postId].channel_id;\n        });\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = (0, _getIterator3.default)(channelIds), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var id = _step.value;\n\n                if (channels.has(id)) {\n                    continue;\n                }\n\n                channels.set(id, _channel_store2.default.get(id));\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    }\n\n    return {\n        results: results,\n        channels: channels,\n        searchTerm: _search_store2.default.getSearchTerm(),\n        flaggedPosts: _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_FLAGGED_POST)\n    };\n}\n\nvar SearchResults = function (_React$Component) {\n    (0, _inherits3.default)(SearchResults, _React$Component);\n\n    function SearchResults(props) {\n        (0, _classCallCheck3.default)(this, SearchResults);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SearchResults.__proto__ || (0, _getPrototypeOf2.default)(SearchResults)).call(this, props));\n\n        _this.mounted = false;\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.onUserChange = _this.onUserChange.bind(_this);\n        _this.onPreferenceChange = _this.onPreferenceChange.bind(_this);\n        _this.onBusy = _this.onBusy.bind(_this);\n        _this.resize = _this.resize.bind(_this);\n        _this.onPreferenceChange = _this.onPreferenceChange.bind(_this);\n        _this.onStatusChange = _this.onStatusChange.bind(_this);\n        _this.handleResize = _this.handleResize.bind(_this);\n\n        var state = getStateFromStores();\n        state.windowWidth = Utils.windowWidth();\n        state.windowHeight = Utils.windowHeight();\n        state.profiles = JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles()));\n        state.compactDisplay = _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT;\n        state.isBusy = _webrtc_store2.default.isBusy();\n        state.statuses = (0, _assign2.default)({}, _user_store2.default.getStatuses());\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(SearchResults, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.mounted = true;\n\n            _search_store2.default.addSearchChangeListener(this.onChange);\n            _channel_store2.default.addChangeListener(this.onChange);\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            _user_store2.default.addChangeListener(this.onUserChange);\n            _user_store2.default.addStatusesChangeListener(this.onStatusChange);\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            _webrtc_store2.default.addBusyListener(this.onBusy);\n\n            this.resize();\n            window.addEventListener('resize', this.handleResize);\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.sidebar--right .search-items-container').perfectScrollbar();\n            }\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (!Utils.areObjectsEqual(nextState.statuses, this.state.statuses)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(this.props, nextProps)) {\n                return true;\n            }\n\n            if (!Utils.areObjectsEqual(this.state, nextState)) {\n                return true;\n            }\n\n            if (nextState.compactDisplay !== this.state.compactDisplay) {\n                return true;\n            }\n\n            if (nextState.isBusy !== this.state.isBusy) {\n                return true;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.mounted = false;\n\n            _search_store2.default.removeSearchChangeListener(this.onChange);\n            _channel_store2.default.removeChangeListener(this.onChange);\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n            _user_store2.default.removeChangeListener(this.onUserChange);\n            _user_store2.default.removeStatusesChangeListener(this.onStatusChange);\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n            _webrtc_store2.default.removeBusyListener(this.onBusy);\n\n            window.removeEventListener('resize', this.handleResize);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (this.state.searchTerm !== prevState.searchTerm) {\n                this.resize();\n            }\n        }\n    }, {\n        key: 'handleResize',\n        value: function handleResize() {\n            this.setState({\n                windowWidth: Utils.windowWidth(),\n                windowHeight: Utils.windowHeight()\n            });\n        }\n    }, {\n        key: 'onPreferenceChange',\n        value: function onPreferenceChange() {\n            this.setState({\n                compactDisplay: _preference_store2.default.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n                flaggedPosts: _preference_store2.default.getCategory(_constants2.default.Preferences.CATEGORY_FLAGGED_POST)\n            });\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            if (this.mounted) {\n                this.setState(getStateFromStores());\n            }\n        }\n    }, {\n        key: 'onUserChange',\n        value: function onUserChange() {\n            this.setState({ profiles: JSON.parse((0, _stringify2.default)(_user_store2.default.getProfiles())) });\n        }\n    }, {\n        key: 'onBusy',\n        value: function onBusy(isBusy) {\n            this.setState({ isBusy: isBusy });\n        }\n    }, {\n        key: 'onStatusChange',\n        value: function onStatusChange() {\n            this.setState({ statuses: (0, _assign2.default)({}, _user_store2.default.getStatuses()) });\n        }\n    }, {\n        key: 'resize',\n        value: function resize() {\n            (0, _jquery2.default)('#search-items-container').scrollTop(0);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var results = this.state.results;\n            var noResults = !results || !results.order || !results.order.length;\n            var searchTerm = this.state.searchTerm;\n            var profiles = this.state.profiles || {};\n            var flagIcon = _constants2.default.FLAG_ICON_SVG;\n\n            var ctls = null;\n\n            if (this.props.isFlaggedPosts && noResults) {\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'ul',\n                        null,\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'search_results.usageFlag1',\n                                defaultMessage: 'You haven\\'t flagged any messages yet.'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'search_results.usageFlag2',\n                                defaultMessage: 'You can add a flag to messages and comments by clicking the '\n                            }),\n                            _react2.default.createElement('span', {\n                                className: 'usage__icon',\n                                dangerouslySetInnerHTML: { __html: flagIcon }\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'search_results.usageFlag3',\n                                defaultMessage: ' icon next to the timestamp.'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'search_results.usageFlag4',\n                                defaultMessage: 'Flags are a way to mark messages for follow up. Your flags are personal, and cannot be seen by other users.'\n                            })\n                        )\n                    )\n                );\n            } else if (this.props.isPinnedPosts && noResults) {\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'ul',\n                        null,\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'search_results.usagePin1',\n                                defaultMessage: 'There are no pinned messages yet.'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'search_results.usagePin2',\n                                defaultMessage: 'All members of this channel can pin important or useful messages.'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'search_results.usagePin3',\n                                defaultMessage: 'Pinned messages are visible to all channel members.'\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                                id: 'search_results.usagePin4',\n                                defaultMessage: 'To pin a message: Go to the message that you want to pin and click [...] > \"Pin to channel\".'\n                            })\n                        )\n                    )\n                );\n            } else if (!searchTerm && noResults) {\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                        id: 'search_results.usage',\n                        defaultMessage: '<ul><li>Use <b>\"quotation marks\"</b> to search for phrases</li><li>Use <b>from:</b> to find posts from specific users and <b>in:</b> to find posts in specific channels</li></ul>'\n                    })\n                );\n            } else if (noResults) {\n                ctls = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__subheader' },\n                    _react2.default.createElement(\n                        'h4',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_results.noResults',\n                            defaultMessage: 'No results found. Try again?'\n                        })\n                    ),\n                    _react2.default.createElement(_reactIntl.FormattedHTMLMessage, {\n                        id: 'search_results.because',\n                        defaultMessage: '<ul> <li>If you\\'re searching a partial phrase (ex. searching \"rea\", looking for \"reach\" or \"reaction\"), append a * to your search term.</li> <li>Two letter searches and common words like \"this\", \"a\" and \"is\" won\\'t appear in search results, due to the excessive results returned.</li> </ul>'\n                    })\n                );\n            } else {\n                ctls = results.order.map(function mymap(id) {\n                    var post = results.posts[id];\n                    var profile = void 0;\n                    if (_user_store2.default.getCurrentId() === post.user_id) {\n                        profile = _user_store2.default.getCurrentUser();\n                    } else {\n                        profile = profiles[post.user_id];\n                    }\n\n                    var status = 'offline';\n                    if (this.state.statuses) {\n                        status = this.state.statuses[post.user_id] || 'offline';\n                    }\n\n                    var isFlagged = false;\n                    if (this.state.flaggedPosts) {\n                        isFlagged = this.state.flaggedPosts.get(post.id) === 'true';\n                    }\n                    return _react2.default.createElement(_search_results_item2.default, {\n                        key: post.id,\n                        channel: this.state.channels.get(post.channel_id),\n                        compactDisplay: this.state.compactDisplay,\n                        post: post,\n                        user: profile,\n                        term: searchTerm,\n                        isMentionSearch: this.props.isMentionSearch,\n                        isFlaggedSearch: this.props.isFlaggedPosts,\n                        useMilitaryTime: this.props.useMilitaryTime,\n                        shrink: this.props.shrink,\n                        isFlagged: isFlagged,\n                        isBusy: this.state.isBusy,\n                        status: status\n                    });\n                }, this);\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'sidebar-right__body' },\n                _react2.default.createElement(_search_results_header2.default, {\n                    isMentionSearch: this.props.isMentionSearch,\n                    toggleSize: this.props.toggleSize,\n                    shrink: this.props.shrink,\n                    isFlaggedPosts: this.props.isFlaggedPosts,\n                    isPinnedPosts: this.props.isPinnedPosts,\n                    channelDisplayName: this.props.channelDisplayName\n                }),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        id: 'search-items-container',\n                        className: 'search-items-container'\n                    },\n                    ctls\n                )\n            );\n        }\n    }]);\n    return SearchResults;\n}(_react2.default.Component);\n\nexports.default = SearchResults;\n\n\nSearchResults.propTypes = {\n    isMentionSearch: _react2.default.PropTypes.bool,\n    useMilitaryTime: _react2.default.PropTypes.bool.isRequired,\n    toggleSize: _react2.default.PropTypes.func,\n    shrink: _react2.default.PropTypes.func,\n    isFlaggedPosts: _react2.default.PropTypes.bool,\n    isPinnedPosts: _react2.default.PropTypes.bool,\n    channelDisplayName: _react2.default.PropTypes.string.isRequired\n};\n\n/***/ }),\n\n/***/ 2034:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SearchResultsHeader = function (_React$Component) {\n    (0, _inherits3.default)(SearchResultsHeader, _React$Component);\n\n    function SearchResultsHeader(props) {\n        (0, _classCallCheck3.default)(this, SearchResultsHeader);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SearchResultsHeader.__proto__ || (0, _getPrototypeOf2.default)(SearchResultsHeader)).call(this, props));\n\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.toggleSize = _this.toggleSize.bind(_this);\n        return _this;\n    }\n\n    (0, _createClass3.default)(SearchResultsHeader, [{\n        key: 'handleClose',\n        value: function handleClose(e) {\n            e.preventDefault();\n\n            GlobalActions.toggleSideBarAction(false);\n\n            this.props.shrink();\n        }\n    }, {\n        key: 'toggleSize',\n        value: function toggleSize(e) {\n            e.preventDefault();\n            this.props.toggleSize();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'search_header.results',\n                defaultMessage: 'Search Results'\n            });\n\n            var closeSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'closeSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.closeSidebarTooltip',\n                    defaultMessage: 'Close Sidebar'\n                })\n            );\n\n            var expandSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'expandSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.expandSidebarTooltip',\n                    defaultMessage: 'Expand Sidebar'\n                })\n            );\n\n            var shrinkSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'shrinkSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.shrinkSidebarTooltip',\n                    defaultMessage: 'Shrink Sidebar'\n                })\n            );\n\n            if (this.props.isMentionSearch) {\n                title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'search_header.title2',\n                    defaultMessage: 'Recent Mentions'\n                });\n            } else if (this.props.isFlaggedPosts) {\n                title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'search_header.title3',\n                    defaultMessage: 'Flagged Posts'\n                });\n            } else if (this.props.isPinnedPosts) {\n                title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'search_header.title4',\n                    defaultMessage: 'Pinned posts in {channelDisplayName}',\n                    values: {\n                        channelDisplayName: this.props.channelDisplayName\n                    }\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'sidebar--right__header' },\n                _react2.default.createElement(\n                    'span',\n                    { className: 'sidebar--right__title' },\n                    title\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'pull-right' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__expand',\n                            'aria-label': 'Expand',\n                            onClick: this.toggleSize\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: expandSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-expand' })\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: shrinkSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-compress' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__close',\n                            'aria-label': 'Close',\n                            title: 'Close',\n                            onClick: this.handleClose\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: closeSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-sign-out' })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return SearchResultsHeader;\n}(_react2.default.Component); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = SearchResultsHeader;\n\n\nSearchResultsHeader.propTypes = {\n    isMentionSearch: _react2.default.PropTypes.bool,\n    toggleSize: _react2.default.PropTypes.func,\n    shrink: _react2.default.PropTypes.func,\n    isFlaggedPosts: _react2.default.PropTypes.bool,\n    isPinnedPosts: _react2.default.PropTypes.bool,\n    channelDisplayName: _react2.default.PropTypes.string.isRequired\n};\n\n/***/ }),\n\n/***/ 2035:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _post_message_container = __webpack_require__(572);\n\nvar _post_message_container2 = _interopRequireDefault(_post_message_container);\n\nvar _user_profile = __webpack_require__(338);\n\nvar _user_profile2 = _interopRequireDefault(_user_profile);\n\nvar _file_attachment_list_container = __webpack_require__(571);\n\nvar _file_attachment_list_container2 = _interopRequireDefault(_file_attachment_list_container);\n\nvar _profile_picture = __webpack_require__(166);\n\nvar _profile_picture2 = _interopRequireDefault(_profile_picture);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _app_dispatcher = __webpack_require__(16);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(104);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _post_utils = __webpack_require__(105);\n\nvar PostUtils = _interopRequireWildcard(_post_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _es = __webpack_require__(37);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ActionTypes = _constants2.default.ActionTypes;\n\nvar SearchResultsItem = function (_React$Component) {\n    (0, _inherits3.default)(SearchResultsItem, _React$Component);\n\n    function SearchResultsItem(props) {\n        (0, _classCallCheck3.default)(this, SearchResultsItem);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SearchResultsItem.__proto__ || (0, _getPrototypeOf2.default)(SearchResultsItem)).call(this, props));\n\n        _this.handleFocusRHSClick = _this.handleFocusRHSClick.bind(_this);\n        _this.shrinkSidebar = _this.shrinkSidebar.bind(_this);\n        _this.unflagPost = _this.unflagPost.bind(_this);\n        _this.flagPost = _this.flagPost.bind(_this);\n\n        _this.state = {\n            currentTeamDisplayName: _team_store2.default.getCurrent().name,\n            width: '',\n            height: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SearchResultsItem, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            window.addEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this2);\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            var _this3 = this;\n\n            window.removeEventListener('resize', function () {\n                Utils.updateWindowDimensions(_this3);\n            });\n        }\n    }, {\n        key: 'hideSidebar',\n        value: function hideSidebar() {\n            (0, _jquery2.default)('.sidebar--right').removeClass('move--left');\n        }\n    }, {\n        key: 'shrinkSidebar',\n        value: function shrinkSidebar() {\n            var _this4 = this;\n\n            setTimeout(function () {\n                _this4.props.shrink();\n            });\n        }\n    }, {\n        key: 'handleFocusRHSClick',\n        value: function handleFocusRHSClick(e) {\n            e.preventDefault();\n            GlobalActions.emitPostFocusRightHandSideFromSearch(this.props.post, this.props.isMentionSearch);\n        }\n    }, {\n        key: 'flagPost',\n        value: function flagPost(e) {\n            e.preventDefault();\n            (0, _post_actions.flagPost)(this.props.post.id);\n        }\n    }, {\n        key: 'unflagPost',\n        value: function unflagPost(e) {\n            e.preventDefault();\n            (0, _post_actions.unflagPost)(this.props.post.id);\n        }\n    }, {\n        key: 'timeTag',\n        value: function timeTag(post) {\n            return _react2.default.createElement(\n                'time',\n                {\n                    className: 'search-item-time',\n                    dateTime: Utils.getDateForUnixTicks(post.create_at).toISOString()\n                },\n                _react2.default.createElement(_reactIntl.FormattedDate, {\n                    value: post.create_at,\n                    hour12: !this.props.useMilitaryTime,\n                    hour: '2-digit',\n                    minute: '2-digit'\n                })\n            );\n        }\n    }, {\n        key: 'renderTimeTag',\n        value: function renderTimeTag(post) {\n            return Utils.isMobile() ? this.timeTag(post) : _react2.default.createElement(\n                _es.Link,\n                {\n                    to: '/' + this.state.currentTeamDisplayName + '/pl/' + post.id,\n                    target: '_blank',\n                    className: 'post__permalink'\n                },\n                this.timeTag(post)\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            var channelName = null;\n            var channel = this.props.channel;\n            var timestamp = _user_store2.default.getCurrentUser().last_picture_update;\n            var user = this.props.user || {};\n            var post = this.props.post;\n            var flagIcon = _constants2.default.FLAG_ICON_SVG;\n\n            if (channel) {\n                channelName = channel.display_name;\n                if (channel.type === 'D') {\n                    channelName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'search_item.direct',\n                        defaultMessage: 'Direct Message (with {username})',\n                        values: {\n                            username: Utils.displayUsernameForUser(Utils.getDirectTeammate(channel.id))\n                        }\n                    });\n                }\n            }\n\n            var overrideUsername = void 0;\n            var disableProfilePopover = false;\n            if (post.props && post.props.from_webhook && post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                overrideUsername = post.props.override_username;\n                disableProfilePopover = true;\n            }\n\n            var botIndicator = void 0;\n            if (post.props && post.props.from_webhook) {\n                botIndicator = _react2.default.createElement(\n                    'li',\n                    { className: 'bot-indicator' },\n                    _constants2.default.BOT_NAME\n                );\n            }\n\n            var profilePic = _react2.default.createElement(_profile_picture2.default, {\n                src: PostUtils.getProfilePicSrcForPost(post, timestamp),\n                user: this.props.user,\n                status: this.props.status,\n                isBusy: this.props.isBusy\n            });\n\n            var compactClass = '';\n            var profilePicContainer = _react2.default.createElement(\n                'div',\n                { className: 'post__img' },\n                profilePic\n            );\n            if (this.props.compactDisplay) {\n                compactClass = 'post--compact';\n            }\n\n            var fileAttachment = null;\n            if (post.file_ids && post.file_ids.length > 0) {\n                fileAttachment = _react2.default.createElement(_file_attachment_list_container2.default, {\n                    post: post,\n                    compactDisplay: this.props.compactDisplay\n                });\n            }\n\n            var message = void 0;\n            var flagContent = void 0;\n            var rhsControls = void 0;\n            if (post.state === _constants2.default.POST_DELETED) {\n                message = _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_body.deleted',\n                        defaultMessage: '(message deleted)'\n                    })\n                );\n            } else {\n                var flag = void 0;\n                var flagFunc = void 0;\n                var flagVisible = '';\n                var flagTooltip = _react2.default.createElement(\n                    _reactBootstrap.Tooltip,\n                    { id: 'flagTooltip' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'flag_post.flag',\n                        defaultMessage: 'Flag for follow up'\n                    })\n                );\n\n                if (this.props.isFlagged) {\n                    flagVisible = 'visible';\n                    flagTooltip = _react2.default.createElement(\n                        _reactBootstrap.Tooltip,\n                        { id: 'flagTooltip' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'flag_post.unflag',\n                            defaultMessage: 'Unflag'\n                        })\n                    );\n                    flagFunc = this.unflagPost;\n                    flag = _react2.default.createElement('span', {\n                        className: 'icon',\n                        dangerouslySetInnerHTML: { __html: flagIcon }\n                    });\n                } else {\n                    flag = _react2.default.createElement('span', {\n                        className: 'icon',\n                        dangerouslySetInnerHTML: { __html: flagIcon }\n                    });\n                    flagFunc = this.flagPost;\n                }\n\n                flagContent = _react2.default.createElement(\n                    _reactBootstrap.OverlayTrigger,\n                    {\n                        delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                        placement: 'top',\n                        overlay: flagTooltip\n                    },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            className: 'flag-icon__container ' + flagVisible,\n                            onClick: flagFunc\n                        },\n                        flag\n                    )\n                );\n\n                rhsControls = _react2.default.createElement(\n                    'li',\n                    { className: 'col__controls' },\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            className: 'comment-icon__container search-item__comment',\n                            onClick: this.handleFocusRHSClick\n                        },\n                        _react2.default.createElement('span', {\n                            className: 'comment-icon',\n                            dangerouslySetInnerHTML: { __html: _constants2.default.REPLY_ICON }\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            onClick: function onClick() {\n                                if (Utils.isMobile()) {\n                                    _app_dispatcher2.default.handleServerAction({\n                                        type: ActionTypes.RECEIVED_SEARCH,\n                                        results: null\n                                    });\n\n                                    _app_dispatcher2.default.handleServerAction({\n                                        type: ActionTypes.RECEIVED_SEARCH_TERM,\n                                        term: null,\n                                        do_search: false,\n                                        is_mention_search: false\n                                    });\n\n                                    _app_dispatcher2.default.handleServerAction({\n                                        type: ActionTypes.RECEIVED_POST_SELECTED,\n                                        postId: null\n                                    });\n\n                                    _this5.hideSidebar();\n                                }\n                                _this5.shrinkSidebar();\n                                _es.browserHistory.push(_team_store2.default.getCurrentTeamRelativeUrl() + '/pl/' + post.id);\n                            },\n                            className: 'search-item__jump'\n                        },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'search_item.jump',\n                            defaultMessage: 'Jump'\n                        })\n                    )\n                );\n\n                message = _react2.default.createElement(_post_message_container2.default, {\n                    post: post,\n                    options: {\n                        searchTerm: this.props.term,\n                        mentionHighlight: this.props.isMentionSearch\n                    }\n                });\n            }\n\n            var pinnedBadge = void 0;\n            if (post.is_pinned) {\n                pinnedBadge = _react2.default.createElement(\n                    'span',\n                    { className: 'post__pinned-badge' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'post_info.pinned',\n                        defaultMessage: 'Pinned'\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'search-item__container' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'date-separator' },\n                    _react2.default.createElement('hr', { className: 'separator__hr' }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'separator__text' },\n                        _react2.default.createElement(_reactIntl.FormattedDate, {\n                            value: post.create_at,\n                            day: 'numeric',\n                            month: 'long',\n                            year: 'numeric'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        className: 'post post--thread ' + compactClass\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'search-channel__name' },\n                        channelName\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'post__content' },\n                        profilePicContainer,\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(\n                                'ul',\n                                { className: 'post__header' },\n                                _react2.default.createElement(\n                                    'li',\n                                    { className: 'col col__name' },\n                                    _react2.default.createElement(\n                                        'strong',\n                                        null,\n                                        _react2.default.createElement(_user_profile2.default, {\n                                            user: user,\n                                            overwriteName: overrideUsername,\n                                            disablePopover: disableProfilePopover,\n                                            status: this.props.status,\n                                            isBusy: this.props.isBusy\n                                        })\n                                    )\n                                ),\n                                botIndicator,\n                                _react2.default.createElement(\n                                    'li',\n                                    { className: 'col' },\n                                    this.renderTimeTag(post),\n                                    pinnedBadge,\n                                    flagContent\n                                ),\n                                rhsControls\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'search-item-snippet post__body' },\n                                message,\n                                fileAttachment\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return SearchResultsItem;\n}(_react2.default.Component);\n\nexports.default = SearchResultsItem;\n\n\nSearchResultsItem.propTypes = {\n    post: _react2.default.PropTypes.object,\n    user: _react2.default.PropTypes.object,\n    channel: _react2.default.PropTypes.object,\n    compactDisplay: _react2.default.PropTypes.bool,\n    isMentionSearch: _react2.default.PropTypes.bool,\n    isFlaggedSearch: _react2.default.PropTypes.bool,\n    term: _react2.default.PropTypes.string,\n    useMilitaryTime: _react2.default.PropTypes.bool.isRequired,\n    shrink: _react2.default.PropTypes.func,\n    isFlagged: _react2.default.PropTypes.bool,\n    isBusy: _react2.default.PropTypes.bool,\n    status: _react2.default.PropTypes.string\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ }),\n\n/***/ 2038:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactDom = __webpack_require__(30);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SettingsUpload = function (_React$Component) {\n    (0, _inherits3.default)(SettingsUpload, _React$Component);\n\n    function SettingsUpload(props) {\n        (0, _classCallCheck3.default)(this, SettingsUpload);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SettingsUpload.__proto__ || (0, _getPrototypeOf2.default)(SettingsUpload)).call(this, props));\n\n        _this.doFileSelect = _this.doFileSelect.bind(_this);\n        _this.doSubmit = _this.doSubmit.bind(_this);\n\n        _this.state = {\n            clientError: _this.props.clientError,\n            serverError: _this.props.serverError,\n            filename: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SettingsUpload, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps() {\n            this.setState({\n                clientError: this.props.clientError,\n                serverError: this.props.serverError\n            });\n        }\n    }, {\n        key: 'doFileSelect',\n        value: function doFileSelect(e) {\n            e.preventDefault();\n            var filename = (0, _jquery2.default)(e.target).val();\n            if (filename.substring(3, 11) === 'fakepath') {\n                filename = filename.substring(12);\n            }\n            this.setState({\n                clientError: '',\n                serverError: '',\n                filename: filename\n            });\n        }\n    }, {\n        key: 'doSubmit',\n        value: function doSubmit(e) {\n            e.preventDefault();\n            var inputnode = _reactDom2.default.findDOMNode(this.refs.uploadinput);\n            if (inputnode.files && inputnode.files[0]) {\n                this.props.submit(inputnode.files[0]);\n            } else {\n                this.setState({ clientError: true });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var clientError = null;\n            if (this.state.clientError) {\n                clientError = _react2.default.createElement(\n                    'div',\n                    { className: 'file-status' },\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'setting_upload.noFile',\n                        defaultMessage: 'No file selected.'\n                    })\n                );\n            }\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = _react2.default.createElement(\n                    'div',\n                    { className: 'file-status' },\n                    this.state.serverError\n                );\n            }\n            var fileNameText = null;\n            var submitButtonClass = 'btn btn-sm btn-primary disabled';\n            if (this.state.filename) {\n                fileNameText = _react2.default.createElement(\n                    'div',\n                    { className: 'file-status file-name' },\n                    this.state.filename\n                );\n                submitButtonClass = 'btn btn-sm btn-primary';\n            }\n\n            return _react2.default.createElement(\n                'ul',\n                { className: 'section-max' },\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-sm-12 section-title' },\n                    this.props.title\n                ),\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-sm-offset-3 col-sm-9' },\n                    this.props.helpText\n                ),\n                _react2.default.createElement(\n                    'li',\n                    { className: 'col-sm-offset-3 col-sm-9' },\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'setting-list' },\n                        _react2.default.createElement(\n                            'li',\n                            { className: 'setting-list-item' },\n                            _react2.default.createElement(\n                                'span',\n                                { className: 'btn btn-sm btn-primary btn-file sel-btn' },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'setting_upload.select',\n                                    defaultMessage: 'Select file'\n                                }),\n                                _react2.default.createElement('input', {\n                                    ref: 'uploadinput',\n                                    accept: this.props.fileTypesAccepted,\n                                    type: 'file',\n                                    onChange: this.doFileSelect\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    className: submitButtonClass,\n                                    onClick: this.doSubmit\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'setting_upload.import',\n                                    defaultMessage: 'Import'\n                                })\n                            ),\n                            fileNameText,\n                            serverError,\n                            clientError\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return SettingsUpload;\n}(_react2.default.Component);\n\nexports.default = SettingsUpload;\n\n\nSettingsUpload.propTypes = {\n    title: _react2.default.PropTypes.string.isRequired,\n    submit: _react2.default.PropTypes.func.isRequired,\n    fileTypesAccepted: _react2.default.PropTypes.string.isRequired,\n    clientError: _react2.default.PropTypes.string,\n    serverError: _react2.default.PropTypes.string,\n    helpText: _react2.default.PropTypes.object\n};\n\n/***/ }),\n\n/***/ 2042:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _search_results = __webpack_require__(2033);\n\nvar _search_results2 = _interopRequireDefault(_search_results);\n\nvar _rhs_thread = __webpack_require__(2032);\n\nvar _rhs_thread2 = _interopRequireDefault(_rhs_thread);\n\nvar _search_bar = __webpack_require__(576);\n\nvar _search_bar2 = _interopRequireDefault(_search_bar);\n\nvar _file_upload_overlay = __webpack_require__(1674);\n\nvar _file_upload_overlay2 = _interopRequireDefault(_file_upload_overlay);\n\nvar _search_store = __webpack_require__(244);\n\nvar _search_store2 = _interopRequireDefault(_search_store);\n\nvar _post_store = __webpack_require__(140);\n\nvar _post_store2 = _interopRequireDefault(_post_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _preference_store = __webpack_require__(42);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _webrtc_store = __webpack_require__(334);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _post_actions = __webpack_require__(104);\n\nvar _diagnostics_actions = __webpack_require__(165);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SidebarRight = function (_React$Component) {\n    (0, _inherits3.default)(SidebarRight, _React$Component);\n\n    function SidebarRight(props) {\n        (0, _classCallCheck3.default)(this, SidebarRight);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarRight.__proto__ || (0, _getPrototypeOf2.default)(SidebarRight)).call(this, props));\n\n        _this.plScrolledToBottom = true;\n\n        _this.onPreferenceChange = _this.onPreferenceChange.bind(_this);\n        _this.onSelectedChange = _this.onSelectedChange.bind(_this);\n        _this.onPostPinnedChange = _this.onPostPinnedChange.bind(_this);\n        _this.onSearchChange = _this.onSearchChange.bind(_this);\n        _this.onUserChange = _this.onUserChange.bind(_this);\n        _this.onShowSearch = _this.onShowSearch.bind(_this);\n        _this.onShrink = _this.onShrink.bind(_this);\n        _this.toggleSize = _this.toggleSize.bind(_this);\n\n        _this.doStrangeThings = _this.doStrangeThings.bind(_this);\n\n        _this.state = {\n            searchVisible: _search_store2.default.getSearchResults() !== null,\n            isMentionSearch: _search_store2.default.getIsMentionSearch(),\n            isFlaggedPosts: _search_store2.default.getIsFlaggedPosts(),\n            isPinnedPosts: _search_store2.default.getIsPinnedPosts(),\n            postRightVisible: Boolean(_post_store2.default.getSelectedPost()),\n            expanded: false,\n            fromSearch: false,\n            currentUser: _user_store2.default.getCurrentUser(),\n            useMilitaryTime: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants2.default.Preferences.USE_MILITARY_TIME, false)\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarRight, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _search_store2.default.addSearchChangeListener(this.onSearchChange);\n            _post_store2.default.addSelectedPostChangeListener(this.onSelectedChange);\n            _post_store2.default.addPostPinnedChangeListener(this.onPostPinnedChange);\n            _search_store2.default.addShowSearchListener(this.onShowSearch);\n            _user_store2.default.addChangeListener(this.onUserChange);\n            _preference_store2.default.addChangeListener(this.onPreferenceChange);\n            this.doStrangeThings();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _search_store2.default.removeSearchChangeListener(this.onSearchChange);\n            _post_store2.default.removeSelectedPostChangeListener(this.onSelectedChange);\n            _post_store2.default.removePostPinnedChangeListener(this.onPostPinnedChange);\n            _search_store2.default.removeShowSearchListener(this.onShowSearch);\n            _user_store2.default.removeChangeListener(this.onUserChange);\n            _preference_store2.default.removeChangeListener(this.onPreferenceChange);\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            return !Utils.areObjectsEqual(nextState, this.state);\n        }\n    }, {\n        key: 'componentWillUpdate',\n        value: function componentWillUpdate(nextProps, nextState) {\n            var isOpen = this.state.searchVisible || this.state.postRightVisible;\n            var willOpen = nextState.searchVisible || nextState.postRightVisible;\n\n            if (!isOpen && willOpen) {\n                (0, _diagnostics_actions.trackEvent)('ui', 'ui_rhs_opened');\n            }\n\n            if (isOpen !== willOpen) {\n                _post_store2.default.jumpPostsViewSidebarOpen();\n            }\n\n            if (!isOpen && willOpen) {\n                this.setState({\n                    expanded: false\n                });\n            }\n        }\n    }, {\n        key: 'doStrangeThings',\n        value: function doStrangeThings() {\n            // We should have a better way to do this stuff\n            // Hence the function name.\n            (0, _jquery2.default)('.app__body .inner-wrap').removeClass('.move--right');\n            (0, _jquery2.default)('.app__body .inner-wrap').addClass('move--left');\n            (0, _jquery2.default)('.app__body .sidebar--left').removeClass('move--right');\n            (0, _jquery2.default)('.multi-teams .team-sidebar').removeClass('move--right');\n            (0, _jquery2.default)('.app__body .sidebar--right').addClass('move--left');\n\n            //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n            if (!this.state.searchVisible && !this.state.postRightVisible) {\n                (0, _jquery2.default)('.app__body .inner-wrap').removeClass('move--left').removeClass('move--right');\n                (0, _jquery2.default)('.app__body .sidebar--right').removeClass('move--left');\n                return _react2.default.createElement('div', null);\n            }\n\n            /*setTimeout(() => {\n                $('.sidebar__overlay').fadeOut('200', () => {\n                    $('.sidebar__overlay').remove();\n                });\n                }, 500);*/\n            return null;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            var isOpen = this.state.searchVisible || this.state.postRightVisible;\n            _webrtc_store2.default.emitRhsChanged(isOpen);\n            this.doStrangeThings();\n        }\n    }, {\n        key: 'onPreferenceChange',\n        value: function onPreferenceChange() {\n            if (this.state.isFlaggedPosts) {\n                (0, _post_actions.getFlaggedPosts)();\n            }\n\n            this.setState({\n                useMilitaryTime: _preference_store2.default.getBool(_constants2.default.Preferences.CATEGORY_DISPLAY_SETTINGS, _constants2.default.Preferences.USE_MILITARY_TIME, false)\n            });\n        }\n    }, {\n        key: 'onSelectedChange',\n        value: function onSelectedChange(fromSearch, fromFlaggedPosts) {\n            this.setState({\n                postRightVisible: Boolean(_post_store2.default.getSelectedPost()),\n                fromSearch: fromSearch,\n                fromFlaggedPosts: fromFlaggedPosts\n            });\n        }\n    }, {\n        key: 'onPostPinnedChange',\n        value: function onPostPinnedChange() {\n            if (this.props.channel && this.state.isPinnedPosts) {\n                (0, _post_actions.getPinnedPosts)(this.props.channel.id);\n            }\n        }\n    }, {\n        key: 'onShrink',\n        value: function onShrink() {\n            this.setState({\n                expanded: false\n            });\n        }\n    }, {\n        key: 'onSearchChange',\n        value: function onSearchChange() {\n            this.setState({\n                searchVisible: _search_store2.default.getSearchResults() !== null,\n                isMentionSearch: _search_store2.default.getIsMentionSearch(),\n                isFlaggedPosts: _search_store2.default.getIsFlaggedPosts(),\n                isPinnedPosts: _search_store2.default.getIsPinnedPosts()\n            });\n        }\n    }, {\n        key: 'onUserChange',\n        value: function onUserChange() {\n            this.setState({\n                currentUser: _user_store2.default.getCurrentUser()\n            });\n        }\n    }, {\n        key: 'onShowSearch',\n        value: function onShowSearch() {\n            if (!this.state.searchVisible) {\n                this.setState({\n                    searchVisible: true\n                });\n            }\n        }\n    }, {\n        key: 'toggleSize',\n        value: function toggleSize() {\n            this.setState({ expanded: !this.state.expanded });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var content = null;\n            var expandedClass = '';\n\n            if (this.state.expanded) {\n                expandedClass = 'sidebar--right--expanded';\n            }\n\n            var currentId = _user_store2.default.getCurrentId();\n            var searchForm = null;\n            if (currentId) {\n                searchForm = _react2.default.createElement(_search_bar2.default, { isFocus: this.state.searchVisible && Utils.isMobile() });\n            }\n\n            var channel = this.props.channel;\n\n            var channelDisplayName = '';\n            if (channel) {\n                if (channel.type === _constants2.default.DM_CHANNEL || channel.type === _constants2.default.GM_CHANNEL) {\n                    channelDisplayName = Utils.localizeMessage('rhs_root.direct', 'Direct Message');\n                } else {\n                    channelDisplayName = channel.display_name;\n                }\n            }\n\n            if (this.state.searchVisible) {\n                content = _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar--right__content' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'search-bar__container sidebar--right__search-header' },\n                        searchForm\n                    ),\n                    _react2.default.createElement(_search_results2.default, {\n                        isMentionSearch: this.state.isMentionSearch,\n                        isFlaggedPosts: this.state.isFlaggedPosts,\n                        isPinnedPosts: this.state.isPinnedPosts,\n                        useMilitaryTime: this.state.useMilitaryTime,\n                        toggleSize: this.toggleSize,\n                        shrink: this.onShrink,\n                        channelDisplayName: channelDisplayName\n                    })\n                );\n            } else if (this.state.postRightVisible) {\n                content = _react2.default.createElement(\n                    'div',\n                    { className: 'post-right__container' },\n                    _react2.default.createElement(_file_upload_overlay2.default, { overlayType: 'right' }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'search-bar__container sidebar--right__search-header' },\n                        searchForm\n                    ),\n                    _react2.default.createElement(_rhs_thread2.default, {\n                        fromFlaggedPosts: this.state.fromFlaggedPosts,\n                        fromSearch: this.state.fromSearch,\n                        isWebrtc: _webrtc_store2.default.isBusy(),\n                        isMentionSearch: this.state.isMentionSearch,\n                        currentUser: this.state.currentUser,\n                        useMilitaryTime: this.state.useMilitaryTime,\n                        toggleSize: this.toggleSize,\n                        shrink: this.onShrink\n                    })\n                );\n            }\n\n            if (!content) {\n                expandedClass = '';\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar--right ' + expandedClass,\n                    id: 'sidebar-right'\n                },\n                _react2.default.createElement('div', {\n                    onClick: this.onShrink,\n                    className: 'sidebar--right__bg'\n                }),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar-right-container' },\n                    content\n                )\n            );\n        }\n    }]);\n    return SidebarRight;\n}(_react2.default.Component); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = SidebarRight;\n\n\nSidebarRight.propTypes = {\n    channel: _react.PropTypes.object\n};\n\n/***/ }),\n\n/***/ 2043:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _app_dispatcher = __webpack_require__(16);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _team_members_modal = __webpack_require__(578);\n\nvar _team_members_modal2 = _interopRequireDefault(_team_members_modal);\n\nvar _toggle_modal_button = __webpack_require__(248);\n\nvar _toggle_modal_button2 = _interopRequireDefault(_toggle_modal_button);\n\nvar _user_settings_modal = __webpack_require__(1678);\n\nvar _user_settings_modal2 = _interopRequireDefault(_user_settings_modal);\n\nvar _about_build_modal = __webpack_require__(1670);\n\nvar _about_build_modal2 = _interopRequireDefault(_about_build_modal);\n\nvar _add_users_to_team = __webpack_require__(1671);\n\nvar _add_users_to_team2 = _interopRequireDefault(_add_users_to_team);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _search_store = __webpack_require__(244);\n\nvar _search_store2 = _interopRequireDefault(_search_store);\n\nvar _preference_store = __webpack_require__(42);\n\nvar _preference_store2 = _interopRequireDefault(_preference_store);\n\nvar _webrtc_store = __webpack_require__(334);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _post_actions = __webpack_require__(104);\n\nvar _user_agent = __webpack_require__(59);\n\nvar UserAgent = _interopRequireWildcard(_user_agent);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _es = __webpack_require__(37);\n\nvar _tutorial_tip = __webpack_require__(573);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ActionTypes = _constants.Constants.ActionTypes;\nvar Preferences = _constants.Constants.Preferences;\nvar TutorialSteps = _constants.Constants.TutorialSteps;\n\nvar SidebarRightMenu = function (_React$Component) {\n    (0, _inherits3.default)(SidebarRightMenu, _React$Component);\n\n    function SidebarRightMenu(props) {\n        (0, _classCallCheck3.default)(this, SidebarRightMenu);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarRightMenu.__proto__ || (0, _getPrototypeOf2.default)(SidebarRightMenu)).call(this, props));\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleAboutModal = _this.handleAboutModal.bind(_this);\n        _this.showAddUsersToTeamModal = _this.showAddUsersToTeamModal.bind(_this);\n        _this.hideAddUsersToTeamModal = _this.hideAddUsersToTeamModal.bind(_this);\n        _this.searchMentions = _this.searchMentions.bind(_this);\n        _this.aboutModalDismissed = _this.aboutModalDismissed.bind(_this);\n        _this.getFlagged = _this.getFlagged.bind(_this);\n\n        var state = _this.getStateFromStores();\n        state.showUserSettingsModal = false;\n        state.showAboutModal = false;\n        state.showAddUsersToTeamModal = false;\n\n        _this.state = state;\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarRightMenu, [{\n        key: 'handleClick',\n        value: function handleClick(e) {\n            if (_webrtc_store2.default.isBusy()) {\n                _webrtc_store2.default.emitChanged({ action: _constants.WebrtcActionTypes.IN_PROGRESS });\n                e.preventDefault();\n            }\n        }\n    }, {\n        key: 'handleAboutModal',\n        value: function handleAboutModal() {\n            this.setState({ showAboutModal: true });\n        }\n    }, {\n        key: 'aboutModalDismissed',\n        value: function aboutModalDismissed() {\n            this.setState({ showAboutModal: false });\n        }\n    }, {\n        key: 'showAddUsersToTeamModal',\n        value: function showAddUsersToTeamModal(e) {\n            e.preventDefault();\n\n            this.setState({\n                showAddUsersToTeamModal: true,\n                showDropdown: false\n            });\n        }\n    }, {\n        key: 'hideAddUsersToTeamModal',\n        value: function hideAddUsersToTeamModal() {\n            this.setState({\n                showAddUsersToTeamModal: false\n            });\n        }\n    }, {\n        key: 'getFlagged',\n        value: function getFlagged(e) {\n            e.preventDefault();\n            (0, _post_actions.getFlaggedPosts)();\n            this.hideSidebars();\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _team_store2.default.addChangeListener(this.onChange);\n            _preference_store2.default.addChangeListener(this.onChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _team_store2.default.removeChangeListener(this.onChange);\n            _preference_store2.default.removeChangeListener(this.onChange);\n        }\n    }, {\n        key: 'getStateFromStores',\n        value: function getStateFromStores() {\n            var tutorialStep = _preference_store2.default.getInt(Preferences.TUTORIAL_STEP, _user_store2.default.getCurrentId(), 999);\n\n            return {\n                currentUser: _user_store2.default.getCurrentUser(),\n                teamMembers: _team_store2.default.getMyTeamMembers(),\n                teamListings: _team_store2.default.getTeamListings(),\n                showTutorialTip: tutorialStep === TutorialSteps.MENU_POPOVER && Utils.isMobile()\n            };\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            this.setState(this.getStateFromStores());\n        }\n    }, {\n        key: 'searchMentions',\n        value: function searchMentions(e) {\n            e.preventDefault();\n            var user = this.state.currentUser;\n            if (_search_store2.default.isMentionSearch) {\n                GlobalActions.toggleSideBarAction(false);\n            } else {\n                GlobalActions.emitSearchMentionsEvent(user);\n                this.hideSidebars();\n            }\n        }\n    }, {\n        key: 'closeLeftSidebar',\n        value: function closeLeftSidebar() {\n            if (Utils.isMobile()) {\n                setTimeout(function () {\n                    document.querySelector('.app__body .inner-wrap').classList.remove('move--right');\n                    document.querySelector('.app__body .sidebar--left').classList.remove('move--right');\n                });\n            }\n        }\n    }, {\n        key: 'openRightSidebar',\n        value: function openRightSidebar() {\n            if (Utils.isMobile()) {\n                setTimeout(function () {\n                    document.querySelector('.app__body .inner-wrap').classList.add('move--left-small');\n                    document.querySelector('.app__body .sidebar--menu').classList.add('move--left');\n                });\n            }\n        }\n    }, {\n        key: 'hideSidebars',\n        value: function hideSidebars() {\n            if (Utils.isMobile()) {\n                _app_dispatcher2.default.handleServerAction({\n                    type: ActionTypes.RECEIVED_SEARCH,\n                    results: null\n                });\n\n                _app_dispatcher2.default.handleServerAction({\n                    type: ActionTypes.RECEIVED_POST_SELECTED,\n                    postId: null\n                });\n\n                document.querySelector('.app__body .inner-wrap').classList.remove('move--right', 'move--left', 'move--left-small');\n                document.querySelector('.app__body .sidebar--left').classList.remove('move--right');\n                document.querySelector('.app__body .sidebar--right').classList.remove('move--left');\n                document.querySelector('.app__body .sidebar--menu').classList.remove('move--left');\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var currentUser = _user_store2.default.getCurrentUser();\n            var teamLink = void 0;\n            var inviteLink = void 0;\n            var addUserToTeamLink = void 0;\n            var teamSettingsLink = void 0;\n            var manageLink = void 0;\n            var consoleLink = void 0;\n            var joinAnotherTeamLink = void 0;\n            var isAdmin = false;\n            var isSystemAdmin = false;\n\n            if (currentUser != null) {\n                isAdmin = _team_store2.default.isTeamAdminForCurrentTeam() || _user_store2.default.isSystemAdminForCurrentUser();\n                isSystemAdmin = _user_store2.default.isSystemAdminForCurrentUser();\n\n                inviteLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            onClick: GlobalActions.showInviteMemberModal\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-user-plus' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.inviteNew',\n                            defaultMessage: 'Send Email Invite'\n                        })\n                    )\n                );\n\n                addUserToTeamLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            id: 'addUsersToTeam',\n                            href: '#',\n                            onClick: this.showAddUsersToTeamModal\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-user-plus' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.addMemberToTeam',\n                            defaultMessage: 'Add Members to Team'\n                        })\n                    )\n                );\n\n                if (this.props.teamType === 'O') {\n                    teamLink = _react2.default.createElement(\n                        'li',\n                        null,\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: '#',\n                                onClick: GlobalActions.showGetTeamInviteLinkModal\n                            },\n                            _react2.default.createElement('i', { className: 'icon fa fa-link' }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'sidebar_right_menu.teamLink',\n                                defaultMessage: 'Get Team Invite Link'\n                            })\n                        )\n                    );\n                }\n\n                if (global.window.mm_license.IsLicensed === 'true') {\n                    if (global.window.mm_config.RestrictTeamInvite === _constants.Constants.PERMISSIONS_SYSTEM_ADMIN && !isSystemAdmin) {\n                        teamLink = null;\n                        inviteLink = null;\n                        addUserToTeamLink = null;\n                    } else if (global.window.mm_config.RestrictTeamInvite === _constants.Constants.PERMISSIONS_TEAM_ADMIN && !isAdmin) {\n                        teamLink = null;\n                        inviteLink = null;\n                        addUserToTeamLink = null;\n                    }\n                }\n\n                var moreTeams = false;\n                var isAlreadyMember = this.state.teamMembers.reduce(function (result, item) {\n                    result[item.team_id] = true;\n                    return result;\n                }, {});\n\n                for (var id in this.state.teamListings) {\n                    if (this.state.teamListings.hasOwnProperty(id) && !isAlreadyMember[id]) {\n                        moreTeams = true;\n                        break;\n                    }\n                }\n\n                if (moreTeams) {\n                    joinAnotherTeamLink = _react2.default.createElement(\n                        'li',\n                        { key: 'joinTeam_li' },\n                        _react2.default.createElement(\n                            _es.Link,\n                            { to: '/select_team' },\n                            _react2.default.createElement('i', { className: 'icon fa fa-plus-square' }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'navbar_dropdown.join',\n                                defaultMessage: 'Join Another Team'\n                            })\n                        )\n                    );\n                }\n            }\n\n            manageLink = _react2.default.createElement(\n                'li',\n                null,\n                _react2.default.createElement(\n                    _toggle_modal_button2.default,\n                    { dialogType: _team_members_modal2.default },\n                    _react2.default.createElement('i', { className: 'icon fa fa-users' }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'sidebar_right_menu.viewMembers',\n                        defaultMessage: 'View Members'\n                    })\n                )\n            );\n\n            if (isAdmin) {\n                teamSettingsLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        'a',\n                        {\n                            href: '#',\n                            'data-toggle': 'modal',\n                            'data-target': '#team_settings'\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-globe' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.teamSettings',\n                            defaultMessage: 'Team Settings'\n                        })\n                    )\n                );\n                manageLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _toggle_modal_button2.default,\n                        {\n                            dialogType: _team_members_modal2.default,\n                            dialogProps: { isAdmin: isAdmin }\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-users' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.manageMembers',\n                            defaultMessage: 'Manage Members'\n                        })\n                    )\n                );\n            }\n\n            if (isSystemAdmin && !Utils.isMobile()) {\n                consoleLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            to: '/admin_console',\n                            onClick: this.handleClick\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-wrench' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.console',\n                            defaultMessage: 'System Console'\n                        })\n                    )\n                );\n            }\n\n            var siteName = '';\n            if (global.window.mm_config.SiteName != null) {\n                siteName = global.window.mm_config.SiteName;\n            }\n            var teamDisplayName = siteName;\n            if (this.props.teamDisplayName) {\n                teamDisplayName = this.props.teamDisplayName;\n            }\n\n            var helpLink = null;\n            if (global.window.mm_config.HelpLink) {\n                helpLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: global.window.mm_config.HelpLink\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-question' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.help',\n                            defaultMessage: 'Help'\n                        })\n                    )\n                );\n            }\n\n            var reportLink = null;\n            if (global.window.mm_config.ReportAProblemLink) {\n                reportLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: global.window.mm_config.ReportAProblemLink\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-phone' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.report',\n                            defaultMessage: 'Report a Problem'\n                        })\n                    )\n                );\n            }\n\n            var tutorialTip = null;\n            if (this.state.showTutorialTip) {\n                tutorialTip = (0, _tutorial_tip.createMenuTip)(function (e) {\n                    return e.preventDefault();\n                }, true);\n                this.closeLeftSidebar();\n                this.openRightSidebar();\n            }\n\n            var nativeAppLink = null;\n            if (global.window.mm_config.AppDownloadLink && !UserAgent.isMobileApp()) {\n                nativeAppLink = _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            target: '_blank',\n                            rel: 'noopener noreferrer',\n                            to: global.window.mm_config.AppDownloadLink\n                        },\n                        _react2.default.createElement('i', { className: 'icon fa fa-mobile' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'sidebar_right_menu.nativeApps',\n                            defaultMessage: 'Download Apps'\n                        })\n                    )\n                );\n            }\n\n            var addUsersToTeamModal = void 0;\n            if (this.state.showAddUsersToTeamModal) {\n                addUsersToTeamModal = _react2.default.createElement(_add_users_to_team2.default, {\n                    onModalDismissed: this.hideAddUsersToTeamModal\n                });\n            }\n\n            var teamDivider = null;\n            if (teamSettingsLink || manageLink || joinAnotherTeamLink) {\n                teamDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            var consoleDivider = null;\n            if (consoleLink) {\n                consoleDivider = _react2.default.createElement('li', { className: 'divider' });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar--menu',\n                    id: 'sidebar-menu'\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'team__header theme' },\n                    _react2.default.createElement(\n                        _es.Link,\n                        {\n                            className: 'team__name',\n                            to: '/channels/town-square'\n                        },\n                        teamDisplayName\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'nav-pills__container' },\n                    tutorialTip,\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'nav nav-pills nav-stacked' },\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: this.searchMentions\n                                },\n                                _react2.default.createElement(\n                                    'i',\n                                    { className: 'icon mentions' },\n                                    '@'\n                                ),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.recentMentions',\n                                    defaultMessage: 'Recent Mentions'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: this.getFlagged\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-flag' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.flagged',\n                                    defaultMessage: 'Flagged Posts'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: function onClick() {\n                                        return _this2.setState({ showUserSettingsModal: true });\n                                    }\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-cog' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.accountSettings',\n                                    defaultMessage: 'Account Settings'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        inviteLink,\n                        teamLink,\n                        addUserToTeamLink,\n                        teamDivider,\n                        teamSettingsLink,\n                        manageLink,\n                        joinAnotherTeamLink,\n                        consoleDivider,\n                        consoleLink,\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        helpLink,\n                        reportLink,\n                        nativeAppLink,\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: this.handleAboutModal\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-info' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'navbar_dropdown.about',\n                                    defaultMessage: 'About Mattermost'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('li', { className: 'divider' }),\n                        _react2.default.createElement(\n                            'li',\n                            null,\n                            _react2.default.createElement(\n                                'a',\n                                {\n                                    href: '#',\n                                    onClick: function onClick() {\n                                        return GlobalActions.emitUserLoggedOutEvent();\n                                    }\n                                },\n                                _react2.default.createElement('i', { className: 'icon fa fa-sign-out' }),\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'sidebar_right_menu.logout',\n                                    defaultMessage: 'Logout'\n                                })\n                            )\n                        )\n                    )\n                ),\n                _react2.default.createElement(_user_settings_modal2.default, {\n                    show: this.state.showUserSettingsModal,\n                    onModalDismissed: function onModalDismissed() {\n                        return _this2.setState({ showUserSettingsModal: false });\n                    }\n                }),\n                _react2.default.createElement(_about_build_modal2.default, {\n                    show: this.state.showAboutModal,\n                    onModalDismissed: this.aboutModalDismissed\n                }),\n                addUsersToTeamModal\n            );\n        }\n    }]);\n    return SidebarRightMenu;\n}(_react2.default.Component);\n\nexports.default = SidebarRightMenu;\n\n\nSidebarRightMenu.propTypes = {\n    teamType: _react2.default.PropTypes.string,\n    teamDisplayName: _react2.default.PropTypes.string\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ }),\n\n/***/ 2044:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(31);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _keys = __webpack_require__(43);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getIterator2 = __webpack_require__(36);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _suggestion = __webpack_require__(143);\n\nvar _suggestion2 = _interopRequireDefault(_suggestion);\n\nvar _provider = __webpack_require__(187);\n\nvar _provider2 = _interopRequireDefault(_provider);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _user_actions = __webpack_require__(46);\n\nvar _web_client = __webpack_require__(28);\n\nvar _web_client2 = _interopRequireDefault(_web_client);\n\nvar _app_dispatcher = __webpack_require__(16);\n\nvar _app_dispatcher2 = _interopRequireDefault(_app_dispatcher);\n\nvar _constants = __webpack_require__(8);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _channel_utils = __webpack_require__(81);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SwitchChannelSuggestion = function (_Suggestion) {\n    (0, _inherits3.default)(SwitchChannelSuggestion, _Suggestion);\n\n    function SwitchChannelSuggestion() {\n        (0, _classCallCheck3.default)(this, SwitchChannelSuggestion);\n        return (0, _possibleConstructorReturn3.default)(this, (SwitchChannelSuggestion.__proto__ || (0, _getPrototypeOf2.default)(SwitchChannelSuggestion)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SwitchChannelSuggestion, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                item = _props.item,\n                isSelection = _props.isSelection;\n\n\n            var className = 'mentions__name';\n            if (isSelection) {\n                className += ' suggestion--selected';\n            }\n\n            var displayName = item.display_name;\n            var icon = null;\n            if (item.type === _constants.Constants.OPEN_CHANNEL) {\n                icon = _react2.default.createElement(\n                    'div',\n                    { className: 'status' },\n                    _react2.default.createElement('i', { className: 'fa fa-globe' })\n                );\n            } else if (item.type === _constants.Constants.PRIVATE_CHANNEL) {\n                icon = _react2.default.createElement(\n                    'div',\n                    { className: 'status' },\n                    _react2.default.createElement('i', { className: 'fa fa-lock' })\n                );\n            } else if (item.type === _constants.Constants.GM_CHANNEL) {\n                displayName = (0, _channel_utils.buildGroupChannelName)(item.id);\n                icon = _react2.default.createElement(\n                    'div',\n                    { className: 'status status--group' },\n                    _user_store2.default.getProfileListInChannel(item.id, true).length\n                );\n            } else {\n                icon = _react2.default.createElement(\n                    'div',\n                    { className: 'pull-left' },\n                    _react2.default.createElement('img', {\n                        className: 'mention__image',\n                        src: _web_client2.default.getUsersRoute() + '/' + item.id + '/image?time=' + item.last_picture_update\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    onClick: this.handleClick,\n                    className: className\n                },\n                icon,\n                displayName\n            );\n        }\n    }]);\n    return SwitchChannelSuggestion;\n}(_suggestion2.default); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SwitchChannelProvider = function (_Provider) {\n    (0, _inherits3.default)(SwitchChannelProvider, _Provider);\n\n    function SwitchChannelProvider() {\n        (0, _classCallCheck3.default)(this, SwitchChannelProvider);\n        return (0, _possibleConstructorReturn3.default)(this, (SwitchChannelProvider.__proto__ || (0, _getPrototypeOf2.default)(SwitchChannelProvider)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(SwitchChannelProvider, [{\n        key: 'handlePretextChanged',\n        value: function handlePretextChanged(suggestionId, channelPrefix) {\n            var _this3 = this;\n\n            if (channelPrefix) {\n                this.startNewRequest(channelPrefix);\n\n                var allChannels = _channel_store2.default.getAll();\n                var channels = [];\n\n                (0, _user_actions.autocompleteUsers)(channelPrefix, function (users) {\n                    if (_this3.shouldCancelDispatch(channelPrefix)) {\n                        return;\n                    }\n\n                    var currentId = _user_store2.default.getCurrentId();\n\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                        for (var _iterator = (0, _getIterator3.default)((0, _keys2.default)(allChannels)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var id = _step.value;\n\n                            var channel = allChannels[id];\n                            if (channel.display_name.toLowerCase().indexOf(channelPrefix.toLowerCase()) !== -1) {\n                                var _newChannel = (0, _assign2.default)({}, channel);\n                                if (_newChannel.type === _constants.Constants.GM_CHANNEL) {\n                                    _newChannel.name = (0, _channel_utils.buildGroupChannelName)(_newChannel.id);\n                                }\n                                channels.push(_newChannel);\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n                        } finally {\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n\n                    var userMap = {};\n                    for (var i = 0; i < users.length; i++) {\n                        var user = users[i];\n                        var displayName = '@' + user.username + ' ';\n\n                        if (user.id === currentId) {\n                            continue;\n                        }\n\n                        if ((user.first_name || user.last_name) && user.nickname) {\n                            displayName += '- ' + Utils.getFullName(user) + ' (' + user.nickname + ')';\n                        } else if (user.nickname) {\n                            displayName += '- (' + user.nickname + ')';\n                        } else if (user.first_name || user.last_name) {\n                            displayName += '- ' + Utils.getFullName(user);\n                        }\n\n                        var newChannel = {\n                            display_name: displayName,\n                            name: user.username,\n                            id: user.id,\n                            update_at: user.update_at,\n                            type: _constants.Constants.DM_CHANNEL\n                        };\n                        channels.push(newChannel);\n                        userMap[user.id] = user;\n                    }\n\n                    var channelNames = channels.sort(_channel_utils.sortChannelsByDisplayName).map(function (channel) {\n                        return channel.name;\n                    });\n\n                    _app_dispatcher2.default.handleServerAction({\n                        type: _constants.ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,\n                        id: suggestionId,\n                        matchedPretext: channelPrefix,\n                        terms: channelNames,\n                        items: channels,\n                        component: SwitchChannelSuggestion\n                    });\n\n                    _app_dispatcher2.default.handleServerAction({\n                        type: _constants.ActionTypes.RECEIVED_PROFILES,\n                        profiles: userMap\n                    });\n                });\n            }\n        }\n    }]);\n    return SwitchChannelProvider;\n}(_provider2.default);\n\nexports.default = SwitchChannelProvider;\n\n/***/ }),\n\n/***/ 2045:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _setting_item_min = __webpack_require__(91);\n\nvar _setting_item_min2 = _interopRequireDefault(_setting_item_min);\n\nvar _setting_item_max = __webpack_require__(82);\n\nvar _setting_item_max2 = _interopRequireDefault(_setting_item_max);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _team_actions = __webpack_require__(333);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar GeneralTab = function (_React$Component) {\n    (0, _inherits3.default)(GeneralTab, _React$Component);\n\n    function GeneralTab(props) {\n        (0, _classCallCheck3.default)(this, GeneralTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GeneralTab.__proto__ || (0, _getPrototypeOf2.default)(GeneralTab)).call(this, props));\n\n        _this.updateSection = _this.updateSection.bind(_this);\n        _this.handleNameSubmit = _this.handleNameSubmit.bind(_this);\n        _this.handleInviteIdSubmit = _this.handleInviteIdSubmit.bind(_this);\n        _this.handleOpenInviteSubmit = _this.handleOpenInviteSubmit.bind(_this);\n        _this.handleDescriptionSubmit = _this.handleDescriptionSubmit.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.onUpdateNameSection = _this.onUpdateNameSection.bind(_this);\n        _this.updateName = _this.updateName.bind(_this);\n        _this.updateDescription = _this.updateDescription.bind(_this);\n        _this.onUpdateDescriptionSection = _this.onUpdateDescriptionSection.bind(_this);\n        _this.onUpdateInviteIdSection = _this.onUpdateInviteIdSection.bind(_this);\n        _this.updateInviteId = _this.updateInviteId.bind(_this);\n        _this.onUpdateOpenInviteSection = _this.onUpdateOpenInviteSection.bind(_this);\n        _this.handleOpenInviteRadio = _this.handleOpenInviteRadio.bind(_this);\n        _this.handleGenerateInviteId = _this.handleGenerateInviteId.bind(_this);\n\n        _this.state = _this.setupInitialState(props);\n        return _this;\n    }\n\n    (0, _createClass3.default)(GeneralTab, [{\n        key: 'updateSection',\n        value: function updateSection(section) {\n            if ((0, _jquery2.default)('.section-max').length) {\n                (0, _jquery2.default)('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n            }\n            this.setState(this.setupInitialState(this.props));\n            this.props.updateSection(section);\n        }\n    }, {\n        key: 'setupInitialState',\n        value: function setupInitialState(props) {\n            var team = props.team;\n\n            return {\n                name: team.display_name,\n                invite_id: team.invite_id,\n                allow_open_invite: team.allow_open_invite,\n                description: team.description,\n                serverError: '',\n                clientError: ''\n            };\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            this.setState({\n                name: nextProps.team.display_name,\n                description: nextProps.team.description,\n                invite_id: nextProps.team.invite_id,\n                allow_open_invite: nextProps.team.allow_open_invite\n            });\n        }\n    }, {\n        key: 'handleGenerateInviteId',\n        value: function handleGenerateInviteId(e) {\n            e.preventDefault();\n\n            var newId = '';\n            for (var i = 0; i < 32; i++) {\n                newId += Math.floor(Math.random() * 16).toString(16);\n            }\n\n            this.setState({ invite_id: newId });\n        }\n    }, {\n        key: 'handleOpenInviteRadio',\n        value: function handleOpenInviteRadio(openInvite) {\n            this.setState({ allow_open_invite: openInvite });\n        }\n    }, {\n        key: 'handleOpenInviteSubmit',\n        value: function handleOpenInviteSubmit(e) {\n            var _this2 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n\n            var data = this.props.team;\n            data.allow_open_invite = this.state.allow_open_invite;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this2.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this2.setState(state);\n            });\n        }\n    }, {\n        key: 'handleNameSubmit',\n        value: function handleNameSubmit(e) {\n            var _this3 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n            var valid = true;\n\n            var name = this.state.name.trim();\n            if (name) {\n                state.clientError = '';\n            } else {\n                state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n                valid = false;\n            }\n\n            this.setState(state);\n\n            if (!valid) {\n                return;\n            }\n\n            var data = this.props.team;\n            data.display_name = this.state.name;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this3.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this3.setState(state);\n            });\n        }\n    }, {\n        key: 'handleInviteIdSubmit',\n        value: function handleInviteIdSubmit(e) {\n            var _this4 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n            var valid = true;\n\n            var inviteId = this.state.invite_id.trim();\n            if (inviteId) {\n                state.clientError = '';\n            } else {\n                state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n                valid = false;\n            }\n\n            this.setState(state);\n\n            if (!valid) {\n                return;\n            }\n\n            var data = this.props.team;\n            data.invite_id = this.state.invite_id;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this4.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this4.setState(state);\n            });\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose() {\n            this.updateSection('');\n        }\n    }, {\n        key: 'handleDescriptionSubmit',\n        value: function handleDescriptionSubmit(e) {\n            var _this5 = this;\n\n            e.preventDefault();\n\n            var state = { serverError: '', clientError: '' };\n            var valid = true;\n\n            var description = this.state.description.trim();\n            if (description === this.props.team.description) {\n                state.clientError = Utils.localizeMessage('general_tab.chooseDescription', 'Please choose a new description for your team');\n                valid = false;\n            } else {\n                state.clientError = '';\n            }\n\n            this.setState(state);\n\n            if (!valid) {\n                return;\n            }\n\n            var data = this.props.team;\n            data.description = this.state.description;\n            (0, _team_actions.updateTeam)(data, function () {\n                _this5.updateSection('');\n            }, function (err) {\n                state.serverError = err.message;\n                _this5.setState(state);\n            });\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            (0, _jquery2.default)('#team_settings').on('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _jquery2.default)('#team_settings').off('hidden.bs.modal', this.handleClose);\n        }\n    }, {\n        key: 'onUpdateNameSection',\n        value: function onUpdateNameSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'name') {\n                this.updateSection('');\n            } else {\n                this.updateSection('name');\n            }\n        }\n    }, {\n        key: 'onUpdateDescriptionSection',\n        value: function onUpdateDescriptionSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'description') {\n                this.updateSection('');\n            } else {\n                this.updateSection('description');\n            }\n        }\n    }, {\n        key: 'onUpdateInviteIdSection',\n        value: function onUpdateInviteIdSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'invite_id') {\n                this.updateSection('');\n            } else {\n                this.updateSection('invite_id');\n            }\n        }\n    }, {\n        key: 'onUpdateOpenInviteSection',\n        value: function onUpdateOpenInviteSection(e) {\n            e.preventDefault();\n            if (this.props.activeSection === 'open_invite') {\n                this.updateSection('');\n            } else {\n                this.updateSection('open_invite');\n            }\n        }\n    }, {\n        key: 'updateName',\n        value: function updateName(e) {\n            this.setState({ name: e.target.value });\n        }\n    }, {\n        key: 'updateDescription',\n        value: function updateDescription(e) {\n            this.setState({ description: e.target.value });\n        }\n    }, {\n        key: 'updateInviteId',\n        value: function updateInviteId(e) {\n            this.setState({ invite_id: e.target.value });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var clientError = null;\n            var serverError = null;\n            if (this.state.clientError) {\n                clientError = this.state.clientError;\n            }\n            if (this.state.serverError) {\n                serverError = this.state.serverError;\n            }\n\n            var openInviteSection = void 0;\n            if (this.props.activeSection === 'open_invite') {\n                var inputs = [_react2.default.createElement(\n                    'div',\n                    { key: 'userOpenInviteOptions' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'teamOpenInvite',\n                                name: 'userOpenInviteOptions',\n                                type: 'radio',\n                                defaultChecked: this.state.allow_open_invite,\n                                onChange: this.handleOpenInviteRadio.bind(this, true)\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'general_tab.yes',\n                                defaultMessage: 'Yes'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'radio' },\n                        _react2.default.createElement(\n                            'label',\n                            null,\n                            _react2.default.createElement('input', {\n                                id: 'teamOpenInviteNo',\n                                name: 'userOpenInviteOptions',\n                                type: 'radio',\n                                defaultChecked: !this.state.allow_open_invite,\n                                onChange: this.handleOpenInviteRadio.bind(this, false)\n                            }),\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'general_tab.no',\n                                defaultMessage: 'No'\n                            })\n                        ),\n                        _react2.default.createElement('br', null)\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement('br', null),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.openInviteDesc',\n                            defaultMessage: 'When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team.'\n                        })\n                    )\n                )];\n\n                openInviteSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team'),\n                    inputs: inputs,\n                    submit: this.handleOpenInviteSubmit,\n                    server_error: serverError,\n                    updateSection: this.onUpdateOpenInviteSection\n                });\n            } else {\n                var _describe = '';\n                if (this.state.allow_open_invite === true) {\n                    _describe = Utils.localizeMessage('general_tab.yes', 'Yes');\n                } else {\n                    _describe = Utils.localizeMessage('general_tab.no', 'No');\n                }\n\n                openInviteSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team'),\n                    describe: _describe,\n                    updateSection: this.onUpdateOpenInviteSection\n                });\n            }\n\n            var inviteSection = void 0;\n\n            if (this.props.activeSection === 'invite_id') {\n                var _inputs = [];\n\n                _inputs.push(_react2.default.createElement(\n                    'div',\n                    { key: 'teamInviteSetting' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'row' },\n                        _react2.default.createElement('label', { className: 'col-sm-5 control-label visible-xs-block' }),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'col-sm-12' },\n                            _react2.default.createElement('input', {\n                                id: 'teamInviteId',\n                                className: 'form-control',\n                                type: 'text',\n                                onChange: this.updateInviteId,\n                                value: this.state.invite_id,\n                                maxLength: '32'\n                            }),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'padding-top x2' },\n                                _react2.default.createElement(\n                                    'a',\n                                    {\n                                        id: 'teamInviteIdRegenerate',\n                                        href: '#',\n                                        onClick: this.handleGenerateInviteId\n                                    },\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'general_tab.regenerate',\n                                        defaultMessage: 'Regenerate'\n                                    })\n                                )\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'setting-list__hint' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.codeLongDesc',\n                            defaultMessage: 'The Invite Code is used as part of the URL in the team invitation link created by {getTeamInviteLink} in the main menu. Regenerating creates a new team invitation link and invalidates the previous link.',\n                            values: {\n                                getTeamInviteLink: _react2.default.createElement(\n                                    'strong',\n                                    null,\n                                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                        id: 'general_tab.getTeamInviteLink',\n                                        defaultMessage: 'Get Team Invite Link'\n                                    })\n                                )\n                            }\n                        })\n                    )\n                ));\n\n                inviteSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.codeTitle', 'Invite Code'),\n                    inputs: _inputs,\n                    submit: this.handleInviteIdSubmit,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: this.onUpdateInviteIdSection\n                });\n            } else {\n                inviteSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.codeTitle', 'Invite Code'),\n                    describe: Utils.localizeMessage('general_tab.codeDesc', \"Click 'Edit' to regenerate Invite Code.\"),\n                    updateSection: this.onUpdateInviteIdSection\n                });\n            }\n\n            var nameSection = void 0;\n\n            if (this.props.activeSection === 'name') {\n                var _inputs2 = [];\n\n                var teamNameLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'general_tab.teamName',\n                    defaultMessage: 'Team Name'\n                });\n                if (Utils.isMobile()) {\n                    teamNameLabel = '';\n                }\n\n                _inputs2.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'teamNameSetting',\n                        className: 'form-group'\n                    },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'col-sm-5 control-label' },\n                        teamNameLabel\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'col-sm-7' },\n                        _react2.default.createElement('input', {\n                            id: 'teamName',\n                            className: 'form-control',\n                            type: 'text',\n                            maxLength: _constants2.default.MAX_TEAMNAME_LENGTH.toString(),\n                            onChange: this.updateName,\n                            value: this.state.name\n                        })\n                    )\n                ));\n\n                var nameExtraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    Utils.localizeMessage('general_tab.teamNameInfo', 'Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar.')\n                );\n\n                nameSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.teamName', 'Team Name'),\n                    inputs: _inputs2,\n                    submit: this.handleNameSubmit,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: this.onUpdateNameSection,\n                    extraInfo: nameExtraInfo\n                });\n            } else {\n                var describe = this.state.name;\n\n                nameSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.teamName', 'Team Name'),\n                    describe: describe,\n                    updateSection: this.onUpdateNameSection\n                });\n            }\n\n            var descriptionSection = void 0;\n\n            if (this.props.activeSection === 'description') {\n                var _inputs3 = [];\n\n                var teamDescriptionLabel = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'general_tab.teamDescription',\n                    defaultMessage: 'Team Description'\n                });\n                if (Utils.isMobile()) {\n                    teamDescriptionLabel = '';\n                }\n\n                _inputs3.push(_react2.default.createElement(\n                    'div',\n                    {\n                        key: 'teamDescriptionSetting',\n                        className: 'form-group'\n                    },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'col-sm-5 control-label' },\n                        teamDescriptionLabel\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'col-sm-7' },\n                        _react2.default.createElement('input', {\n                            id: 'teamDescription',\n                            className: 'form-control',\n                            type: 'text',\n                            maxLength: _constants2.default.MAX_TEAMDESCRIPTION_LENGTH.toString(),\n                            onChange: this.updateDescription,\n                            value: this.state.description\n                        })\n                    )\n                ));\n\n                var descriptionExtraInfo = _react2.default.createElement(\n                    'span',\n                    null,\n                    Utils.localizeMessage('general_tab.teamDescriptionInfo', 'Team description provides additional information to help users select the right team. Maximum of 50 characters.')\n                );\n\n                descriptionSection = _react2.default.createElement(_setting_item_max2.default, {\n                    title: Utils.localizeMessage('general_tab.teamDescription', 'Team Description'),\n                    inputs: _inputs3,\n                    submit: this.handleDescriptionSubmit,\n                    server_error: serverError,\n                    client_error: clientError,\n                    updateSection: this.onUpdateDescriptionSection,\n                    extraInfo: descriptionExtraInfo\n                });\n            } else {\n                var describemsg = '';\n                if (this.state.description) {\n                    describemsg = this.state.description;\n                } else {\n                    describemsg = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'general_tab.emptyDescription',\n                        defaultMessage: 'Click \\'Edit\\' to add a team description.'\n                    });\n                }\n\n                descriptionSection = _react2.default.createElement(_setting_item_min2.default, {\n                    title: Utils.localizeMessage('general_tab.teamDescription', 'Team Description'),\n                    describe: describemsg,\n                    updateSection: this.onUpdateDescriptionSection\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            id: 'closeButton',\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': 'Close'\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            ''\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', { className: 'fa fa-angle-left' })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.title',\n                            defaultMessage: 'General Settings'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'wrapper',\n                        className: 'user-settings'\n                    },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'general_tab.title',\n                            defaultMessage: 'General Settings'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    nameSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    descriptionSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    openInviteSection,\n                    _react2.default.createElement('div', { className: 'divider-light' }),\n                    inviteSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' })\n                )\n            );\n        }\n    }]);\n    return GeneralTab;\n}(_react2.default.Component);\n\nGeneralTab.propTypes = {\n    updateSection: _react2.default.PropTypes.func.isRequired,\n    team: _react2.default.PropTypes.object.isRequired,\n    activeSection: _react2.default.PropTypes.string.isRequired\n};\n\nexports.default = GeneralTab;\n\n/***/ }),\n\n/***/ 2046:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _utils = __webpack_require__(11);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _setting_upload = __webpack_require__(2038);\n\nvar _setting_upload2 = _interopRequireDefault(_setting_upload);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar holders = (0, _reactIntl.defineMessages)({\n    importSlack: {\n        id: 'team_import_tab.importSlack',\n        defaultMessage: 'Import from Slack (Beta)'\n    }\n}); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar TeamImportTab = function (_React$Component) {\n    (0, _inherits3.default)(TeamImportTab, _React$Component);\n\n    function TeamImportTab(props) {\n        (0, _classCallCheck3.default)(this, TeamImportTab);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (TeamImportTab.__proto__ || (0, _getPrototypeOf2.default)(TeamImportTab)).call(this, props));\n\n        _this.onImportFailure = _this.onImportFailure.bind(_this);\n        _this.onImportSuccess = _this.onImportSuccess.bind(_this);\n        _this.doImportSlack = _this.doImportSlack.bind(_this);\n\n        _this.state = {\n            status: 'ready',\n            link: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(TeamImportTab, [{\n        key: 'onImportFailure',\n        value: function onImportFailure(e, err, res) {\n            this.setState({ status: 'fail', link: 'data:application/octet-stream;charset=utf-8,' + encodeURIComponent(res.text) });\n        }\n    }, {\n        key: 'onImportSuccess',\n        value: function onImportSuccess(data, res) {\n            this.setState({ status: 'done', link: 'data:application/octet-stream;charset=utf-8,' + encodeURIComponent(res.text) });\n        }\n    }, {\n        key: 'doImportSlack',\n        value: function doImportSlack(file) {\n            this.setState({ status: 'in-progress', link: '' });\n            utils.importSlack(file, this.onImportSuccess, this.onImportFailure);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var formatMessage = this.props.intl.formatMessage;\n\n            var uploadDocsLink = _react2.default.createElement(\n                'a',\n                {\n                    href: 'https://docs.mattermost.com/administration/migrating.html#migrating-from-slack',\n                    target: '_blank',\n                    rel: 'noopener noreferrer'\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'team_import_tab.importHelpDocsLink',\n                    defaultMessage: 'documentation'\n                })\n            );\n\n            var uploadExportInstructions = _react2.default.createElement(\n                'strong',\n                null,\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'team_import_tab.importHelpExportInstructions',\n                    defaultMessage: 'Slack > Team Settings > Import/Export Data > Export > Start Export'\n                })\n            );\n\n            var uploadExporterLink = _react2.default.createElement(\n                'a',\n                {\n                    href: 'https://github.com/grundleborg/slack-advanced-exporter',\n                    target: '_blank',\n                    rel: 'noopener noreferrer'\n                },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'team_import_tab.importHelpExporterLink',\n                    defaultMessage: 'Slack Advanced Exporter'\n                })\n            );\n\n            var uploadHelpText = _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'team_import_tab.importHelpLine1',\n                        defaultMessage: 'Slack import to Mattermost supports importing of messages in your Slack team\\'s public channels.'\n                    })\n                ),\n                _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'team_import_tab.importHelpLine2',\n                        defaultMessage: 'To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.',\n                        values: {\n                            exportInstructions: uploadExportInstructions,\n                            uploadDocsLink: uploadDocsLink\n                        }\n                    })\n                ),\n                _react2.default.createElement(\n                    'p',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'team_import_tab.importHelpLine3',\n                        defaultMessage: 'To import posts with attached files, see {slackAdvancedExporterLink} for details.',\n                        values: {\n                            slackAdvancedExporterLink: uploadExporterLink\n                        }\n                    })\n                )\n            );\n\n            var uploadSection = _react2.default.createElement(_setting_upload2.default, {\n                title: formatMessage(holders.importSlack),\n                submit: this.doImportSlack,\n                helpText: uploadHelpText,\n                fileTypesAccepted: '.zip'\n            });\n\n            var messageSection;\n            switch (this.state.status) {\n\n                case 'ready':\n                    messageSection = '';\n                    break;\n                case 'in-progress':\n                    messageSection = _react2.default.createElement(\n                        'p',\n                        { className: 'confirm-import alert alert-warning' },\n                        _react2.default.createElement('i', { className: 'fa fa-spinner fa-pulse' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.importing',\n                            defaultMessage: ' Importing...'\n                        })\n                    );\n                    break;\n                case 'done':\n                    messageSection = _react2.default.createElement(\n                        'p',\n                        { className: 'confirm-import alert alert-success' },\n                        _react2.default.createElement('i', { className: 'fa fa-check' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.successful',\n                            defaultMessage: ' Import successful: '\n                        }),\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: this.state.link,\n                                download: 'MattermostImportSummary.txt'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'team_import_tab.summary',\n                                defaultMessage: 'View Summary'\n                            })\n                        )\n                    );\n                    break;\n                case 'fail':\n                    messageSection = _react2.default.createElement(\n                        'p',\n                        { className: 'confirm-import alert alert-warning' },\n                        _react2.default.createElement('i', { className: 'fa fa-warning' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.failure',\n                            defaultMessage: ' Import failure: '\n                        }),\n                        _react2.default.createElement(\n                            'a',\n                            {\n                                href: this.state.link,\n                                download: 'MattermostImportSummary.txt'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'team_import_tab.summary',\n                                defaultMessage: 'View Summary'\n                            })\n                        )\n                    );\n                    break;\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-header' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'close',\n                            'data-dismiss': 'modal',\n                            'aria-label': 'Close'\n                        },\n                        _react2.default.createElement(\n                            'span',\n                            { 'aria-hidden': 'true' },\n                            ''\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'h4',\n                        {\n                            className: 'modal-title',\n                            ref: 'title'\n                        },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-back' },\n                            _react2.default.createElement('i', { className: 'fa fa-angle-left' })\n                        ),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.import',\n                            defaultMessage: 'Import'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'wrapper',\n                        className: 'user-settings'\n                    },\n                    _react2.default.createElement(\n                        'h3',\n                        { className: 'tab-header' },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'team_import_tab.import',\n                            defaultMessage: 'Import'\n                        })\n                    ),\n                    _react2.default.createElement('div', { className: 'divider-dark first' }),\n                    uploadSection,\n                    _react2.default.createElement('div', { className: 'divider-dark' }),\n                    messageSection\n                )\n            );\n        }\n    }]);\n    return TeamImportTab;\n}(_react2.default.Component);\n\nTeamImportTab.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(TeamImportTab);\n\n/***/ }),\n\n/***/ 2047:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _team_import_tab = __webpack_require__(2046);\n\nvar _team_import_tab2 = _interopRequireDefault(_team_import_tab);\n\nvar _team_general_tab = __webpack_require__(2045);\n\nvar _team_general_tab2 = _interopRequireDefault(_team_general_tab);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TeamSettings = function (_React$Component) {\n    (0, _inherits3.default)(TeamSettings, _React$Component);\n\n    function TeamSettings(props) {\n        (0, _classCallCheck3.default)(this, TeamSettings);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (TeamSettings.__proto__ || (0, _getPrototypeOf2.default)(TeamSettings)).call(this, props));\n\n        _this.onChange = _this.onChange.bind(_this);\n\n        _this.state = { team: _team_store2.default.getCurrent() };\n        return _this;\n    }\n\n    (0, _createClass3.default)(TeamSettings, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _team_store2.default.addChangeListener(this.onChange);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _team_store2.default.removeChangeListener(this.onChange);\n        }\n    }, {\n        key: 'onChange',\n        value: function onChange() {\n            var team = _team_store2.default.getCurrent();\n\n            if (!Utils.areObjectsEqual(this.state.team, team)) {\n                this.setState({ team: team });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.state.team) {\n                return null;\n            }\n            var result;\n            switch (this.props.activeTab) {\n                case 'general':\n                    result = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(_team_general_tab2.default, {\n                            team: this.state.team,\n                            activeSection: this.props.activeSection,\n                            updateSection: this.props.updateSection\n                        })\n                    );\n                    break;\n                case 'import':\n                    result = _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(_team_import_tab2.default, {\n                            team: this.state.team,\n                            activeSection: this.props.activeSection,\n                            updateSection: this.props.updateSection\n                        })\n                    );\n                    break;\n                default:\n                    result = _react2.default.createElement('div', null);\n                    break;\n            }\n            return result;\n        }\n    }]);\n    return TeamSettings;\n}(_react2.default.Component); // Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = TeamSettings;\n\n\nTeamSettings.defaultProps = {\n    activeTab: '',\n    activeSection: ''\n};\n\nTeamSettings.propTypes = {\n    activeTab: _react2.default.PropTypes.string.isRequired,\n    activeSection: _react2.default.PropTypes.string.isRequired,\n    updateSection: _react2.default.PropTypes.func.isRequired\n};\n\n/***/ }),\n\n/***/ 2048:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactDom = __webpack_require__(30);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _settings_sidebar = __webpack_require__(602);\n\nvar _settings_sidebar2 = _interopRequireDefault(_settings_sidebar);\n\nvar _team_settings = __webpack_require__(2047);\n\nvar _team_settings2 = _interopRequireDefault(_team_settings);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar holders = (0, _reactIntl.defineMessages)({\n    generalTab: {\n        id: 'team_settings_modal.generalTab',\n        defaultMessage: 'General'\n    },\n    importTab: {\n        id: 'team_settings_modal.importTab',\n        defaultMessage: 'Import'\n    }\n});\n\nvar TeamSettingsModal = function (_React$Component) {\n    (0, _inherits3.default)(TeamSettingsModal, _React$Component);\n\n    function TeamSettingsModal(props) {\n        (0, _classCallCheck3.default)(this, TeamSettingsModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (TeamSettingsModal.__proto__ || (0, _getPrototypeOf2.default)(TeamSettingsModal)).call(this, props));\n\n        _this.updateTab = _this.updateTab.bind(_this);\n        _this.updateSection = _this.updateSection.bind(_this);\n\n        _this.state = {\n            activeTab: 'general',\n            activeSection: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(TeamSettingsModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var modal = (0, _jquery2.default)(_reactDom2.default.findDOMNode(this.refs.modal));\n\n            modal.on('click', '.modal-back', function handleBackClick() {\n                (0, _jquery2.default)(this).closest('.modal-dialog').removeClass('display--content');\n                (0, _jquery2.default)(this).closest('.modal-dialog').find('.settings-table .nav li.active').removeClass('active');\n            });\n            modal.on('click', '.modal-header .close', function () {\n                setTimeout(function () {\n                    (0, _jquery2.default)('.modal-dialog.display--content').removeClass('display--content');\n                }, 500);\n            });\n\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.settings-modal .settings-content').perfectScrollbar();\n            }\n        }\n    }, {\n        key: 'updateTab',\n        value: function updateTab(tab) {\n            this.setState({ activeTab: tab, activeSection: '' });\n            if (!Utils.isMobile()) {\n                (0, _jquery2.default)('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n            }\n        }\n    }, {\n        key: 'updateSection',\n        value: function updateSection(section) {\n            if ((0, _jquery2.default)('.section-max').length) {\n                (0, _jquery2.default)('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n            }\n            this.setState({ activeSection: section });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var formatMessage = this.props.intl.formatMessage;\n\n            var tabs = [];\n            tabs.push({ name: 'general', uiName: formatMessage(holders.generalTab), icon: 'icon fa fa-cog' });\n            tabs.push({ name: 'import', uiName: formatMessage(holders.importTab), icon: 'icon fa fa-upload' });\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'modal fade',\n                    ref: 'modal',\n                    id: 'team_settings',\n                    role: 'dialog',\n                    tabIndex: '-1',\n                    'aria-hidden': 'true'\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'modal-dialog settings-modal' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'modal-content' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-header' },\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    type: 'button',\n                                    className: 'close',\n                                    'data-dismiss': 'modal',\n                                    'aria-label': 'Close'\n                                },\n                                _react2.default.createElement(\n                                    'span',\n                                    { 'aria-hidden': 'true' },\n                                    ''\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'h4',\n                                {\n                                    className: 'modal-title',\n                                    ref: 'title'\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'team_settings_modal.title',\n                                    defaultMessage: 'Team Settings'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-body settings-modal__body' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'settings-table' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'settings-links' },\n                                    _react2.default.createElement(_settings_sidebar2.default, {\n                                        tabs: tabs,\n                                        activeTab: this.state.activeTab,\n                                        updateTab: this.updateTab\n                                    })\n                                ),\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'settings-content minimize-settings' },\n                                    _react2.default.createElement(_team_settings2.default, {\n                                        activeTab: this.state.activeTab,\n                                        activeSection: this.state.activeSection,\n                                        updateSection: this.updateSection\n                                    })\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return TeamSettingsModal;\n}(_react2.default.Component);\n\nTeamSettingsModal.propTypes = {\n    intl: _reactIntl.intlShape.isRequired\n};\n\nexports.default = (0, _reactIntl.injectIntl)(TeamSettingsModal);\n\n/***/ }),\n\n/***/ 2052:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _modal_store = __webpack_require__(1661);\n\nvar _modal_store2 = _interopRequireDefault(_modal_store);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar ActionTypes = _constants2.default.ActionTypes;\n\nvar ImportThemeModal = function (_React$Component) {\n    (0, _inherits3.default)(ImportThemeModal, _React$Component);\n\n    function ImportThemeModal(props) {\n        (0, _classCallCheck3.default)(this, ImportThemeModal);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ImportThemeModal.__proto__ || (0, _getPrototypeOf2.default)(ImportThemeModal)).call(this, props));\n\n        _this.updateShow = _this.updateShow.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.handleChange = _this.handleChange.bind(_this);\n\n        _this.state = {\n            value: '',\n            inputError: '',\n            show: false,\n            callback: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ImportThemeModal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _modal_store2.default.addModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _modal_store2.default.removeModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n        }\n    }, {\n        key: 'updateShow',\n        value: function updateShow(show, args) {\n            this.setState({\n                show: show,\n                callback: args.callback\n            });\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(e) {\n            e.preventDefault();\n\n            var text = this.state.value;\n\n            if (!this.isInputValid(text)) {\n                this.setState({\n                    inputError: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.import_theme.submitError',\n                        defaultMessage: 'Invalid format, please try copying and pasting in again.'\n                    })\n                });\n                return;\n            }\n\n            var colors = text.split(',');\n            var theme = { type: 'custom' };\n\n            theme.sidebarBg = colors[0];\n            theme.sidebarText = colors[5];\n            theme.sidebarUnreadText = colors[5];\n            theme.sidebarTextHoverBg = colors[4];\n            theme.sidebarTextActiveBorder = colors[2];\n            theme.sidebarTextActiveColor = colors[3];\n            theme.sidebarHeaderBg = colors[1];\n            theme.sidebarHeaderTextColor = colors[5];\n            theme.onlineIndicator = colors[6];\n            theme.awayIndicator = '#E0B333';\n            theme.mentionBj = colors[7];\n            theme.mentionColor = '#ffffff';\n            theme.centerChannelBg = '#ffffff';\n            theme.centerChannelColor = '#333333';\n            theme.newMessageSeparator = '#F80';\n            theme.linkColor = '#2389d7';\n            theme.buttonBg = '#26a970';\n            theme.buttonColor = '#ffffff';\n            theme.mentionHighlightBg = '#fff2bb';\n            theme.mentionHighlightLink = '#2f81b7';\n            theme.codeTheme = 'github';\n\n            this.state.callback(theme);\n            this.setState({\n                show: false,\n                callback: null\n            });\n        }\n    }, {\n        key: 'isInputValid',\n        value: function isInputValid(text) {\n            if (text.length === 0) {\n                return false;\n            }\n\n            if (text.indexOf(' ') !== -1) {\n                return false;\n            }\n\n            if (text.length > 0 && text.indexOf(',') === -1) {\n                return false;\n            }\n\n            if (text.length > 0) {\n                var colors = text.split(',');\n\n                if (colors.length !== 8) {\n                    return false;\n                }\n\n                for (var i = 0; i < colors.length; i++) {\n                    if (colors[i].length !== 7 && colors[i].length !== 4) {\n                        return false;\n                    }\n\n                    if (colors[i].charAt(0) !== '#') {\n                        return false;\n                    }\n                }\n            }\n\n            return true;\n        }\n    }, {\n        key: 'handleChange',\n        value: function handleChange(e) {\n            var value = e.target.value;\n            this.setState({ value: value });\n\n            if (this.isInputValid(value)) {\n                this.setState({ inputError: null });\n            } else {\n                this.setState({\n                    inputError: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'user.settings.import_theme.submitError',\n                        defaultMessage: 'Invalid format, please try copying and pasting in again.'\n                    })\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            return _react2.default.createElement(\n                'span',\n                null,\n                _react2.default.createElement(\n                    _reactBootstrap.Modal,\n                    {\n                        show: this.state.show,\n                        onHide: function onHide() {\n                            return _this2.setState({ show: false });\n                        }\n                    },\n                    _react2.default.createElement(\n                        _reactBootstrap.Modal.Header,\n                        { closeButton: true },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Title,\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'user.settings.import_theme.importHeader',\n                                defaultMessage: 'Import Slack Theme'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'form',\n                        {\n                            role: 'form',\n                            className: 'form-horizontal'\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Body,\n                            null,\n                            _react2.default.createElement(\n                                'p',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.import_theme.importBody',\n                                    defaultMessage: 'To import a theme, go to a Slack team and look for \\u201CPreferences -> Sidebar Theme\\u201D. Open the custom theme option, copy the theme color values and paste them here:'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'form-group less' },\n                                _react2.default.createElement(\n                                    'div',\n                                    { className: 'col-sm-12' },\n                                    _react2.default.createElement('input', {\n                                        id: 'themeVector',\n                                        type: 'text',\n                                        className: 'form-control',\n                                        value: this.state.value,\n                                        onChange: this.handleChange\n                                    }),\n                                    _react2.default.createElement(\n                                        'div',\n                                        { className: 'input__help' },\n                                        this.state.inputError\n                                    )\n                                )\n                            )\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.Modal.Footer,\n                            null,\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    id: 'cancelButton',\n                                    type: 'button',\n                                    className: 'btn btn-default',\n                                    onClick: function onClick() {\n                                        return _this2.setState({ show: false });\n                                    }\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.import_theme.cancel',\n                                    defaultMessage: 'Cancel'\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                {\n                                    id: 'submitButton',\n                                    onClick: this.handleSubmit,\n                                    type: 'submit',\n                                    className: 'btn btn-primary',\n                                    tabIndex: '3'\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'user.settings.import_theme.submit',\n                                    defaultMessage: 'Submit'\n                                })\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return ImportThemeModal;\n}(_react2.default.Component);\n\nexports.default = ImportThemeModal;\n\n/***/ }),\n\n/***/ 2053:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _constants = __webpack_require__(8);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _reactBootstrap = __webpack_require__(27);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar WebrtcHeader = function (_React$Component) {\n    (0, _inherits3.default)(WebrtcHeader, _React$Component);\n\n    function WebrtcHeader() {\n        (0, _classCallCheck3.default)(this, WebrtcHeader);\n        return (0, _possibleConstructorReturn3.default)(this, (WebrtcHeader.__proto__ || (0, _getPrototypeOf2.default)(WebrtcHeader)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(WebrtcHeader, [{\n        key: 'render',\n        value: function render() {\n            var title = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                id: 'webrtc.header',\n                defaultMessage: 'Call with {username}',\n                values: {\n                    username: this.props.username\n                }\n            });\n\n            var closeSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'closeSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.closeTooltip',\n                    defaultMessage: 'Close Sidebar'\n                })\n            );\n\n            var expandSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'expandSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.expandTooltip',\n                    defaultMessage: 'Expand Sidebar'\n                })\n            );\n\n            var shrinkSidebarTooltip = _react2.default.createElement(\n                _reactBootstrap.Tooltip,\n                { id: 'shrinkSidebarTooltip' },\n                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'rhs_header.expandTooltip',\n                    defaultMessage: 'Shrink Sidebar'\n                })\n            );\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'sidebar--right__header' },\n                _react2.default.createElement(\n                    'span',\n                    { className: 'sidebar--right__title' },\n                    title\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'pull-right' },\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__expand',\n                            'aria-label': 'Expand',\n                            onClick: this.props.toggleSize\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: expandSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-expand' })\n                        ),\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: shrinkSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-compress' })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'button',\n                        {\n                            type: 'button',\n                            className: 'sidebar--right__close',\n                            'aria-label': 'Close',\n                            title: 'Close',\n                            onClick: this.props.onClose\n                        },\n                        _react2.default.createElement(\n                            _reactBootstrap.OverlayTrigger,\n                            {\n                                delayShow: _constants2.default.OVERLAY_TIME_DELAY,\n                                placement: 'top',\n                                overlay: closeSidebarTooltip\n                            },\n                            _react2.default.createElement('i', { className: 'fa fa-sign-out' })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return WebrtcHeader;\n}(_react2.default.Component);\n\nexports.default = WebrtcHeader;\n\n\nWebrtcHeader.propTypes = {\n    username: _react2.default.PropTypes.string.isRequired,\n    onClose: _react2.default.PropTypes.func.isRequired,\n    toggleSize: _react2.default.PropTypes.func\n};\n\n/***/ }),\n\n/***/ 2054:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _web_client = __webpack_require__(28);\n\nvar _web_client2 = _interopRequireDefault(_web_client);\n\nvar _web_websocket_client = __webpack_require__(340);\n\nvar _web_websocket_client2 = _interopRequireDefault(_web_websocket_client);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(334);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _global_actions = __webpack_require__(41);\n\nvar GlobalActions = _interopRequireWildcard(_global_actions);\n\nvar _webrtc_actions = __webpack_require__(247);\n\nvar WebrtcActions = _interopRequireWildcard(_webrtc_actions);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _ring = __webpack_require__(1778);\n\nvar _ring2 = _interopRequireDefault(_ring);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PreReleaseFeatures = _constants.Constants.PRE_RELEASE_FEATURES; // Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar WebrtcNotification = function (_React$Component) {\n    (0, _inherits3.default)(WebrtcNotification, _React$Component);\n\n    function WebrtcNotification() {\n        (0, _classCallCheck3.default)(this, WebrtcNotification);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (WebrtcNotification.__proto__ || (0, _getPrototypeOf2.default)(WebrtcNotification)).call(this));\n\n        _this.mounted = false;\n\n        _this.closeNotification = _this.closeNotification.bind(_this);\n        _this.onIncomingCall = _this.onIncomingCall.bind(_this);\n        _this.onCancelCall = _this.onCancelCall.bind(_this);\n        _this.onRhs = _this.onRhs.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.handleAnswer = _this.handleAnswer.bind(_this);\n        _this.handleTimeout = _this.handleTimeout.bind(_this);\n        _this.stopRinging = _this.stopRinging.bind(_this);\n        _this.closeRightHandSide = _this.closeRightHandSide.bind(_this);\n\n        _this.state = {\n            userCalling: null,\n            rhsOpened: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(WebrtcNotification, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _webrtc_store2.default.addNotifyListener(this.onIncomingCall);\n            _webrtc_store2.default.addChangedListener(this.onCancelCall);\n            _webrtc_store2.default.addRhsChangedListener(this.onRhs);\n            this.mounted = true;\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _webrtc_store2.default.removeNotifyListener(this.onIncomingCall);\n            _webrtc_store2.default.removeChangedListener(this.onCancelCall);\n            _webrtc_store2.default.removeRhsChangedListener(this.onRhs);\n            if (this.refs.ring) {\n                this.refs.ring.removeListener('ended', this.handleTimeout);\n            }\n            this.mounted = false;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.state.userCalling) {\n                this.refs.ring.addEventListener('ended', this.handleTimeout);\n            }\n        }\n    }, {\n        key: 'closeNotification',\n        value: function closeNotification() {\n            this.setState({\n                userCalling: null\n            });\n        }\n    }, {\n        key: 'stopRinging',\n        value: function stopRinging() {\n            if (this.refs.ring) {\n                this.refs.ring.pause();\n                this.refs.ring.currentTime = 0;\n            }\n            this.setState({ userCalling: null });\n        }\n    }, {\n        key: 'closeRightHandSide',\n        value: function closeRightHandSide(e) {\n            e.preventDefault();\n            GlobalActions.emitCloseRightHandSide();\n        }\n    }, {\n        key: 'onIncomingCall',\n        value: function onIncomingCall(incoming) {\n            if (this.mounted) {\n                var userId = incoming.from_user_id;\n                var userMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n                var featureEnabled = Utils.isFeatureEnabled(PreReleaseFeatures.WEBRTC_PREVIEW);\n\n                if (featureEnabled) {\n                    if (_webrtc_store2.default.isBusy()) {\n                        _web_websocket_client2.default.sendMessage('webrtc', {\n                            action: _constants.WebrtcActionTypes.BUSY,\n                            from_user_id: _user_store2.default.getCurrentId(),\n                            to_user_id: userId\n                        });\n                        this.stopRinging();\n                    } else if (userMedia) {\n                        _webrtc_store2.default.setVideoCallWith(userId);\n                        this.setState({\n                            userCalling: _user_store2.default.getProfile(userId)\n                        });\n                    } else {\n                        _web_websocket_client2.default.sendMessage('webrtc', {\n                            action: _constants.WebrtcActionTypes.UNSUPPORTED,\n                            from_user_id: _user_store2.default.getCurrentId(),\n                            to_user_id: userId\n                        });\n                        this.stopRinging();\n                    }\n                } else {\n                    _web_websocket_client2.default.sendMessage('webrtc', {\n                        action: _constants.WebrtcActionTypes.DISABLED,\n                        from_user_id: _user_store2.default.getCurrentId(),\n                        to_user_id: userId\n                    });\n                    this.stopRinging();\n                }\n            }\n        }\n    }, {\n        key: 'onCancelCall',\n        value: function onCancelCall(message) {\n            if (message && message.action !== _constants.WebrtcActionTypes.CANCEL) {\n                return;\n            } else if (message && message.action === _constants.WebrtcActionTypes.CANCEL && this.state.userCalling && message.from_user_id !== this.state.userCalling.id) {\n                return;\n            }\n\n            _webrtc_store2.default.setVideoCallWith(null);\n            this.closeNotification();\n        }\n    }, {\n        key: 'onRhs',\n        value: function onRhs(rhsOpened) {\n            this.setState({ rhsOpened: rhsOpened });\n        }\n    }, {\n        key: 'handleTimeout',\n        value: function handleTimeout() {\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.NO_ANSWER,\n                from_user_id: _user_store2.default.getCurrentId(),\n                to_user_id: this.state.userCalling.id\n            });\n\n            this.onCancelCall();\n        }\n    }, {\n        key: 'handleAnswer',\n        value: function handleAnswer(e) {\n            if (e) {\n                e.preventDefault();\n            }\n\n            var caller = this.state.userCalling;\n            if (caller) {\n                var callerId = caller.id;\n                var currentUserId = _user_store2.default.getCurrentId();\n                var message = {\n                    action: _constants.WebrtcActionTypes.ANSWER,\n                    from_user_id: currentUserId,\n                    to_user_id: callerId\n                };\n\n                GlobalActions.emitCloseRightHandSide();\n                WebrtcActions.initWebrtc(callerId, false);\n                _web_websocket_client2.default.sendMessage('webrtc', message);\n\n                // delay till next tick (this will give time to listen for events\n                setTimeout(function () {\n                    //we switch from and to user to handle the event locally\n                    message.from_user_id = callerId;\n                    message.to_user_id = currentUserId;\n                    WebrtcActions.handle(message);\n                }, 0);\n\n                this.closeNotification();\n            }\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose(e) {\n            if (e) {\n                e.preventDefault();\n            }\n            if (this.state.userCalling) {\n                _web_websocket_client2.default.sendMessage('webrtc', {\n                    action: _constants.WebrtcActionTypes.DECLINE,\n                    from_user_id: _user_store2.default.getCurrentId(),\n                    to_user_id: this.state.userCalling.id\n                });\n            }\n\n            this.onCancelCall();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var user = this.state.userCalling;\n            if (user) {\n                var username = Utils.displayUsername(user.id);\n                var profileImgSrc = _web_client2.default.getUsersRoute() + '/' + user.id + '/image?time=' + (user.last_picture_update || new Date().getTime());\n                var profileImg = _react2.default.createElement('img', {\n                    className: 'user-popover__image',\n                    src: profileImgSrc,\n                    height: '128',\n                    width: '128',\n                    key: 'user-popover-image'\n                });\n                var answerBtn = _react2.default.createElement(\n                    'svg',\n                    {\n                        className: 'webrtc-icons__pickup',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: this.handleAnswer\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.notification.answer',\n                                defaultMessage: 'Answer'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'translate(-10,-10)',\n                        fill: '#fff',\n                        d: 'M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    })\n                );\n\n                var rejectBtn = _react2.default.createElement(\n                    'svg',\n                    {\n                        className: 'webrtc-icons__cancel',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: this.handleClose\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.notification.decline',\n                                defaultMessage: 'Decline'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'scale(0.7), translate(11,10)',\n                        d: 'M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z',\n                        fill: 'white'\n                    })\n                );\n\n                var msg = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.notification.incoming_call',\n                        defaultMessage: '{username} is calling you.',\n                        values: {\n                            username: username\n                        }\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        {\n                            className: 'webrtc-buttons webrtc-icons active',\n                            style: { marginTop: '5px' }\n                        },\n                        answerBtn,\n                        rejectBtn\n                    )\n                );\n\n                return _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc-notification' },\n                    _react2.default.createElement('audio', {\n                        ref: 'ring',\n                        src: _ring2.default,\n                        autoPlay: true\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        null,\n                        profileImg\n                    ),\n                    msg\n                );\n            } else if (this.state.rhsOpened && _webrtc_store2.default.isBusy()) {\n                return _react2.default.createElement(\n                    'div',\n                    {\n                        className: 'webrtc__notification--rhs',\n                        onClick: this.closeRightHandSide\n                    },\n                    _react2.default.createElement('i', { className: 'fa fa-phone' }),\n                    _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.notification.returnToCall',\n                        defaultMessage: 'Return to ongoing call with {username}',\n                        values: {\n                            username: Utils.displayUsername(_webrtc_store2.default.getVideoCallWith())\n                        }\n                    })\n                );\n            }\n\n            return _react2.default.createElement('div', null);\n        }\n    }]);\n    return WebrtcNotification;\n}(_react2.default.Component);\n\nexports.default = WebrtcNotification;\n\n/***/ }),\n\n/***/ 2055:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _webrtc_controller = __webpack_require__(2056);\n\nvar _webrtc_controller2 = _interopRequireDefault(_webrtc_controller);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _webrtc_store = __webpack_require__(334);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar SidebarRight = function (_React$Component) {\n    (0, _inherits3.default)(SidebarRight, _React$Component);\n\n    function SidebarRight(props) {\n        (0, _classCallCheck3.default)(this, SidebarRight);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SidebarRight.__proto__ || (0, _getPrototypeOf2.default)(SidebarRight)).call(this, props));\n\n        _this.plScrolledToBottom = true;\n\n        _this.onShrink = _this.onShrink.bind(_this);\n        _this.toggleSize = _this.toggleSize.bind(_this);\n        _this.onInitializeVideoCall = _this.onInitializeVideoCall.bind(_this);\n\n        _this.doStrangeThings = _this.doStrangeThings.bind(_this);\n\n        _this.state = {\n            expanded: false,\n            currentUser: _user_store2.default.getCurrentUser(),\n            videoCallVisible: false,\n            isCaller: false,\n            videoCallWithUserId: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(SidebarRight, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _webrtc_store2.default.addInitListener(this.onInitializeVideoCall);\n            this.doStrangeThings();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _webrtc_store2.default.removeInitListener(this.onInitializeVideoCall);\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            return !Utils.areObjectsEqual(nextState, this.state);\n        }\n    }, {\n        key: 'doStrangeThings',\n        value: function doStrangeThings() {\n            // We should have a better way to do this stuff\n            // Hence the function name.\n            (0, _jquery2.default)('.app__body .inner-wrap').removeClass('move--right');\n            (0, _jquery2.default)('.app__body .inner-wrap').addClass('webrtc--show');\n            (0, _jquery2.default)('.app__body .sidebar--left').removeClass('move--right');\n            (0, _jquery2.default)('.multi-teams .team-sidebar').removeClass('move--right');\n            (0, _jquery2.default)('.app__body .webrtc').addClass('webrtc--show');\n\n            //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n            if (!this.state.videoCallVisible) {\n                (0, _jquery2.default)('.app__body .inner-wrap').removeClass('webrtc--show').removeClass('move--right');\n                (0, _jquery2.default)('.app__body .webrtc').removeClass('webrtc--show');\n                return _react2.default.createElement('div', null);\n            }\n            return null;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this.doStrangeThings();\n        }\n    }, {\n        key: 'onShrink',\n        value: function onShrink() {\n            this.setState({ expanded: false });\n        }\n    }, {\n        key: 'toggleSize',\n        value: function toggleSize(e) {\n            if (e) {\n                e.preventDefault();\n            }\n            this.setState({ expanded: !this.state.expanded });\n        }\n    }, {\n        key: 'onInitializeVideoCall',\n        value: function onInitializeVideoCall(userId, isCaller) {\n            var expanded = this.state.expanded;\n            if (userId === null) {\n                expanded = false;\n            }\n            this.setState({\n                videoCallVisible: userId !== null,\n                isCaller: isCaller,\n                videoCallWithUserId: userId,\n                expanded: expanded\n            });\n\n            if (userId !== null) {\n                this.forceUpdate();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var content = null;\n            var expandedClass = '';\n\n            if (this.state.expanded) {\n                expandedClass = 'sidebar--right--expanded';\n            }\n\n            if (this.state.videoCallVisible) {\n                content = _react2.default.createElement(_webrtc_controller2.default, {\n                    currentUser: this.state.currentUser,\n                    userId: this.state.videoCallWithUserId,\n                    isCaller: this.state.isCaller,\n                    expanded: this.state.expanded,\n                    toggleSize: this.toggleSize\n                });\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'sidebar--right webrtc ' + expandedClass,\n                    id: 'sidebar-webrtc'\n                },\n                _react2.default.createElement('div', {\n                    onClick: this.onShrink,\n                    className: 'sidebar--right__bg'\n                }),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar-right-container' },\n                    content\n                )\n            );\n        }\n    }]);\n    return SidebarRight;\n}(_react2.default.Component);\n\nexports.default = SidebarRight;\n\n/***/ }),\n\n/***/ 2056:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _webrtc_store = __webpack_require__(334);\n\nvar _webrtc_store2 = _interopRequireDefault(_webrtc_store);\n\nvar _web_client = __webpack_require__(28);\n\nvar _web_client2 = _interopRequireDefault(_web_client);\n\nvar _web_websocket_client = __webpack_require__(340);\n\nvar _web_websocket_client2 = _interopRequireDefault(_web_websocket_client);\n\nvar _janus = __webpack_require__(2212);\n\nvar _janus2 = _interopRequireDefault(_janus);\n\nvar _search_bar = __webpack_require__(576);\n\nvar _search_bar2 = _interopRequireDefault(_search_bar);\n\nvar _webrtc_header = __webpack_require__(2053);\n\nvar _webrtc_header2 = _interopRequireDefault(_webrtc_header);\n\nvar _loading_screen = __webpack_require__(164);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nvar _diagnostics_actions = __webpack_require__(165);\n\nvar _webrtc_actions = __webpack_require__(247);\n\nvar WebrtcActions = _interopRequireWildcard(_webrtc_actions);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _constants = __webpack_require__(8);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _ring = __webpack_require__(1778);\n\nvar _ring2 = _interopRequireDefault(_ring);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar VIDEO_WIDTH = 640;\nvar VIDEO_HEIGHT = 360;\nvar MIN_ASPECT = 1.777;\nvar MAX_ASPECT = 1.778;\nvar ALREADY_REGISTERED_ERROR = 477;\nvar USERNAME_TAKEN = 476;\n\nvar WebrtcController = function (_React$Component) {\n    (0, _inherits3.default)(WebrtcController, _React$Component);\n\n    function WebrtcController(props) {\n        (0, _classCallCheck3.default)(this, WebrtcController);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (WebrtcController.__proto__ || (0, _getPrototypeOf2.default)(WebrtcController)).call(this, props));\n\n        _this.mounted = false;\n        _this.localMedia = null;\n        _this.session = null;\n        _this.videocall = null;\n\n        _this.handleResize = _this.handleResize.bind(_this);\n        _this.handleClose = _this.handleClose.bind(_this);\n        _this.close = _this.close.bind(_this);\n        _this.clearError = _this.clearError.bind(_this);\n\n        _this.getLocalMedia = _this.getLocalMedia.bind(_this);\n        _this.stopMediaStream = _this.stopMediaStream.bind(_this);\n        _this.previewVideo = _this.previewVideo.bind(_this);\n        _this.stopRinging = _this.stopRinging.bind(_this);\n\n        _this.handleMakeOffer = _this.handleMakeOffer.bind(_this);\n        _this.handleCancelOffer = _this.handleCancelOffer.bind(_this);\n        _this.handleWebrtcEvent = _this.handleWebrtcEvent.bind(_this);\n        _this.handleVideoCallEvent = _this.handleVideoCallEvent.bind(_this);\n        _this.handleRemoteStream = _this.handleRemoteStream.bind(_this);\n\n        _this.onStatusChange = _this.onStatusChange.bind(_this);\n        _this.onCallDeclined = _this.onCallDeclined.bind(_this);\n        _this.onUnsupported = _this.onUnsupported.bind(_this);\n        _this.onNoAnswer = _this.onNoAnswer.bind(_this);\n        _this.onBusy = _this.onBusy.bind(_this);\n        _this.onDisabled = _this.onDisabled.bind(_this);\n        _this.onFailed = _this.onFailed.bind(_this);\n        _this.onCancelled = _this.onCancelled.bind(_this);\n        _this.onConnectCall = _this.onConnectCall.bind(_this);\n\n        _this.onSessionCreated = _this.onSessionCreated.bind(_this);\n        _this.onSessionError = _this.onSessionError.bind(_this);\n\n        _this.doCall = _this.doCall.bind(_this);\n        _this.doAnswer = _this.doAnswer.bind(_this);\n        _this.doHangup = _this.doHangup.bind(_this);\n        _this.doCleanup = _this.doCleanup.bind(_this);\n\n        _this.renderButtons = _this.renderButtons.bind(_this);\n        _this.onToggleVideo = _this.onToggleVideo.bind(_this);\n        _this.onToggleAudio = _this.onToggleAudio.bind(_this);\n        _this.onToggleRemoteMute = _this.onToggleRemoteMute.bind(_this);\n        _this.toggleIcons = _this.toggleIcons.bind(_this);\n\n        var currentUser = _user_store2.default.getCurrentUser();\n        var remoteUser = _user_store2.default.getProfile(props.userId);\n        var remoteUserImage = _web_client2.default.getUsersRoute() + '/' + remoteUser.id + '/image?time=' + remoteUser.last_picture_update;\n\n        _this.state = {\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight(),\n            channelId: _channel_store2.default.getCurrentId(),\n            currentUser: currentUser,\n            currentUserImage: _web_client2.default.getUsersRoute() + '/' + currentUser.id + '/image?time=' + currentUser.last_picture_update,\n            remoteUserImage: remoteUserImage,\n            localMediaLoaded: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error: null,\n            errorType: '',\n            ended: null\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(WebrtcController, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            window.addEventListener('resize', this.handleResize);\n            _webrtc_store2.default.addChangedListener(this.handleWebrtcEvent);\n            _user_store2.default.addStatusesChangeListener(this.onStatusChange);\n\n            this.mounted = true;\n            this.previewVideo();\n\n            if (this.props.isCaller) {\n                this.handleMakeOffer();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            window.removeEventListener('resize', this.handleResize);\n            _webrtc_store2.default.removeChangedListener(this.handleWebrtcEvent);\n            _user_store2.default.removeStatusesChangeListener(this.onStatusChange);\n            this.mounted = false;\n            this.close();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.currentUser !== this.props.currentUser || nextProps.userId !== this.props.userId || nextProps.isCaller !== this.props.isCaller) {\n                var remoteUser = _user_store2.default.getProfile(nextProps.userId);\n                var remoteUserImage = _web_client2.default.getUsersRoute() + '/' + remoteUser.id + '/image?time=' + remoteUser.last_picture_update;\n                this.setState({\n                    error: null,\n                    remoteUserImage: remoteUserImage\n                });\n            }\n\n            if (nextProps.isCaller && nextProps.expanded === this.props.expanded) {\n                this.startCall = true;\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.props.isCaller && this.startCall) {\n                this.startCall = false;\n                this.handleMakeOffer();\n            }\n        }\n    }, {\n        key: 'handleResize',\n        value: function handleResize() {\n            this.setState({\n                windowWidth: Utils.windowWidth(),\n                windowHeight: Utils.windowHeight()\n            });\n        }\n    }, {\n        key: 'clearError',\n        value: function clearError() {\n            var _this2 = this;\n\n            setTimeout(function () {\n                _this2.setState({ error: null, ended: null, errorType: '' });\n            }, _constants.Constants.WEBRTC_CLEAR_ERROR_DELAY);\n        }\n    }, {\n        key: 'getLocalMedia',\n        value: function getLocalMedia(constraints, element, callback) {\n            var media = constraints || { audio: true, video: true };\n            navigator.mediaDevices.getUserMedia(media).then(function (stream) {\n                if (element) {\n                    element.srcObject = stream;\n                }\n\n                if (callback && typeof callback === 'function') {\n                    callback(null, stream);\n                }\n            }).catch(function (error) {\n                callback(error);\n            });\n        }\n    }, {\n        key: 'stopMediaStream',\n        value: function stopMediaStream(stream) {\n            var tracks = stream.getTracks();\n            tracks.forEach(function (track) {\n                track.stop();\n            });\n        }\n    }, {\n        key: 'previewVideo',\n        value: function previewVideo() {\n            var _this3 = this;\n\n            if (this.mounted) {\n                if (this.localMedia) {\n                    this.setState({\n                        localMediaLoaded: true,\n                        error: null\n                    });\n                    this.localMedia.enabled = true;\n                } else {\n                    this.getLocalMedia({\n                        audio: true,\n                        video: {\n                            minAspectRatio: MIN_ASPECT,\n                            maxAspectRatio: MAX_ASPECT,\n                            width: VIDEO_WIDTH,\n                            height: VIDEO_HEIGHT\n                        }\n                    }, this.refs['local-video'], function (error, stream) {\n                        if (error) {\n                            _this3.setState({\n                                error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'webrtc.mediaError',\n                                    defaultMessage: 'Unable to access Camera and Microphone'\n                                })\n                            });\n                            return;\n                        }\n                        _this3.localMedia = stream;\n                        _this3.setState({\n                            localMediaLoaded: true\n                        });\n                    });\n                }\n            }\n        }\n    }, {\n        key: 'stopRinging',\n        value: function stopRinging() {\n            if (this.refs.ring) {\n                this.refs.ring.pause();\n                this.refs.ring.currentTime = 0;\n            }\n        }\n    }, {\n        key: 'handleMakeOffer',\n        value: function handleMakeOffer() {\n            if (_user_store2.default.getStatus(this.props.userId) === _constants.UserStatuses.OFFLINE) {\n                this.onStatusChange();\n            } else {\n                var connectingMsg = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'calling_screen',\n                    defaultMessage: 'Calling'\n                });\n\n                this.setState({\n                    isCalling: true,\n                    isAnswering: false,\n                    callInProgress: false,\n                    error: null,\n                    ended: null,\n                    connectingMsg: connectingMsg\n                });\n\n                _webrtc_store2.default.setVideoCallWith(this.props.userId);\n\n                var user = this.state.currentUser;\n                _web_websocket_client2.default.sendMessage('webrtc', {\n                    action: _constants.WebrtcActionTypes.NOTIFY,\n                    from_user_id: user.id,\n                    to_user_id: this.props.userId\n                });\n            }\n        }\n    }, {\n        key: 'handleCancelOffer',\n        value: function handleCancelOffer() {\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: null,\n                ended: null\n            });\n\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.CANCEL,\n                from_user_id: user.id,\n                to_user_id: this.props.userId\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'handleWebrtcEvent',\n        value: function handleWebrtcEvent(message) {\n            switch (message.action) {\n                case _constants.WebrtcActionTypes.DECLINE:\n                    this.onCallDeclined();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.UNSUPPORTED:\n                    this.onUnsupported();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.BUSY:\n                    this.onBusy();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.NO_ANSWER:\n                    this.onNoAnswer();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.FAILED:\n                    this.onFailed();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.ANSWER:\n                    this.onConnectCall();\n                    break;\n                case _constants.WebrtcActionTypes.CANCEL:\n                    this.onCancelled();\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.MUTED:\n                    this.onToggleRemoteMute(message);\n                    break;\n                case _constants.WebrtcActionTypes.IN_PROGRESS:\n                    this.setState({\n                        error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'webrtc.inProgress',\n                            defaultMessage: 'You have a call in progress. Please hang up first.'\n                        }),\n                        errorType: ' warning'\n                    });\n                    this.clearError();\n                    break;\n                case _constants.WebrtcActionTypes.DISABLED:\n                    this.onDisabled();\n                    this.clearError();\n                    break;\n            }\n        }\n    }, {\n        key: 'handleVideoCallEvent',\n        value: function handleVideoCallEvent(msg, jsep) {\n            var result = msg.result;\n\n            if (result) {\n                var event = result.event;\n                switch (event) {\n                    case 'registered':\n                        if (this.state.isCalling) {\n                            this.doCall();\n                        }\n                        break;\n                    case 'incomingcall':\n                        this.doAnswer(jsep);\n                        break;\n                    case 'accepted':\n                        this.stopRinging();\n\n                        if (jsep) {\n                            this.videocall.handleRemoteJsep({ jsep: jsep });\n                        }\n                        break;\n                    case 'hangup':\n                        this.doHangup(false);\n                        break;\n                }\n            } else {\n                var errorCode = msg.error_code;\n                if (errorCode !== ALREADY_REGISTERED_ERROR && errorCode !== USERNAME_TAKEN) {\n                    this.doHangup(true);\n                } else if (this.state.isCalling) {\n                    this.doCall();\n                }\n            }\n        }\n    }, {\n        key: 'handleRemoteStream',\n        value: function handleRemoteStream(stream) {\n            // attaching stream to where they belong\n            this.refs['main-video'].srcObject = stream;\n\n            var isRemotePaused = false;\n            var isRemoteMuted = false;\n            var videoTracks = stream.getVideoTracks();\n            var audioTracks = stream.getAudioTracks();\n            if (!videoTracks || videoTracks.length === 0 || videoTracks[0].muted || !videoTracks[0].enabled) {\n                isRemotePaused = true;\n            }\n\n            if (!audioTracks || audioTracks.length === 0 || audioTracks[0].muted || !audioTracks[0].enabled) {\n                isRemoteMuted = true;\n            }\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: true,\n                isMuted: false,\n                isPaused: false,\n                error: null,\n                ended: null,\n                isRemotePaused: isRemotePaused,\n                isRemoteMuted: isRemoteMuted\n            });\n            this.toggleIcons();\n        }\n    }, {\n        key: 'handleClose',\n        value: function handleClose(e) {\n            e.preventDefault();\n            if (this.state.callInProgress) {\n                this.setState({\n                    error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.inProgress',\n                        defaultMessage: 'You have a call in progress. Please hang up first.'\n                    }),\n                    errorType: ' warning'\n                });\n            } else if (this.state.isCalling) {\n                this.handleCancelOffer();\n                this.close();\n            } else {\n                this.close();\n            }\n        }\n    }, {\n        key: 'close',\n        value: function close() {\n            this.doCleanup();\n\n            if (this.session) {\n                this.session.destroy();\n                this.session = null;\n            }\n\n            if (this.localMedia) {\n                this.stopMediaStream(this.localMedia);\n                this.localMedia = null;\n            }\n\n            WebrtcActions.initWebrtc(null, false);\n        }\n    }, {\n        key: 'onStatusChange',\n        value: function onStatusChange() {\n            var status = _user_store2.default.getStatus(this.props.userId);\n\n            if (status === _constants.UserStatuses.OFFLINE) {\n                var error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.offline',\n                    defaultMessage: '{username} is offline',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n\n                if (this.state.isCalling || this.state.isAnswering) {\n                    this.setState({\n                        isCalling: false,\n                        isAnswering: false,\n                        callInProgress: false,\n                        error: error\n                    });\n                } else {\n                    this.setState({\n                        error: error\n                    });\n                }\n            } else if (status !== _constants.UserStatuses.OFFLINE && this.state.error) {\n                this.setState({\n                    error: null,\n                    ended: null\n                });\n            }\n        }\n    }, {\n        key: 'onCallDeclined',\n        value: function onCallDeclined() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.declined',\n                    defaultMessage: 'Your call has been declined by {username}',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onUnsupported',\n        value: function onUnsupported() {\n            if (this.mounted) {\n                this.stopRinging();\n\n                this.setState({\n                    error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.unsupported',\n                        defaultMessage: 'Call to {username} not successful. Their client does not support video calls.',\n                        values: {\n                            username: Utils.displayUsername(this.props.userId)\n                        }\n                    }),\n                    callInProgress: false,\n                    isCalling: false,\n                    isAnswering: false\n                });\n            }\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onNoAnswer',\n        value: function onNoAnswer() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.noAnswer',\n                    defaultMessage: '{username} is not answering the call',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onBusy',\n        value: function onBusy() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.busy',\n                    defaultMessage: '{username} is busy',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onDisabled',\n        value: function onDisabled() {\n            var error = null;\n\n            if (this.state.isCalling) {\n                error = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.disabled',\n                    defaultMessage: '{username} has WebRTC disabled, and cannot receive calls. To enable the feature, they must go to Account Settings > Advanced > Preview pre-release features and turn on WebRTC.',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                });\n            }\n\n            this.stopRinging();\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: error\n            });\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onFailed',\n        value: function onFailed() {\n            (0, _diagnostics_actions.trackEvent)('api', 'api_users_webrtc_failed');\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                isPaused: false,\n                isMuted: false,\n                isRemotePaused: false,\n                isRemoteMuted: false,\n                error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.failed',\n                    defaultMessage: 'There was a problem connecting the video call'\n                })\n            });\n\n            this.stopRinging();\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onCancelled',\n        value: function onCancelled() {\n            if (this.mounted && this.state.isAnswering) {\n                this.stopRinging();\n                this.setState({\n                    isCalling: false,\n                    isAnswering: false,\n                    callInProgress: false,\n                    error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.cancelled',\n                        defaultMessage: '{username} cancelled the call',\n                        values: {\n                            username: Utils.displayUsername(this.props.userId)\n                        }\n                    })\n                });\n            }\n\n            this.doCleanup();\n        }\n    }, {\n        key: 'onConnectCall',\n        value: function onConnectCall() {\n            var _this4 = this;\n\n            WebrtcActions.webrtcToken(function (info) {\n                var connectingMsg = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'connecting_screen',\n                    defaultMessage: 'Connecting'\n                });\n\n                _this4.setState({ isAnswering: !_this4.state.isCalling, connectingMsg: connectingMsg });\n                if (_this4.session) {\n                    _this4.onSessionCreated();\n                } else {\n                    var iceServers = [];\n\n                    if (info.stun_uri) {\n                        iceServers.push({\n                            urls: [info.stun_uri]\n                        });\n                    }\n\n                    if (info.turn_uri) {\n                        iceServers.push({\n                            urls: [info.turn_uri],\n                            username: info.turn_username,\n                            credential: info.turn_password\n                        });\n                    }\n\n                    _janus2.default.init({ debug: global.mm_config.EnableDeveloper === 'true' });\n                    _this4.session = new _janus2.default({\n                        server: info.gateway_url,\n                        iceServers: iceServers,\n                        token: info.token,\n                        success: _this4.onSessionCreated,\n                        error: _this4.onSessionError\n                    });\n                }\n            }, function () {\n                _this4.onSessionError();\n            });\n        }\n    }, {\n        key: 'onSessionCreated',\n        value: function onSessionCreated() {\n            var _this5 = this;\n\n            if (this.videocall) {\n                this.doCall();\n            } else {\n                this.session.attach({\n                    plugin: 'janus.plugin.videocall',\n                    success: function success(plugin) {\n                        _this5.videocall = plugin;\n                        _this5.videocall.send({ message: { request: 'register', username: _this5.state.currentUser.id } });\n                    },\n                    error: this.onSessionError,\n                    onmessage: this.handleVideoCallEvent,\n                    onremotestream: this.handleRemoteStream\n                });\n            }\n        }\n    }, {\n        key: 'onSessionError',\n        value: function onSessionError() {\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.FAILED,\n                from_user_id: user.id,\n                to_user_id: this.props.userId\n            });\n\n            this.onFailed();\n        }\n    }, {\n        key: 'doCall',\n        value: function doCall() {\n            var _this6 = this;\n\n            // delay call so receiver has time to register\n            setTimeout(function () {\n                _this6.videocall.createOffer({\n                    stream: _this6.localMedia,\n                    success: function success(jsep) {\n                        var body = { request: 'call', username: _this6.props.userId };\n                        _this6.videocall.send({ message: body, jsep: jsep });\n                    },\n                    error: function error() {\n                        _this6.doHangup(true);\n                    }\n                });\n            }, _constants.Constants.WEBRTC_TIME_DELAY);\n        }\n    }, {\n        key: 'doAnswer',\n        value: function doAnswer(jsep) {\n            var _this7 = this;\n\n            (0, _diagnostics_actions.trackEvent)('api', 'api_users_webrtc_start');\n            this.videocall.createAnswer({\n                jsep: jsep,\n                stream: this.localMedia,\n                success: function success(jsepSuccess) {\n                    var body = { request: 'accept' };\n                    _this7.videocall.send({ message: body, jsep: jsepSuccess });\n                },\n                error: function error() {\n                    _this7.doHangup(true);\n                }\n            });\n        }\n    }, {\n        key: 'doHangup',\n        value: function doHangup(error, manual) {\n            (0, _diagnostics_actions.trackEvent)('api', 'api_users_webrtc_end');\n            if (this.videocall && this.state.callInProgress) {\n                this.videocall.send({ message: { request: 'hangup' } });\n                this.videocall.hangup();\n                this.toggleIcons();\n\n                if (this.localMedia) {\n                    this.localMedia.getVideoTracks()[0].enabled = true;\n                    this.localMedia.getAudioTracks()[0].enabled = true;\n                }\n            }\n\n            if (error) {\n                this.onSessionError();\n                return this.doCleanup();\n            }\n\n            _webrtc_store2.default.setVideoCallWith(null);\n            _webrtc_store2.default.emitRhsChanged(false);\n\n            if (manual) {\n                return this.close();\n            }\n\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                isPaused: false,\n                isMuted: false,\n                isRemotePaused: false,\n                isRemoteMuted: false,\n                error: null,\n                ended: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.callEnded',\n                    defaultMessage: 'Call with {username} ended.',\n                    values: {\n                        username: Utils.displayUsername(this.props.userId)\n                    }\n                })\n            });\n            this.clearError();\n            return this.doCleanup();\n        }\n    }, {\n        key: 'doCleanup',\n        value: function doCleanup() {\n            _webrtc_store2.default.setVideoCallWith(null);\n\n            if (this.videocall) {\n                this.videocall.detach();\n                this.videocall = null;\n            }\n        }\n    }, {\n        key: 'onToggleVideo',\n        value: function onToggleVideo() {\n            var shouldPause = !this.state.isPaused;\n            if (shouldPause) {\n                this.videocall.unmuteVideo();\n            } else {\n                this.videocall.muteVideo();\n            }\n\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.MUTED,\n                from_user_id: user.id,\n                to_user_id: this.props.userId,\n                type: 'video',\n                mute: shouldPause\n            });\n\n            this.setState({\n                isPaused: shouldPause,\n                error: null,\n                ended: null\n            });\n        }\n    }, {\n        key: 'onToggleAudio',\n        value: function onToggleAudio() {\n            var shouldMute = !this.state.isMuted;\n            if (shouldMute) {\n                this.videocall.unmuteAudio();\n            } else {\n                this.videocall.muteAudio();\n            }\n\n            var user = this.state.currentUser;\n            _web_websocket_client2.default.sendMessage('webrtc', {\n                action: _constants.WebrtcActionTypes.MUTED,\n                from_user_id: user.id,\n                to_user_id: this.props.userId,\n                type: 'audio',\n                mute: shouldMute\n            });\n\n            this.setState({\n                isMuted: shouldMute,\n                error: null,\n                ended: null\n            });\n        }\n    }, {\n        key: 'onToggleRemoteMute',\n        value: function onToggleRemoteMute(message) {\n            if (message.type === 'video') {\n                this.setState({\n                    isRemotePaused: message.mute\n                });\n            } else {\n                this.setState({ isRemoteMuted: message.mute, error: null, ended: null });\n            }\n        }\n    }, {\n        key: 'toggleIcons',\n        value: function toggleIcons() {\n            var icons = this.refs.icons;\n            if (icons) {\n                icons.classList.toggle('hidden');\n                icons.classList.toggle('active');\n            }\n        }\n    }, {\n        key: 'renderButtons',\n        value: function renderButtons() {\n            var _this8 = this;\n\n            var buttons = void 0;\n            if (this.state.isCalling) {\n                buttons = _react2.default.createElement(\n                    'svg',\n                    {\n                        id: 'cancel',\n                        className: 'webrtc-icons__cancel',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: function onClick() {\n                            return _this8.handleCancelOffer();\n                        }\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.cancel',\n                                defaultMessage: 'Cancel Call'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'scale(0.8), translate(6,10)',\n                        d: 'M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z',\n                        fill: 'white'\n                    })\n                );\n            } else if (!this.state.callInProgress && this.state.localMediaLoaded) {\n                buttons = _react2.default.createElement(\n                    'svg',\n                    {\n                        id: 'call',\n                        className: 'webrtc-icons__call',\n                        xmlns: 'http://www.w3.org/2000/svg',\n                        width: '48',\n                        height: '48',\n                        viewBox: '-10 -10 68 68',\n                        onClick: function onClick() {\n                            return _this8.handleMakeOffer();\n                        },\n                        disabled: _user_store2.default.getStatus(this.props.userId) === 'offline'\n                    },\n                    _react2.default.createElement(\n                        'circle',\n                        {\n                            cx: '24',\n                            cy: '24',\n                            r: '34'\n                        },\n                        _react2.default.createElement(\n                            'title',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'webrtc.call',\n                                defaultMessage: 'Call'\n                            })\n                        )\n                    ),\n                    _react2.default.createElement('path', {\n                        transform: 'translate(-10,-10)',\n                        fill: '#fff',\n                        d: 'M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    })\n                );\n            } else if (this.state.callInProgress) {\n                var onClass = 'on';\n                var offClass = 'off';\n                var audioOnClass = offClass;\n                var audioOffClass = onClass;\n                var videoOnClass = offClass;\n                var videoOffClass = onClass;\n\n                var audioTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.mute_audio',\n                    defaultMessage: 'Mute'\n                });\n\n                var videoTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'webrtc.pause_video',\n                    defaultMessage: 'Turn off Video'\n                });\n\n                if (this.state.isMuted) {\n                    audioOnClass = onClass;\n                    audioOffClass = offClass;\n                    audioTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.unmute_audio',\n                        defaultMessage: 'Unmute'\n                    });\n                }\n\n                if (this.state.isPaused) {\n                    videoOnClass = onClass;\n                    videoOffClass = offClass;\n                    videoTitle = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'webrtc.unpause_video',\n                        defaultMessage: 'Turn on Video'\n                    });\n                }\n\n                buttons = _react2.default.createElement(\n                    'div',\n                    {\n                        ref: 'icons',\n                        className: 'webrtc-icons hidden'\n                    },\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            id: 'mute-audio',\n                            className: 'webrtc-icons__call',\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '48',\n                            height: '48',\n                            viewBox: '-10 -10 68 68',\n                            onClick: function onClick() {\n                                return _this8.onToggleAudio();\n                            }\n                        },\n                        _react2.default.createElement(\n                            'circle',\n                            {\n                                cx: '24',\n                                cy: '24',\n                                r: '34'\n                            },\n                            _react2.default.createElement(\n                                'title',\n                                null,\n                                audioTitle\n                            )\n                        ),\n                        _react2.default.createElement('path', {\n                            className: audioOnClass,\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z',\n                            fill: 'white'\n                        }),\n                        _react2.default.createElement('path', {\n                            className: audioOffClass,\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z',\n                            fill: 'white'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            id: 'mute-video',\n                            className: 'webrtc-icons__call',\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '48',\n                            height: '48',\n                            viewBox: '-10 -10 68 68',\n                            onClick: function onClick() {\n                                return _this8.onToggleVideo();\n                            }\n                        },\n                        _react2.default.createElement(\n                            'circle',\n                            {\n                                cx: '24',\n                                cy: '24',\n                                r: '34'\n                            },\n                            _react2.default.createElement(\n                                'title',\n                                null,\n                                videoTitle\n                            )\n                        ),\n                        _react2.default.createElement('path', {\n                            className: videoOnClass,\n                            transform: 'scale(0.6), translate(17,16)',\n                            d: 'M40 8H15.64l8 8H28v4.36l1.13 1.13L36 16v12.36l7.97 7.97L44 36V12c0-2.21-1.79-4-4-4zM4.55 2L2 4.55l4.01 4.01C4.81 9.24 4 10.52 4 12v24c0 2.21 1.79 4 4 4h29.45l4 4L44 41.46 4.55 2zM12 16h1.45L28 30.55V32H12V16z',\n                            fill: 'white'\n                        }),\n                        _react2.default.createElement('path', {\n                            className: videoOffClass,\n                            transform: 'scale(0.6), translate(17,16)',\n                            d: 'M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm-4 24l-8-6.4V32H12V16h16v6.4l8-6.4v16z',\n                            fill: 'white'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            id: 'hangup',\n                            className: 'webrtc-icons__cancel',\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '48',\n                            height: '48',\n                            viewBox: '-10 -10 68 68',\n                            onClick: function onClick() {\n                                return _this8.doHangup(false, true);\n                            }\n                        },\n                        _react2.default.createElement(\n                            'circle',\n                            {\n                                cx: '24',\n                                cy: '24',\n                                r: '34'\n                            },\n                            _react2.default.createElement(\n                                'title',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'webrtc.hangup',\n                                    defaultMessage: 'Hang up'\n                                })\n                            )\n                        ),\n                        _react2.default.createElement('path', {\n                            transform: 'scale(0.7), translate(11,10)',\n                            d: 'M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z',\n                            fill: 'white'\n                        })\n                    )\n                );\n            }\n\n            return buttons;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var currentId = _user_store2.default.getCurrentId();\n            var remoteImage = _react2.default.createElement('img', { src: this.state.remoteUserImage });\n            var localImage = void 0;\n            var localVideoHidden = '';\n            var remoteVideoHidden = 'hidden';\n            var error = void 0;\n            var remoteMute = void 0;\n            var localImageHidden = 'webrtc__local-image hidden';\n            var remoteImageHidden = 'webrtc__remote-image';\n\n            if (this.state.error) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc__error' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'form-group has-error' },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' + this.state.errorType },\n                            this.state.error\n                        )\n                    )\n                );\n            } else if (this.state.ended) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc__error' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'form-group' },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'control-label' },\n                            this.state.ended\n                        )\n                    )\n                );\n            }\n\n            if (this.state.isRemoteMuted) {\n                remoteMute = _react2.default.createElement(\n                    'div',\n                    { className: 'webrtc__remote-mute' },\n                    _react2.default.createElement(\n                        'svg',\n                        {\n                            xmlns: 'http://www.w3.org/2000/svg',\n                            width: '60',\n                            height: '60',\n                            viewBox: '-10 -10 68 68'\n                        },\n                        _react2.default.createElement('path', {\n                            className: 'off',\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z',\n                            fill: 'white'\n                        }),\n                        _react2.default.createElement('path', {\n                            className: 'on',\n                            transform: 'scale(0.6), translate(17,18)',\n                            d: 'M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z',\n                            fill: 'white'\n                        })\n                    )\n                );\n            }\n\n            var searchForm = void 0;\n            if (currentId != null) {\n                searchForm = _react2.default.createElement(_search_bar2.default, null);\n            }\n\n            var buttons = this.renderButtons();\n            var calling = this.state.isCalling;\n            var connecting = void 0;\n            var audio = void 0;\n            if (calling || this.state.isAnswering) {\n                if (calling) {\n                    audio = _react2.default.createElement('audio', {\n                        ref: 'ring',\n                        src: _ring2.default,\n                        autoPlay: true\n                    });\n                }\n\n                connecting = _react2.default.createElement(\n                    'div',\n                    { className: 'connecting' },\n                    _react2.default.createElement(_loading_screen2.default, {\n                        position: 'absolute',\n                        message: this.state.connectingMsg\n                    }),\n                    audio\n                );\n            }\n\n            if (this.state.callInProgress) {\n                if (this.state.isPaused) {\n                    localVideoHidden = 'hidden';\n                    localImageHidden = 'webrtc__local-image';\n                    localImage = _react2.default.createElement('img', { src: this.state.currentUserImage });\n                }\n\n                if (this.state.isRemotePaused) {\n                    remoteVideoHidden = 'hidden';\n                    remoteImageHidden = 'webrtc__remote-image';\n                } else {\n                    remoteVideoHidden = '';\n                    remoteImageHidden = 'webrtc__remote-image hidden';\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'post-right__container' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'search-bar__container sidebar--right__search-header' },\n                    searchForm\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'sidebar-right__body' },\n                    _react2.default.createElement(_webrtc_header2.default, {\n                        username: Utils.displayUsername(this.props.userId),\n                        onClose: this.handleClose,\n                        toggleSize: this.props.toggleSize\n                    }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'post-right__scroll' },\n                        _react2.default.createElement(\n                            'div',\n                            { id: 'videos' },\n                            remoteMute,\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    id: 'main-video',\n                                    className: remoteVideoHidden,\n                                    autoPlay: true\n                                },\n                                _react2.default.createElement('video', {\n                                    ref: 'main-video',\n                                    autoPlay: true\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                {\n                                    id: 'local-video',\n                                    className: localVideoHidden\n                                },\n                                _react2.default.createElement('video', {\n                                    ref: 'local-video',\n                                    autoPlay: true,\n                                    muted: true\n                                })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: remoteImageHidden },\n                                remoteImage\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: localImageHidden },\n                                localImage\n                            )\n                        ),\n                        error,\n                        connecting,\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'webrtc-buttons' },\n                            buttons\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return WebrtcController;\n}(_react2.default.Component);\n\nexports.default = WebrtcController;\n\n\nWebrtcController.propTypes = {\n    currentUser: _react2.default.PropTypes.object,\n    userId: _react2.default.PropTypes.string.isRequired,\n    isCaller: _react2.default.PropTypes.bool.isRequired,\n    expanded: _react2.default.PropTypes.bool.isRequired,\n    toggleSize: _react2.default.PropTypes.func\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ }),\n\n/***/ 2068:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/* The following list is defined in React's core */\nvar IS_UNITLESS = {\n  animationIterationCount: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridColumn: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n\n  // SVG-related properties\n  fillOpacity: true,\n  stopOpacity: true,\n  strokeDashoffset: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nmodule.exports = function(name, value) {\n  if(typeof value === 'number' && !IS_UNITLESS[ name ]) {\n    return value + 'px';\n  } else {\n    return value;\n  }\n};\n\n\n/***/ }),\n\n/***/ 2163:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*! iNoBounce - v0.1.0\n* https://github.com/lazd/iNoBounce/\n* Copyright (c) 2013 Larry Davis <lazdnet@gmail.com>; Licensed BSD */\n(function(global) {\n\t// Stores the Y position where the touch started\n\tvar startY = 0;\n\n\t// Store enabled status\n\tvar enabled = false;\n\n\tvar handleTouchmove = function(evt) {\n\t\t// Get the element that was scrolled upon\n\t\tvar el = evt.target;\n\n\t\t// Check all parent elements for scrollability\n\t\twhile (el !== document.body) {\n\t\t\t// Get some style properties\n\t\t\tvar style = window.getComputedStyle(el);\n\n\t\t\tif (!style) {\n\t\t\t\t// If we've encountered an element we can't compute the style for, get out\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Ignore range input element\n\t\t\tif (el.nodeName === 'INPUT' && el.getAttribute('type') === 'range') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar scrolling = style.getPropertyValue('-webkit-overflow-scrolling');\n\t\t\tvar overflowY = style.getPropertyValue('overflow-y');\n\t\t\tvar height = parseInt(style.getPropertyValue('height'), 10);\n\n\t\t\t// Determine if the element should scroll\n\t\t\tvar isScrollable = scrolling === 'touch' && (overflowY === 'auto' || overflowY === 'scroll');\n\t\t\tvar canScroll = el.scrollHeight > el.offsetHeight;\n\n\t\t\tif (isScrollable && canScroll) {\n\t\t\t\t// Get the current Y position of the touch\n\t\t\t\tvar curY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\n\t\t\t\t// Determine if the user is trying to scroll past the top or bottom\n\t\t\t\t// In this case, the window will bounce, so we have to prevent scrolling completely\n\t\t\t\tvar isAtTop = (startY <= curY && el.scrollTop === 0);\n\t\t\t\tvar isAtBottom = (startY >= curY && el.scrollHeight - el.scrollTop === height);\n\n\t\t\t\t// Stop a bounce bug when at the bottom or top of the scrollable element\n\t\t\t\tif (isAtTop || isAtBottom) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t// No need to continue up the DOM, we've done our job\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Test the next parent\n\t\t\tel = el.parentNode;\n\t\t}\n\n\t\t// Stop the bouncing -- no parents are scrollable\n\t\tevt.preventDefault();\n\t};\n\n\tvar handleTouchstart = function(evt) {\n\t\t// Store the first Y position of the touch\n\t\tstartY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\t};\n\n\tvar enable = function() {\n\t\t// Listen to a couple key touch events\n\t\twindow.addEventListener('touchstart', handleTouchstart, false);\n\t\twindow.addEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = true;\n\t};\n\n\tvar disable = function() {\n\t\t// Stop listening\n\t\twindow.removeEventListener('touchstart', handleTouchstart, false);\n\t\twindow.removeEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = false;\n\t};\n\n\tvar isEnabled = function() {\n\t\treturn enabled;\n\t};\n\n\t// Enable by default if the browser supports -webkit-overflow-scrolling\n\t// Test this by setting the property with JavaScript on an element that exists in the DOM\n\t// Then, see if the property is reflected in the computed style\n\tvar testDiv = document.createElement('div');\n\tdocument.documentElement.appendChild(testDiv);\n\ttestDiv.style.WebkitOverflowScrolling = 'touch';\n\tvar scrollSupport = 'getComputedStyle' in window && window.getComputedStyle(testDiv)['-webkit-overflow-scrolling'] === 'touch';\n\tdocument.documentElement.removeChild(testDiv);\n\n\tif (scrollSupport) {\n\t\tenable();\n\t}\n\n\t// A module to support enabling/disabling iNoBounce\n\tvar iNoBounce = {\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tisEnabled: isEnabled\n\t};\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\t// Node.js Support\n\t\tmodule.exports = iNoBounce;\n\t}\n\tif (typeof global.define === 'function') {\n\t\t// AMD Support\n\t\t(function(define) {\n\t\t\tdefine('iNoBounce', [], function() { return iNoBounce; });\n\t\t}(global.define));\n\t}\n\telse {\n\t\t// Browser support\n\t\tglobal.iNoBounce = iNoBounce;\n\t}\n}(this));\n\n\n\n/***/ }),\n\n/***/ 2169:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(185)))\n\n/***/ }),\n\n/***/ 2170:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\nvar div = null\nvar prefixes = [ 'Webkit', 'Moz', 'O', 'ms' ]\n\nmodule.exports = function prefixStyle (prop) {\n  // re-use a dummy div\n  if (!div) {\n    div = document.createElement('div')\n  }\n\n  var style = div.style\n\n  // prop exists without prefix\n  if (prop in style) {\n    return prop\n  }\n\n  // borderRadius -> BorderRadius\n  var titleCase = prop.charAt(0).toUpperCase() + prop.slice(1)\n\n  // find the vendor-prefixed prop\n  for (var i = prefixes.length; i >= 0; i--) {\n    var name = prefixes[i] + titleCase\n    // e.g. WebkitBorderRadius or webkitBorderRadius\n    if (name in style) {\n      return name\n    }\n  }\n\n  return false\n}\n\n\n\n/***/ }),\n\n/***/ 2174:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\nvar now = __webpack_require__(2169)\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ }),\n\n/***/ 2175:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.renderViewDefault = renderViewDefault;\nexports.renderTrackHorizontalDefault = renderTrackHorizontalDefault;\nexports.renderTrackVerticalDefault = renderTrackVerticalDefault;\nexports.renderThumbHorizontalDefault = renderThumbHorizontalDefault;\nexports.renderThumbVerticalDefault = renderThumbVerticalDefault;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n/* eslint-disable react/prop-types */\n\nfunction renderViewDefault(props) {\n    return _react2[\"default\"].createElement('div', props);\n}\n\nfunction renderTrackHorizontalDefault(_ref) {\n    var style = _ref.style,\n        props = _objectWithoutProperties(_ref, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        left: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderTrackVerticalDefault(_ref2) {\n    var style = _ref2.style,\n        props = _objectWithoutProperties(_ref2, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        top: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbHorizontalDefault(_ref3) {\n    var style = _ref3.style,\n        props = _objectWithoutProperties(_ref3, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbVerticalDefault(_ref4) {\n    var style = _ref4.style,\n        props = _objectWithoutProperties(_ref4, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\n\n/***/ }),\n\n/***/ 2176:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _raf2 = __webpack_require__(2174);\n\nvar _raf3 = _interopRequireDefault(_raf2);\n\nvar _domCss = __webpack_require__(1795);\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nvar _react = __webpack_require__(1);\n\nvar _isString = __webpack_require__(2182);\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _getScrollbarWidth = __webpack_require__(2181);\n\nvar _getScrollbarWidth2 = _interopRequireDefault(_getScrollbarWidth);\n\nvar _returnFalse = __webpack_require__(2183);\n\nvar _returnFalse2 = _interopRequireDefault(_returnFalse);\n\nvar _getInnerWidth = __webpack_require__(2180);\n\nvar _getInnerWidth2 = _interopRequireDefault(_getInnerWidth);\n\nvar _getInnerHeight = __webpack_require__(2179);\n\nvar _getInnerHeight2 = _interopRequireDefault(_getInnerHeight);\n\nvar _styles = __webpack_require__(2177);\n\nvar _defaultRenderElements = __webpack_require__(2175);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nexports[\"default\"] = (0, _react.createClass)({\n\n    displayName: 'Scrollbars',\n\n    propTypes: {\n        onScroll: _react.PropTypes.func,\n        onScrollFrame: _react.PropTypes.func,\n        onScrollStart: _react.PropTypes.func,\n        onScrollStop: _react.PropTypes.func,\n        onUpdate: _react.PropTypes.func,\n        renderView: _react.PropTypes.func,\n        renderTrackHorizontal: _react.PropTypes.func,\n        renderTrackVertical: _react.PropTypes.func,\n        renderThumbHorizontal: _react.PropTypes.func,\n        renderThumbVertical: _react.PropTypes.func,\n        tagName: _react.PropTypes.string,\n        thumbSize: _react.PropTypes.number,\n        thumbMinSize: _react.PropTypes.number,\n        hideTracksWhenNotNeeded: _react.PropTypes.bool,\n        autoHide: _react.PropTypes.bool,\n        autoHideTimeout: _react.PropTypes.number,\n        autoHideDuration: _react.PropTypes.number,\n        autoHeight: _react.PropTypes.bool,\n        autoHeightMin: _react.PropTypes.oneOfType([_react.PropTypes.number, _react.PropTypes.string]),\n        autoHeightMax: _react.PropTypes.oneOfType([_react.PropTypes.number, _react.PropTypes.string]),\n        universal: _react.PropTypes.bool,\n        style: _react.PropTypes.object,\n        children: _react.PropTypes.node\n    },\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            renderView: _defaultRenderElements.renderViewDefault,\n            renderTrackHorizontal: _defaultRenderElements.renderTrackHorizontalDefault,\n            renderTrackVertical: _defaultRenderElements.renderTrackVerticalDefault,\n            renderThumbHorizontal: _defaultRenderElements.renderThumbHorizontalDefault,\n            renderThumbVertical: _defaultRenderElements.renderThumbVerticalDefault,\n            tagName: 'div',\n            thumbMinSize: 30,\n            hideTracksWhenNotNeeded: false,\n            autoHide: false,\n            autoHideTimeout: 1000,\n            autoHideDuration: 200,\n            autoHeight: false,\n            autoHeightMin: 0,\n            autoHeightMax: 200,\n            universal: false\n        };\n    },\n    getInitialState: function getInitialState() {\n        return {\n            didMountUniversal: false\n        };\n    },\n    componentDidMount: function componentDidMount() {\n        this.addListeners();\n        this.update();\n        this.componentDidMountUniversal();\n    },\n    componentDidMountUniversal: function componentDidMountUniversal() {\n        // eslint-disable-line react/sort-comp\n        var universal = this.props.universal;\n\n        if (!universal) return;\n        this.setState({ didMountUniversal: true });\n    },\n    componentDidUpdate: function componentDidUpdate() {\n        this.update();\n    },\n    componentWillUnmount: function componentWillUnmount() {\n        this.removeListeners();\n        (0, _raf2.cancel)(this.requestFrame);\n        clearTimeout(this.hideTracksTimeout);\n        clearInterval(this.detectScrollingInterval);\n    },\n    getScrollLeft: function getScrollLeft() {\n        var view = this.refs.view;\n\n        return view.scrollLeft;\n    },\n    getScrollTop: function getScrollTop() {\n        var view = this.refs.view;\n\n        return view.scrollTop;\n    },\n    getScrollWidth: function getScrollWidth() {\n        var view = this.refs.view;\n\n        return view.scrollWidth;\n    },\n    getScrollHeight: function getScrollHeight() {\n        var view = this.refs.view;\n\n        return view.scrollHeight;\n    },\n    getClientWidth: function getClientWidth() {\n        var view = this.refs.view;\n\n        return view.clientWidth;\n    },\n    getClientHeight: function getClientHeight() {\n        var view = this.refs.view;\n\n        return view.clientHeight;\n    },\n    getValues: function getValues() {\n        var view = this.refs.view;\n        var scrollLeft = view.scrollLeft,\n            scrollTop = view.scrollTop,\n            scrollWidth = view.scrollWidth,\n            scrollHeight = view.scrollHeight,\n            clientWidth = view.clientWidth,\n            clientHeight = view.clientHeight;\n\n\n        return {\n            left: scrollLeft / (scrollWidth - clientWidth) || 0,\n            top: scrollTop / (scrollHeight - clientHeight) || 0,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop,\n            scrollWidth: scrollWidth,\n            scrollHeight: scrollHeight,\n            clientWidth: clientWidth,\n            clientHeight: clientHeight\n        };\n    },\n    getThumbHorizontalWidth: function getThumbHorizontalWidth() {\n        var _props = this.props,\n            thumbSize = _props.thumbSize,\n            thumbMinSize = _props.thumbMinSize;\n        var _refs = this.refs,\n            view = _refs.view,\n            trackHorizontal = _refs.trackHorizontal;\n        var scrollWidth = view.scrollWidth,\n            clientWidth = view.clientWidth;\n\n        var trackWidth = (0, _getInnerWidth2[\"default\"])(trackHorizontal);\n        var width = Math.ceil(clientWidth / scrollWidth * trackWidth);\n        if (trackWidth === width) return 0;\n        if (thumbSize) return thumbSize;\n        return Math.max(width, thumbMinSize);\n    },\n    getThumbVerticalHeight: function getThumbVerticalHeight() {\n        var _props2 = this.props,\n            thumbSize = _props2.thumbSize,\n            thumbMinSize = _props2.thumbMinSize;\n        var _refs2 = this.refs,\n            view = _refs2.view,\n            trackVertical = _refs2.trackVertical;\n        var scrollHeight = view.scrollHeight,\n            clientHeight = view.clientHeight;\n\n        var trackHeight = (0, _getInnerHeight2[\"default\"])(trackVertical);\n        var height = Math.ceil(clientHeight / scrollHeight * trackHeight);\n        if (trackHeight === height) return 0;\n        if (thumbSize) return thumbSize;\n        return Math.max(height, thumbMinSize);\n    },\n    getScrollLeftForOffset: function getScrollLeftForOffset(offset) {\n        var _refs3 = this.refs,\n            view = _refs3.view,\n            trackHorizontal = _refs3.trackHorizontal;\n        var scrollWidth = view.scrollWidth,\n            clientWidth = view.clientWidth;\n\n        var trackWidth = (0, _getInnerWidth2[\"default\"])(trackHorizontal);\n        var thumbWidth = this.getThumbHorizontalWidth();\n        return offset / (trackWidth - thumbWidth) * (scrollWidth - clientWidth);\n    },\n    getScrollTopForOffset: function getScrollTopForOffset(offset) {\n        var _refs4 = this.refs,\n            view = _refs4.view,\n            trackVertical = _refs4.trackVertical;\n        var scrollHeight = view.scrollHeight,\n            clientHeight = view.clientHeight;\n\n        var trackHeight = (0, _getInnerHeight2[\"default\"])(trackVertical);\n        var thumbHeight = this.getThumbVerticalHeight();\n        return offset / (trackHeight - thumbHeight) * (scrollHeight - clientHeight);\n    },\n    scrollLeft: function scrollLeft() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var view = this.refs.view;\n\n        view.scrollLeft = left;\n    },\n    scrollTop: function scrollTop() {\n        var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var view = this.refs.view;\n\n        view.scrollTop = top;\n    },\n    scrollToLeft: function scrollToLeft() {\n        var view = this.refs.view;\n\n        view.scrollLeft = 0;\n    },\n    scrollToTop: function scrollToTop() {\n        var view = this.refs.view;\n\n        view.scrollTop = 0;\n    },\n    scrollToRight: function scrollToRight() {\n        var view = this.refs.view;\n\n        view.scrollLeft = view.scrollWidth;\n    },\n    scrollToBottom: function scrollToBottom() {\n        var view = this.refs.view;\n\n        view.scrollTop = view.scrollHeight;\n    },\n    addListeners: function addListeners() {\n        /* istanbul ignore if */\n        if (typeof document === 'undefined') return;\n        var _refs5 = this.refs,\n            view = _refs5.view,\n            trackHorizontal = _refs5.trackHorizontal,\n            trackVertical = _refs5.trackVertical,\n            thumbHorizontal = _refs5.thumbHorizontal,\n            thumbVertical = _refs5.thumbVertical;\n\n        view.addEventListener('scroll', this.handleScroll);\n        if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n        trackHorizontal.addEventListener('mouseenter', this.handleTrackMouseEnter);\n        trackHorizontal.addEventListener('mouseleave', this.handleTrackMouseLeave);\n        trackHorizontal.addEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n        trackVertical.addEventListener('mouseenter', this.handleTrackMouseEnter);\n        trackVertical.addEventListener('mouseleave', this.handleTrackMouseLeave);\n        trackVertical.addEventListener('mousedown', this.handleVerticalTrackMouseDown);\n        thumbHorizontal.addEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n        thumbVertical.addEventListener('mousedown', this.handleVerticalThumbMouseDown);\n        window.addEventListener('resize', this.handleWindowResize);\n    },\n    removeListeners: function removeListeners() {\n        /* istanbul ignore if */\n        if (typeof document === 'undefined') return;\n        var _refs6 = this.refs,\n            view = _refs6.view,\n            trackHorizontal = _refs6.trackHorizontal,\n            trackVertical = _refs6.trackVertical,\n            thumbHorizontal = _refs6.thumbHorizontal,\n            thumbVertical = _refs6.thumbVertical;\n\n        view.removeEventListener('scroll', this.handleScroll);\n        if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n        trackHorizontal.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n        trackHorizontal.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n        trackHorizontal.removeEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n        trackVertical.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n        trackVertical.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n        trackVertical.removeEventListener('mousedown', this.handleVerticalTrackMouseDown);\n        thumbHorizontal.removeEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n        thumbVertical.removeEventListener('mousedown', this.handleVerticalThumbMouseDown);\n        window.removeEventListener('resize', this.handleWindowResize);\n        // Possibly setup by `handleDragStart`\n        this.teardownDragging();\n    },\n    handleScroll: function handleScroll(event) {\n        var _this = this;\n\n        var _props3 = this.props,\n            onScroll = _props3.onScroll,\n            onScrollFrame = _props3.onScrollFrame;\n\n        if (onScroll) onScroll(event);\n        this.update(function (values) {\n            var scrollLeft = values.scrollLeft,\n                scrollTop = values.scrollTop;\n\n            _this.viewScrollLeft = scrollLeft;\n            _this.viewScrollTop = scrollTop;\n            if (onScrollFrame) onScrollFrame(values);\n        });\n        this.detectScrolling();\n    },\n    handleScrollStart: function handleScrollStart() {\n        var onScrollStart = this.props.onScrollStart;\n\n        if (onScrollStart) onScrollStart();\n        this.handleScrollStartAutoHide();\n    },\n    handleScrollStartAutoHide: function handleScrollStartAutoHide() {\n        var autoHide = this.props.autoHide;\n\n        if (!autoHide) return;\n        this.showTracks();\n    },\n    handleScrollStop: function handleScrollStop() {\n        var onScrollStop = this.props.onScrollStop;\n\n        if (onScrollStop) onScrollStop();\n        this.handleScrollStopAutoHide();\n    },\n    handleScrollStopAutoHide: function handleScrollStopAutoHide() {\n        var autoHide = this.props.autoHide;\n\n        if (!autoHide) return;\n        this.hideTracks();\n    },\n    handleWindowResize: function handleWindowResize() {\n        this.update();\n    },\n    handleHorizontalTrackMouseDown: function handleHorizontalTrackMouseDown(event) {\n        event.preventDefault();\n        var view = this.refs.view;\n        var target = event.target,\n            clientX = event.clientX;\n\n        var _target$getBoundingCl = target.getBoundingClientRect(),\n            targetLeft = _target$getBoundingCl.left;\n\n        var thumbWidth = this.getThumbHorizontalWidth();\n        var offset = Math.abs(targetLeft - clientX) - thumbWidth / 2;\n        view.scrollLeft = this.getScrollLeftForOffset(offset);\n    },\n    handleVerticalTrackMouseDown: function handleVerticalTrackMouseDown(event) {\n        event.preventDefault();\n        var view = this.refs.view;\n        var target = event.target,\n            clientY = event.clientY;\n\n        var _target$getBoundingCl2 = target.getBoundingClientRect(),\n            targetTop = _target$getBoundingCl2.top;\n\n        var thumbHeight = this.getThumbVerticalHeight();\n        var offset = Math.abs(targetTop - clientY) - thumbHeight / 2;\n        view.scrollTop = this.getScrollTopForOffset(offset);\n    },\n    handleHorizontalThumbMouseDown: function handleHorizontalThumbMouseDown(event) {\n        event.preventDefault();\n        this.handleDragStart(event);\n        var target = event.target,\n            clientX = event.clientX;\n        var offsetWidth = target.offsetWidth;\n\n        var _target$getBoundingCl3 = target.getBoundingClientRect(),\n            left = _target$getBoundingCl3.left;\n\n        this.prevPageX = offsetWidth - (clientX - left);\n    },\n    handleVerticalThumbMouseDown: function handleVerticalThumbMouseDown(event) {\n        event.preventDefault();\n        this.handleDragStart(event);\n        var target = event.target,\n            clientY = event.clientY;\n        var offsetHeight = target.offsetHeight;\n\n        var _target$getBoundingCl4 = target.getBoundingClientRect(),\n            top = _target$getBoundingCl4.top;\n\n        this.prevPageY = offsetHeight - (clientY - top);\n    },\n    setupDragging: function setupDragging() {\n        (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyle);\n        document.addEventListener('mousemove', this.handleDrag);\n        document.addEventListener('mouseup', this.handleDragEnd);\n        document.onselectstart = _returnFalse2[\"default\"];\n    },\n    teardownDragging: function teardownDragging() {\n        (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyleReset);\n        document.removeEventListener('mousemove', this.handleDrag);\n        document.removeEventListener('mouseup', this.handleDragEnd);\n        document.onselectstart = undefined;\n    },\n    handleDragStart: function handleDragStart(event) {\n        this.dragging = true;\n        event.stopImmediatePropagation();\n        this.setupDragging();\n    },\n    handleDrag: function handleDrag(event) {\n        if (this.prevPageX) {\n            var clientX = event.clientX;\n            var _refs7 = this.refs,\n                view = _refs7.view,\n                trackHorizontal = _refs7.trackHorizontal;\n\n            var _trackHorizontal$getB = trackHorizontal.getBoundingClientRect(),\n                trackLeft = _trackHorizontal$getB.left;\n\n            var thumbWidth = this.getThumbHorizontalWidth();\n            var clickPosition = thumbWidth - this.prevPageX;\n            var offset = -trackLeft + clientX - clickPosition;\n            view.scrollLeft = this.getScrollLeftForOffset(offset);\n        }\n        if (this.prevPageY) {\n            var clientY = event.clientY;\n            var _refs8 = this.refs,\n                _view = _refs8.view,\n                trackVertical = _refs8.trackVertical;\n\n            var _trackVertical$getBou = trackVertical.getBoundingClientRect(),\n                trackTop = _trackVertical$getBou.top;\n\n            var thumbHeight = this.getThumbVerticalHeight();\n            var _clickPosition = thumbHeight - this.prevPageY;\n            var _offset = -trackTop + clientY - _clickPosition;\n            _view.scrollTop = this.getScrollTopForOffset(_offset);\n        }\n        return false;\n    },\n    handleDragEnd: function handleDragEnd() {\n        this.dragging = false;\n        this.prevPageX = this.prevPageY = 0;\n        this.teardownDragging();\n        this.handleDragEndAutoHide();\n    },\n    handleDragEndAutoHide: function handleDragEndAutoHide() {\n        var autoHide = this.props.autoHide;\n\n        if (!autoHide) return;\n        this.hideTracks();\n    },\n    handleTrackMouseEnter: function handleTrackMouseEnter() {\n        this.trackMouseOver = true;\n        this.handleTrackMouseEnterAutoHide();\n    },\n    handleTrackMouseEnterAutoHide: function handleTrackMouseEnterAutoHide() {\n        var autoHide = this.props.autoHide;\n\n        if (!autoHide) return;\n        this.showTracks();\n    },\n    handleTrackMouseLeave: function handleTrackMouseLeave() {\n        this.trackMouseOver = false;\n        this.handleTrackMouseLeaveAutoHide();\n    },\n    handleTrackMouseLeaveAutoHide: function handleTrackMouseLeaveAutoHide() {\n        var autoHide = this.props.autoHide;\n\n        if (!autoHide) return;\n        this.hideTracks();\n    },\n    showTracks: function showTracks() {\n        var _refs9 = this.refs,\n            trackHorizontal = _refs9.trackHorizontal,\n            trackVertical = _refs9.trackVertical;\n\n        clearTimeout(this.hideTracksTimeout);\n        (0, _domCss2[\"default\"])(trackHorizontal, { opacity: 1 });\n        (0, _domCss2[\"default\"])(trackVertical, { opacity: 1 });\n    },\n    hideTracks: function hideTracks() {\n        if (this.dragging) return;\n        if (this.scrolling) return;\n        if (this.trackMouseOver) return;\n        var autoHideTimeout = this.props.autoHideTimeout;\n        var _refs10 = this.refs,\n            trackHorizontal = _refs10.trackHorizontal,\n            trackVertical = _refs10.trackVertical;\n\n        clearTimeout(this.hideTracksTimeout);\n        this.hideTracksTimeout = setTimeout(function () {\n            (0, _domCss2[\"default\"])(trackHorizontal, { opacity: 0 });\n            (0, _domCss2[\"default\"])(trackVertical, { opacity: 0 });\n        }, autoHideTimeout);\n    },\n    detectScrolling: function detectScrolling() {\n        var _this2 = this;\n\n        if (this.scrolling) return;\n        this.scrolling = true;\n        this.handleScrollStart();\n        this.detectScrollingInterval = setInterval(function () {\n            if (_this2.lastViewScrollLeft === _this2.viewScrollLeft && _this2.lastViewScrollTop === _this2.viewScrollTop) {\n                clearInterval(_this2.detectScrollingInterval);\n                _this2.scrolling = false;\n                _this2.handleScrollStop();\n            }\n            _this2.lastViewScrollLeft = _this2.viewScrollLeft;\n            _this2.lastViewScrollTop = _this2.viewScrollTop;\n        }, 100);\n    },\n    raf: function raf(callback) {\n        var _this3 = this;\n\n        if (this.requestFrame) _raf3[\"default\"].cancel(this.requestFrame);\n        this.requestFrame = (0, _raf3[\"default\"])(function () {\n            _this3.requestFrame = undefined;\n            callback();\n        });\n    },\n    update: function update(callback) {\n        var _this4 = this;\n\n        this.raf(function () {\n            return _this4._update(callback);\n        });\n    },\n    _update: function _update(callback) {\n        var _props4 = this.props,\n            onUpdate = _props4.onUpdate,\n            hideTracksWhenNotNeeded = _props4.hideTracksWhenNotNeeded;\n\n        var values = this.getValues();\n        if ((0, _getScrollbarWidth2[\"default\"])()) {\n            var _refs11 = this.refs,\n                thumbHorizontal = _refs11.thumbHorizontal,\n                thumbVertical = _refs11.thumbVertical,\n                trackHorizontal = _refs11.trackHorizontal,\n                trackVertical = _refs11.trackVertical;\n            var scrollLeft = values.scrollLeft,\n                clientWidth = values.clientWidth,\n                scrollWidth = values.scrollWidth;\n\n            var trackHorizontalWidth = (0, _getInnerWidth2[\"default\"])(trackHorizontal);\n            var thumbHorizontalWidth = this.getThumbHorizontalWidth();\n            var thumbHorizontalX = scrollLeft / (scrollWidth - clientWidth) * (trackHorizontalWidth - thumbHorizontalWidth);\n            var thumbHorizontalStyle = {\n                width: thumbHorizontalWidth,\n                transform: 'translateX(' + thumbHorizontalX + 'px)'\n            };\n            var scrollTop = values.scrollTop,\n                clientHeight = values.clientHeight,\n                scrollHeight = values.scrollHeight;\n\n            var trackVerticalHeight = (0, _getInnerHeight2[\"default\"])(trackVertical);\n            var thumbVerticalHeight = this.getThumbVerticalHeight();\n            var thumbVerticalY = scrollTop / (scrollHeight - clientHeight) * (trackVerticalHeight - thumbVerticalHeight);\n            var thumbVerticalStyle = {\n                height: thumbVerticalHeight,\n                transform: 'translateY(' + thumbVerticalY + 'px)'\n            };\n            if (hideTracksWhenNotNeeded) {\n                var trackHorizontalStyle = {\n                    visibility: scrollWidth > clientWidth ? 'visible' : 'hidden'\n                };\n                var trackVerticalStyle = {\n                    visibility: scrollHeight > clientHeight ? 'visible' : 'hidden'\n                };\n                (0, _domCss2[\"default\"])(trackHorizontal, trackHorizontalStyle);\n                (0, _domCss2[\"default\"])(trackVertical, trackVerticalStyle);\n            }\n            (0, _domCss2[\"default\"])(thumbHorizontal, thumbHorizontalStyle);\n            (0, _domCss2[\"default\"])(thumbVertical, thumbVerticalStyle);\n        }\n        if (onUpdate) onUpdate(values);\n        if (typeof callback !== 'function') return;\n        callback(values);\n    },\n    render: function render() {\n        var scrollbarWidth = (0, _getScrollbarWidth2[\"default\"])();\n        /* eslint-disable no-unused-vars */\n\n        var _props5 = this.props,\n            onScroll = _props5.onScroll,\n            onScrollFrame = _props5.onScrollFrame,\n            onScrollStart = _props5.onScrollStart,\n            onScrollStop = _props5.onScrollStop,\n            onUpdate = _props5.onUpdate,\n            renderView = _props5.renderView,\n            renderTrackHorizontal = _props5.renderTrackHorizontal,\n            renderTrackVertical = _props5.renderTrackVertical,\n            renderThumbHorizontal = _props5.renderThumbHorizontal,\n            renderThumbVertical = _props5.renderThumbVertical,\n            tagName = _props5.tagName,\n            hideTracksWhenNotNeeded = _props5.hideTracksWhenNotNeeded,\n            autoHide = _props5.autoHide,\n            autoHideTimeout = _props5.autoHideTimeout,\n            autoHideDuration = _props5.autoHideDuration,\n            thumbSize = _props5.thumbSize,\n            thumbMinSize = _props5.thumbMinSize,\n            universal = _props5.universal,\n            autoHeight = _props5.autoHeight,\n            autoHeightMin = _props5.autoHeightMin,\n            autoHeightMax = _props5.autoHeightMax,\n            style = _props5.style,\n            children = _props5.children,\n            props = _objectWithoutProperties(_props5, ['onScroll', 'onScrollFrame', 'onScrollStart', 'onScrollStop', 'onUpdate', 'renderView', 'renderTrackHorizontal', 'renderTrackVertical', 'renderThumbHorizontal', 'renderThumbVertical', 'tagName', 'hideTracksWhenNotNeeded', 'autoHide', 'autoHideTimeout', 'autoHideDuration', 'thumbSize', 'thumbMinSize', 'universal', 'autoHeight', 'autoHeightMin', 'autoHeightMax', 'style', 'children']);\n        /* eslint-enable no-unused-vars */\n\n        var didMountUniversal = this.state.didMountUniversal;\n\n\n        var containerStyle = _extends({}, _styles.containerStyleDefault, autoHeight && _extends({}, _styles.containerStyleAutoHeight, {\n            minHeight: autoHeightMin,\n            maxHeight: autoHeightMax\n        }), style);\n\n        var viewStyle = _extends({}, _styles.viewStyleDefault, {\n            // Hide scrollbars by setting a negative margin\n            marginRight: scrollbarWidth ? -scrollbarWidth : 0,\n            marginBottom: scrollbarWidth ? -scrollbarWidth : 0\n        }, autoHeight && _extends({}, _styles.viewStyleAutoHeight, {\n            // Add scrollbarWidth to autoHeight in order to compensate negative margins\n            minHeight: (0, _isString2[\"default\"])(autoHeightMin) ? 'calc(' + autoHeightMin + ' + ' + scrollbarWidth + 'px)' : autoHeightMin + scrollbarWidth,\n            maxHeight: (0, _isString2[\"default\"])(autoHeightMax) ? 'calc(' + autoHeightMax + ' + ' + scrollbarWidth + 'px)' : autoHeightMax + scrollbarWidth\n        }), autoHeight && universal && !didMountUniversal && {\n            minHeight: autoHeightMin,\n            maxHeight: autoHeightMax\n        }, universal && !didMountUniversal && _styles.viewStyleUniversalInitial);\n\n        var trackAutoHeightStyle = {\n            transition: 'opacity ' + autoHideDuration + 'ms',\n            opacity: 0\n        };\n\n        var trackHorizontalStyle = _extends({}, _styles.trackHorizontalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n            display: 'none'\n        });\n\n        var trackVerticalStyle = _extends({}, _styles.trackVerticalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n            display: 'none'\n        });\n\n        return (0, _react.createElement)(tagName, _extends({}, props, { style: containerStyle, ref: 'container' }), [(0, _react.cloneElement)(renderView({ style: viewStyle }), { key: 'view', ref: 'view' }, children), (0, _react.cloneElement)(renderTrackHorizontal({ style: trackHorizontalStyle }), { key: 'trackHorizontal', ref: 'trackHorizontal' }, (0, _react.cloneElement)(renderThumbHorizontal({ style: _styles.thumbHorizontalStyleDefault }), { ref: 'thumbHorizontal' })), (0, _react.cloneElement)(renderTrackVertical({ style: trackVerticalStyle }), { key: 'trackVertical', ref: 'trackVertical' }, (0, _react.cloneElement)(renderThumbVertical({ style: _styles.thumbVerticalStyleDefault }), { ref: 'thumbVertical' }))]);\n    }\n});\n\n\n/***/ }),\n\n/***/ 2177:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar containerStyleDefault = exports.containerStyleDefault = {\n    position: 'relative',\n    overflow: 'hidden',\n    width: '100%',\n    height: '100%'\n};\n\n// Overrides containerStyleDefault properties\nvar containerStyleAutoHeight = exports.containerStyleAutoHeight = {\n    height: 'auto'\n};\n\nvar viewStyleDefault = exports.viewStyleDefault = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'scroll',\n    WebkitOverflowScrolling: 'touch'\n};\n\n// Overrides viewStyleDefault properties\nvar viewStyleAutoHeight = exports.viewStyleAutoHeight = {\n    position: 'relative',\n    top: undefined,\n    left: undefined,\n    right: undefined,\n    bottom: undefined\n};\n\nvar viewStyleUniversalInitial = exports.viewStyleUniversalInitial = {\n    overflow: 'hidden',\n    marginRight: 0,\n    marginBottom: 0\n};\n\nvar trackHorizontalStyleDefault = exports.trackHorizontalStyleDefault = {\n    position: 'absolute',\n    height: 6\n};\n\nvar trackVerticalStyleDefault = exports.trackVerticalStyleDefault = {\n    position: 'absolute',\n    width: 6\n};\n\nvar thumbHorizontalStyleDefault = exports.thumbHorizontalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    height: '100%'\n};\n\nvar thumbVerticalStyleDefault = exports.thumbVerticalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    width: '100%'\n};\n\nvar disableSelectStyle = exports.disableSelectStyle = {\n    userSelect: 'none'\n};\n\nvar disableSelectStyleReset = exports.disableSelectStyleReset = {\n    userSelect: ''\n};\n\n\n/***/ }),\n\n/***/ 2178:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scrollbars = undefined;\n\nvar _Scrollbars = __webpack_require__(2176);\n\nvar _Scrollbars2 = _interopRequireDefault(_Scrollbars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nexports[\"default\"] = _Scrollbars2[\"default\"];\nexports.Scrollbars = _Scrollbars2[\"default\"];\n\n\n/***/ }),\n\n/***/ 2179:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerHeight;\nfunction getInnerHeight(el) {\n    var clientHeight = el.clientHeight;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingTop = _getComputedStyle.paddingTop,\n        paddingBottom = _getComputedStyle.paddingBottom;\n\n    return clientHeight - parseFloat(paddingTop) - parseFloat(paddingBottom);\n}\n\n\n/***/ }),\n\n/***/ 2180:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerWidth;\nfunction getInnerWidth(el) {\n    var clientWidth = el.clientWidth;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingLeft = _getComputedStyle.paddingLeft,\n        paddingRight = _getComputedStyle.paddingRight;\n\n    return clientWidth - parseFloat(paddingLeft) - parseFloat(paddingRight);\n}\n\n\n/***/ }),\n\n/***/ 2181:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getScrollbarWidth;\n\nvar _domCss = __webpack_require__(1795);\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar scrollbarWidth = false;\n\nfunction getScrollbarWidth() {\n    if (scrollbarWidth !== false) return scrollbarWidth;\n    /* istanbul ignore else */\n    if (typeof document !== 'undefined') {\n        var div = document.createElement('div');\n        (0, _domCss2[\"default\"])(div, {\n            width: 100,\n            height: 100,\n            position: 'absolute',\n            top: -9999,\n            overflow: 'scroll',\n            MsOverflowStyle: 'scrollbar'\n        });\n        document.body.appendChild(div);\n        scrollbarWidth = div.offsetWidth - div.clientWidth;\n        document.body.removeChild(div);\n    } else {\n        scrollbarWidth = 0;\n    }\n    return scrollbarWidth || 0;\n}\n\n\n/***/ }),\n\n/***/ 2182:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = isString;\nfunction isString(maybe) {\n    return typeof maybe === 'string';\n}\n\n\n/***/ }),\n\n/***/ 2183:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = returnFalse;\nfunction returnFalse() {\n    return false;\n}\n\n\n/***/ }),\n\n/***/ 2191:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      default: // Unknown extensions are silently ignored.\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n       ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var fpLine = lines.filter(function(line) {\n    return line.indexOf('a=fingerprint:') === 0;\n  })[0].substr(14);\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  var dtlsParameters = {\n    role: 'auto',\n    fingerprints: [{\n      algorithm: fpLine.split(' ')[0].toLowerCase(),\n      value: fpLine.split(' ')[1]\n    }]\n  };\n  return dtlsParameters;\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(5), 10);\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines an returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\nSDPUtils.writeSessionBoilerplate = function() {\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\n// Expose public methods.\nmodule.exports = SDPUtils;\n\n\n\n/***/ }),\n\n/***/ 2199:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\nvar space = __webpack_require__(2201)\n\n/**\n * Export.\n */\n\nmodule.exports = toCamelCase\n\n/**\n * Convert a `string` to camel case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toCamelCase(string) {\n  return space(string).replace(/\\s(\\w)/g, function (matches, letter) {\n    return letter.toUpperCase()\n  })\n}\n\n\n\n/***/ }),\n\n/***/ 2200:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\n/**\n * Export.\n */\n\nmodule.exports = toNoCase\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/\nvar hasSeparator = /(_|-|\\.|:)/\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase()\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()\n  return string.toLowerCase()\n}\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : ''\n  })\n}\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ')\n  })\n}\n\n\n\n/***/ }),\n\n/***/ 2201:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\nvar clean = __webpack_require__(2200)\n\n/**\n * Export.\n */\n\nmodule.exports = toSpaceCase\n\n/**\n * Convert a `string` to space case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSpaceCase(string) {\n  return clean(string).replace(/[\\W_]+(.|$)/g, function (matches, match) {\n    return match ? ' ' + match : ''\n  }).trim()\n}\n\n\n\n/***/ }),\n\n/***/ 2204:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\n// Shimming starts here.\n(function() {\n  // Utils.\n  var utils = __webpack_require__(1743);\n  var logging = utils.log;\n  var browserDetails = utils.browserDetails;\n  // Export to the adapter global object visible in the browser.\n  module.exports.browserDetails = browserDetails;\n  module.exports.extractVersion = utils.extractVersion;\n  module.exports.disableLog = utils.disableLog;\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = __webpack_require__(2205) || null;\n  var edgeShim = __webpack_require__(2207) || null;\n  var firefoxShim = __webpack_require__(2209) || null;\n  var safariShim = __webpack_require__(2211) || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection) {\n        logging('Chrome shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = chromeShim;\n\n      chromeShim.shimGetUserMedia();\n      chromeShim.shimMediaStream();\n      utils.shimCreateObjectURL();\n      chromeShim.shimSourceObject();\n      chromeShim.shimPeerConnection();\n      chromeShim.shimOnTrack();\n      chromeShim.shimGetSendersWithDtmf();\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection) {\n        logging('Firefox shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = firefoxShim;\n\n      firefoxShim.shimGetUserMedia();\n      utils.shimCreateObjectURL();\n      firefoxShim.shimSourceObject();\n      firefoxShim.shimPeerConnection();\n      firefoxShim.shimOnTrack();\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection) {\n        logging('MS edge shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = edgeShim;\n\n      edgeShim.shimGetUserMedia();\n      utils.shimCreateObjectURL();\n      edgeShim.shimPeerConnection();\n      break;\n    case 'safari':\n      if (!safariShim) {\n        logging('Safari shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = safariShim;\n\n      safariShim.shimGetUserMedia();\n      break;\n    default:\n      logging('Unsupported browser!');\n  }\n})();\n\n\n\n/***/ }),\n\n/***/ 2205:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar logging = __webpack_require__(1743).log;\nvar browserDetails = __webpack_require__(1743).browserDetails;\n\nvar chromeShim = {\n  shimMediaStream: function() {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          var self = this;\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = {track: te.track};\n              event.streams = [e.stream];\n              self.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimGetSendersWithDtmf: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in RTCPeerConnection.prototype) &&\n        'createDTMFSender' in RTCPeerConnection.prototype) {\n      RTCPeerConnection.prototype.getSenders = function() {\n        return this._senders;\n      };\n      var origAddStream = RTCPeerConnection.prototype.addStream;\n      var origRemoveStream = RTCPeerConnection.prototype.removeStream;\n\n      RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push({\n            track: track,\n            get dtmf() {\n              if (this._dtmf === undefined) {\n                if (track.kind === 'audio') {\n                  this._dtmf = pc.createDTMFSender(track);\n                } else {\n                  this._dtmf = null;\n                }\n              }\n              return this._dtmf;\n            }\n          });\n        });\n      };\n\n      RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    }\n  },\n\n  shimSourceObject: function() {\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    }\n\n    var origGetStats = RTCPeerConnection.prototype.getStats;\n    RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var self = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return[key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n            arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(self, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = RTCPeerConnection.prototype[method];\n            RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = RTCPeerConnection.prototype[method];\n        RTCPeerConnection.prototype[method] = function() {\n          var self = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(self, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = RTCPeerConnection.prototype[method];\n          RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimGetSendersWithDtmf: chromeShim.shimGetSendersWithDtmf,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: __webpack_require__(2206)\n};\n\n\n\n/***/ }),\n\n/***/ 2206:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar logging = __webpack_require__(1743).log;\nvar browserDetails = __webpack_require__(1743).browserDetails;\n\n// Expose public methods.\nmodule.exports = function() {\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && constraints.audio) {\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile, where it defaults to \"user\".\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 59;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          // Look for \"back\" in label, or use last cam (typically back cam).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var back = devices.find(function(d) {\n              return d.label.toLowerCase().indexOf('back') !== -1;\n            }) || (devices.length && devices[devices.length - 1]);\n            if (back) {\n              constraints.video.deviceId = face.exact ? {exact: back.deviceId} :\n                                                        {ideal: back.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        onError(shimError_(e));\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                      kind: kinds[device.kind],\n                      deviceId: device.id,\n                      groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n\n\n/***/ }),\n\n/***/ 2207:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = __webpack_require__(2191);\nvar browserDetails = __webpack_require__(1743).browserDetails;\n\n// sort tracks such that they follow an a-v-a-v...\n// pattern.\nfunction sortTracks(tracks) {\n  var audioTracks = tracks.filter(function(track) {\n    return track.kind === 'audio';\n  });\n  var videoTracks = tracks.filter(function(track) {\n    return track.kind === 'video';\n  });\n  tracks = [];\n  while (audioTracks.length || videoTracks.length) {\n    if (audioTracks.length) {\n      tracks.push(audioTracks.shift());\n    }\n    if (videoTracks.length) {\n      tracks.push(videoTracks.shift());\n    }\n  }\n  return tracks;\n}\n\n// Edge does not like\n// 1) stun:\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 &&\n            browserDetails.version >= 14393;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n    return false;\n  });\n}\n\nvar edgeShim = {\n  shimPeerConnection: function() {\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    window.RTCPeerConnection = function(config) {\n      var self = this;\n\n      var _eventTarget = document.createDocumentFragment();\n      ['addEventListener', 'removeEventListener', 'dispatchEvent']\n          .forEach(function(method) {\n            self[method] = _eventTarget[method].bind(_eventTarget);\n          });\n\n      this.onicecandidate = null;\n      this.onaddstream = null;\n      this.ontrack = null;\n      this.onremovestream = null;\n      this.onsignalingstatechange = null;\n      this.oniceconnectionstatechange = null;\n      this.onicegatheringstatechange = null;\n      this.onnegotiationneeded = null;\n      this.ondatachannel = null;\n\n      this.localStreams = [];\n      this.remoteStreams = [];\n      this.getLocalStreams = function() {\n        return self.localStreams;\n      };\n      this.getRemoteStreams = function() {\n        return self.remoteStreams;\n      };\n\n      this.localDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.remoteDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.signalingState = 'stable';\n      this.iceConnectionState = 'new';\n      this.iceGatheringState = 'new';\n\n      this.iceOptions = {\n        gatherPolicy: 'all',\n        iceServers: []\n      };\n      if (config && config.iceTransportPolicy) {\n        switch (config.iceTransportPolicy) {\n          case 'all':\n          case 'relay':\n            this.iceOptions.gatherPolicy = config.iceTransportPolicy;\n            break;\n          default:\n            // don't set iceTransportPolicy.\n            break;\n        }\n      }\n      this.usingBundle = config && config.bundlePolicy === 'max-bundle';\n\n      if (config && config.iceServers) {\n        this.iceOptions.iceServers = filterIceServers(config.iceServers);\n      }\n      this._config = config;\n\n      // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n      // everything that is needed to describe a SDP m-line.\n      this.transceivers = [];\n\n      // since the iceGatherer is currently created in createOffer but we\n      // must not emit candidates until after setLocalDescription we buffer\n      // them in this array.\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n      var event = new Event('icegatheringstatechange');\n      this.dispatchEvent(event);\n      if (this.onicegatheringstatechange !== null) {\n        this.onicegatheringstatechange(event);\n      }\n    };\n\n    window.RTCPeerConnection.prototype._emitBufferedCandidates = function() {\n      var self = this;\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      // FIXME: need to apply ice candidates in a way which is async but\n      // in-order\n      this._localIceCandidatesBuffer.forEach(function(event) {\n        var end = !event.candidate || Object.keys(event.candidate).length === 0;\n        if (end) {\n          for (var j = 1; j < sections.length; j++) {\n            if (sections[j].indexOf('\\r\\na=end-of-candidates\\r\\n') === -1) {\n              sections[j] += 'a=end-of-candidates\\r\\n';\n            }\n          }\n        } else {\n          sections[event.candidate.sdpMLineIndex + 1] +=\n              'a=' + event.candidate.candidate + '\\r\\n';\n        }\n        self.localDescription.sdp = sections.join('');\n        self.dispatchEvent(event);\n        if (self.onicecandidate !== null) {\n          self.onicecandidate(event);\n        }\n        if (!event.candidate && self.iceGatheringState !== 'complete') {\n          var complete = self.transceivers.every(function(transceiver) {\n            return transceiver.iceGatherer &&\n                transceiver.iceGatherer.state === 'completed';\n          });\n          if (complete && self.iceGatheringStateChange !== 'complete') {\n            self.iceGatheringState = 'complete';\n            self._emitGatheringStateChange();\n          }\n        }\n      });\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype.getConfiguration = function() {\n      return this._config;\n    };\n\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      if (browserDetails.version >= 15025) {\n        this.localStreams.push(stream);\n      } else {\n        // Clone is necessary for local demos mostly, attaching directly\n        // to two different senders does not work (build 10547).\n        // Fixed in 15025 (or earlier)\n        var clonedStream = stream.clone();\n        stream.getTracks().forEach(function(track, idx) {\n          var clonedTrack = clonedStream.getTracks()[idx];\n          track.addEventListener('enabled', function(event) {\n            clonedTrack.enabled = event.enabled;\n          });\n        });\n        this.localStreams.push(clonedStream);\n      }\n      this._maybeFireNegotiationNeeded();\n    };\n\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var idx = this.localStreams.indexOf(stream);\n      if (idx > -1) {\n        this.localStreams.splice(idx, 1);\n        this._maybeFireNegotiationNeeded();\n      }\n    };\n\n    window.RTCPeerConnection.prototype.getSenders = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpSender;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpSender;\n      });\n    };\n\n    window.RTCPeerConnection.prototype.getReceivers = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpReceiver;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpReceiver;\n      });\n    };\n\n    // Determines the intersection of local and remote capabilities.\n    window.RTCPeerConnection.prototype._getCommonCapabilities =\n        function(localCapabilities, remoteCapabilities) {\n          var commonCapabilities = {\n            codecs: [],\n            headerExtensions: [],\n            fecMechanisms: []\n          };\n\n          var findCodecByPayloadType = function(pt, codecs) {\n            pt = parseInt(pt, 10);\n            for (var i = 0; i < codecs.length; i++) {\n              if (codecs[i].payloadType === pt ||\n                  codecs[i].preferredPayloadType === pt) {\n                return codecs[i];\n              }\n            }\n          };\n\n          var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n            var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n            var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n            return lCodec && rCodec &&\n                lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n          };\n\n          localCapabilities.codecs.forEach(function(lCodec) {\n            for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n              var rCodec = remoteCapabilities.codecs[i];\n              if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n                  lCodec.clockRate === rCodec.clockRate) {\n                if (lCodec.name.toLowerCase() === 'rtx' &&\n                    lCodec.parameters && rCodec.parameters.apt) {\n                  // for RTX we need to find the local rtx that has a apt\n                  // which points to the same local codec as the remote one.\n                  if (!rtxCapabilityMatches(lCodec, rCodec,\n                      localCapabilities.codecs, remoteCapabilities.codecs)) {\n                    continue;\n                  }\n                }\n                rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n                // number of channels is the highest common number of channels\n                rCodec.numChannels = Math.min(lCodec.numChannels,\n                    rCodec.numChannels);\n                // push rCodec so we reply with offerer payload type\n                commonCapabilities.codecs.push(rCodec);\n\n                // determine common feedback mechanisms\n                rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n                  for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n                    if (lCodec.rtcpFeedback[j].type === fb.type &&\n                        lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n                      return true;\n                    }\n                  }\n                  return false;\n                });\n                // FIXME: also need to determine .parameters\n                //  see https://github.com/openpeer/ortc/issues/569\n                break;\n              }\n            }\n          });\n\n          localCapabilities.headerExtensions\n              .forEach(function(lHeaderExtension) {\n                for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n                     i++) {\n                  var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n                  if (lHeaderExtension.uri === rHeaderExtension.uri) {\n                    commonCapabilities.headerExtensions.push(rHeaderExtension);\n                    break;\n                  }\n                }\n              });\n\n          // FIXME: fecMechanisms\n          return commonCapabilities;\n        };\n\n    // Create ICE gatherer, ICE transport and DTLS transport.\n    window.RTCPeerConnection.prototype._createIceAndDtlsTransports =\n        function(mid, sdpMLineIndex) {\n          var self = this;\n          var iceGatherer = new RTCIceGatherer(self.iceOptions);\n          var iceTransport = new RTCIceTransport(iceGatherer);\n          iceGatherer.onlocalcandidate = function(evt) {\n            var event = new Event('icecandidate');\n            event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n            var cand = evt.candidate;\n            var end = !cand || Object.keys(cand).length === 0;\n            // Edge emits an empty object for RTCIceCandidateComplete\n            if (end) {\n              // polyfill since RTCIceGatherer.state is not implemented in\n              // Edge 10547 yet.\n              if (iceGatherer.state === undefined) {\n                iceGatherer.state = 'completed';\n              }\n            } else {\n              // RTCIceCandidate doesn't have a component, needs to be added\n              cand.component = iceTransport.component === 'RTCP' ? 2 : 1;\n              event.candidate.candidate = SDPUtils.writeCandidate(cand);\n            }\n\n            // update local description.\n            var sections = SDPUtils.splitSections(self.localDescription.sdp);\n            if (!end) {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=' + event.candidate.candidate + '\\r\\n';\n            } else {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=end-of-candidates\\r\\n';\n            }\n            self.localDescription.sdp = sections.join('');\n            var transceivers = self._pendingOffer ? self._pendingOffer :\n                self.transceivers;\n            var complete = transceivers.every(function(transceiver) {\n              return transceiver.iceGatherer &&\n                  transceiver.iceGatherer.state === 'completed';\n            });\n\n            // Emit candidate if localDescription is set.\n            // Also emits null candidate when all gatherers are complete.\n            switch (self.iceGatheringState) {\n              case 'new':\n                if (!end) {\n                  self._localIceCandidatesBuffer.push(event);\n                }\n                if (end && complete) {\n                  self._localIceCandidatesBuffer.push(\n                      new Event('icecandidate'));\n                }\n                break;\n              case 'gathering':\n                self._emitBufferedCandidates();\n                if (!end) {\n                  self.dispatchEvent(event);\n                  if (self.onicecandidate !== null) {\n                    self.onicecandidate(event);\n                  }\n                }\n                if (complete) {\n                  self.dispatchEvent(new Event('icecandidate'));\n                  if (self.onicecandidate !== null) {\n                    self.onicecandidate(new Event('icecandidate'));\n                  }\n                  self.iceGatheringState = 'complete';\n                  self._emitGatheringStateChange();\n                }\n                break;\n              case 'complete':\n                // should not happen... currently!\n                break;\n              default: // no-op.\n                break;\n            }\n          };\n          iceTransport.onicestatechange = function() {\n            self._updateConnectionState();\n          };\n\n          var dtlsTransport = new RTCDtlsTransport(iceTransport);\n          dtlsTransport.ondtlsstatechange = function() {\n            self._updateConnectionState();\n          };\n          dtlsTransport.onerror = function() {\n            // onerror does not set state to failed by itself.\n            dtlsTransport.state = 'failed';\n            self._updateConnectionState();\n          };\n\n          return {\n            iceGatherer: iceGatherer,\n            iceTransport: iceTransport,\n            dtlsTransport: dtlsTransport\n          };\n        };\n\n    // Start the RTP Sender and Receiver for a transceiver.\n    window.RTCPeerConnection.prototype._transceive = function(transceiver,\n        send, recv) {\n      var params = this._getCommonCapabilities(transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n      if (send && transceiver.rtpSender) {\n        params.encodings = transceiver.sendEncodingParameters;\n        params.rtcp = {\n          cname: SDPUtils.localCName\n        };\n        if (transceiver.recvEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpSender.send(params);\n      }\n      if (recv && transceiver.rtpReceiver) {\n        // remove RTX field in Edge 14942\n        if (transceiver.kind === 'video'\n            && transceiver.recvEncodingParameters\n            && browserDetails.version < 15019) {\n          transceiver.recvEncodingParameters.forEach(function(p) {\n            delete p.rtx;\n          });\n        }\n        params.encodings = transceiver.recvEncodingParameters;\n        params.rtcp = {\n          cname: transceiver.cname\n        };\n        if (transceiver.sendEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpReceiver.receive(params);\n      }\n    };\n\n    window.RTCPeerConnection.prototype.setLocalDescription =\n        function(description) {\n          var self = this;\n          var sections;\n          var sessionpart;\n          if (description.type === 'offer') {\n            // FIXME: What was the purpose of this empty if statement?\n            // if (!this._pendingOffer) {\n            // } else {\n            if (this._pendingOffer) {\n              // VERY limited support for SDP munging. Limited to:\n              // * changing the order of codecs\n              sections = SDPUtils.splitSections(description.sdp);\n              sessionpart = sections.shift();\n              sections.forEach(function(mediaSection, sdpMLineIndex) {\n                var caps = SDPUtils.parseRtpParameters(mediaSection);\n                self._pendingOffer[sdpMLineIndex].localCapabilities = caps;\n              });\n              this.transceivers = this._pendingOffer;\n              delete this._pendingOffer;\n            }\n          } else if (description.type === 'answer') {\n            sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n            sessionpart = sections.shift();\n            var isIceLite = SDPUtils.matchPrefix(sessionpart,\n                'a=ice-lite').length > 0;\n            sections.forEach(function(mediaSection, sdpMLineIndex) {\n              var transceiver = self.transceivers[sdpMLineIndex];\n              var iceGatherer = transceiver.iceGatherer;\n              var iceTransport = transceiver.iceTransport;\n              var dtlsTransport = transceiver.dtlsTransport;\n              var localCapabilities = transceiver.localCapabilities;\n              var remoteCapabilities = transceiver.remoteCapabilities;\n\n              var rejected = mediaSection.split('\\n', 1)[0]\n                  .split(' ', 2)[1] === '0';\n\n              if (!rejected && !transceiver.isDatachannel) {\n                var remoteIceParameters = SDPUtils.getIceParameters(\n                    mediaSection, sessionpart);\n                var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n                    mediaSection, sessionpart);\n                if (isIceLite) {\n                  remoteDtlsParameters.role = 'server';\n                }\n\n                if (!self.usingBundle || sdpMLineIndex === 0) {\n                  iceTransport.start(iceGatherer, remoteIceParameters,\n                      isIceLite ? 'controlling' : 'controlled');\n                  dtlsTransport.start(remoteDtlsParameters);\n                }\n\n                // Calculate intersection of capabilities.\n                var params = self._getCommonCapabilities(localCapabilities,\n                    remoteCapabilities);\n\n                // Start the RTCRtpSender. The RTCRtpReceiver for this\n                // transceiver has already been started in setRemoteDescription.\n                self._transceive(transceiver,\n                    params.codecs.length > 0,\n                    false);\n              }\n            });\n          }\n\n          this.localDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-local-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n\n          // If a success callback was provided, emit ICE candidates after it\n          // has been executed. Otherwise, emit callback after the Promise is\n          // resolved.\n          var hasCallback = arguments.length > 1 &&\n            typeof arguments[1] === 'function';\n          if (hasCallback) {\n            var cb = arguments[1];\n            window.setTimeout(function() {\n              cb();\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n                self._emitGatheringStateChange();\n              }\n              self._emitBufferedCandidates();\n            }, 0);\n          }\n          var p = Promise.resolve();\n          p.then(function() {\n            if (!hasCallback) {\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n                self._emitGatheringStateChange();\n              }\n              // Usually candidates will be emitted earlier.\n              window.setTimeout(self._emitBufferedCandidates.bind(self), 500);\n            }\n          });\n          return p;\n        };\n\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n        function(description) {\n          var self = this;\n          var stream = new MediaStream();\n          var receiverList = [];\n          var sections = SDPUtils.splitSections(description.sdp);\n          var sessionpart = sections.shift();\n          var isIceLite = SDPUtils.matchPrefix(sessionpart,\n              'a=ice-lite').length > 0;\n          this.usingBundle = SDPUtils.matchPrefix(sessionpart,\n              'a=group:BUNDLE ').length > 0;\n          sections.forEach(function(mediaSection, sdpMLineIndex) {\n            var lines = SDPUtils.splitLines(mediaSection);\n            var mline = lines[0].substr(2).split(' ');\n            var kind = mline[0];\n            var rejected = mline[1] === '0';\n            var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n\n            var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:');\n            if (mid.length) {\n              mid = mid[0].substr(6);\n            } else {\n              mid = SDPUtils.generateIdentifier();\n            }\n\n            // Reject datachannels which are not implemented yet.\n            if (kind === 'application' && mline[2] === 'DTLS/SCTP') {\n              self.transceivers[sdpMLineIndex] = {\n                mid: mid,\n                isDatachannel: true\n              };\n              return;\n            }\n\n            var transceiver;\n            var iceGatherer;\n            var iceTransport;\n            var dtlsTransport;\n            var rtpSender;\n            var rtpReceiver;\n            var sendEncodingParameters;\n            var recvEncodingParameters;\n            var localCapabilities;\n\n            var track;\n            // FIXME: ensure the mediaSection has rtcp-mux set.\n            var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n            var remoteIceParameters;\n            var remoteDtlsParameters;\n            if (!rejected) {\n              remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters.role = 'client';\n            }\n            recvEncodingParameters =\n                SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n            var cname;\n            // Gets the first SSRC. Note that with RTX there might be multiple\n            // SSRCs.\n            var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n                .map(function(line) {\n                  return SDPUtils.parseSsrcMedia(line);\n                })\n                .filter(function(obj) {\n                  return obj.attribute === 'cname';\n                })[0];\n            if (remoteSsrc) {\n              cname = remoteSsrc.value;\n            }\n\n            var isComplete = SDPUtils.matchPrefix(mediaSection,\n                'a=end-of-candidates', sessionpart).length > 0;\n            var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                .map(function(cand) {\n                  return SDPUtils.parseCandidate(cand);\n                })\n                .filter(function(cand) {\n                  return cand.component === '1';\n                });\n            if (description.type === 'offer' && !rejected) {\n              var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n                iceGatherer: self.transceivers[0].iceGatherer,\n                iceTransport: self.transceivers[0].iceTransport,\n                dtlsTransport: self.transceivers[0].dtlsTransport\n              } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n              if (isComplete && (!self.usingBundle || sdpMLineIndex === 0)) {\n                transports.iceTransport.setRemoteCandidates(cands);\n              }\n\n              localCapabilities = RTCRtpReceiver.getCapabilities(kind);\n\n              // filter RTX until additional stuff needed for RTX is implemented\n              // in adapter.js\n              if (browserDetails.version < 15019) {\n                localCapabilities.codecs = localCapabilities.codecs.filter(\n                    function(codec) {\n                      return codec.name !== 'rtx';\n                    });\n              }\n\n              sendEncodingParameters = [{\n                ssrc: (2 * sdpMLineIndex + 2) * 1001\n              }];\n\n              if (direction === 'sendrecv' || direction === 'sendonly') {\n                rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport,\n                    kind);\n\n                track = rtpReceiver.track;\n                receiverList.push([track, rtpReceiver]);\n                // FIXME: not correct when there are multiple streams but that\n                // is not currently supported in this shim.\n                stream.addTrack(track);\n              }\n\n              // FIXME: look at direction.\n              if (self.localStreams.length > 0 &&\n                  self.localStreams[0].getTracks().length >= sdpMLineIndex) {\n                var localTrack;\n                if (kind === 'audio') {\n                  localTrack = self.localStreams[0].getAudioTracks()[0];\n                } else if (kind === 'video') {\n                  localTrack = self.localStreams[0].getVideoTracks()[0];\n                }\n                if (localTrack) {\n                  // add RTX\n                  if (browserDetails.version >= 15019 && kind === 'video') {\n                    sendEncodingParameters[0].rtx = {\n                      ssrc: (2 * sdpMLineIndex + 2) * 1001 + 1\n                    };\n                  }\n                  rtpSender = new RTCRtpSender(localTrack,\n                      transports.dtlsTransport);\n                }\n              }\n\n              self.transceivers[sdpMLineIndex] = {\n                iceGatherer: transports.iceGatherer,\n                iceTransport: transports.iceTransport,\n                dtlsTransport: transports.dtlsTransport,\n                localCapabilities: localCapabilities,\n                remoteCapabilities: remoteCapabilities,\n                rtpSender: rtpSender,\n                rtpReceiver: rtpReceiver,\n                kind: kind,\n                mid: mid,\n                cname: cname,\n                sendEncodingParameters: sendEncodingParameters,\n                recvEncodingParameters: recvEncodingParameters\n              };\n              // Start the RTCRtpReceiver now. The RTPSender is started in\n              // setLocalDescription.\n              self._transceive(self.transceivers[sdpMLineIndex],\n                  false,\n                  direction === 'sendrecv' || direction === 'sendonly');\n            } else if (description.type === 'answer' && !rejected) {\n              transceiver = self.transceivers[sdpMLineIndex];\n              iceGatherer = transceiver.iceGatherer;\n              iceTransport = transceiver.iceTransport;\n              dtlsTransport = transceiver.dtlsTransport;\n              rtpSender = transceiver.rtpSender;\n              rtpReceiver = transceiver.rtpReceiver;\n              sendEncodingParameters = transceiver.sendEncodingParameters;\n              localCapabilities = transceiver.localCapabilities;\n\n              self.transceivers[sdpMLineIndex].recvEncodingParameters =\n                  recvEncodingParameters;\n              self.transceivers[sdpMLineIndex].remoteCapabilities =\n                  remoteCapabilities;\n              self.transceivers[sdpMLineIndex].cname = cname;\n\n              if ((isIceLite || isComplete) && cands.length) {\n                iceTransport.setRemoteCandidates(cands);\n              }\n              if (!self.usingBundle || sdpMLineIndex === 0) {\n                iceTransport.start(iceGatherer, remoteIceParameters,\n                    'controlling');\n                dtlsTransport.start(remoteDtlsParameters);\n              }\n\n              self._transceive(transceiver,\n                  direction === 'sendrecv' || direction === 'recvonly',\n                  direction === 'sendrecv' || direction === 'sendonly');\n\n              if (rtpReceiver &&\n                  (direction === 'sendrecv' || direction === 'sendonly')) {\n                track = rtpReceiver.track;\n                receiverList.push([track, rtpReceiver]);\n                stream.addTrack(track);\n              } else {\n                // FIXME: actually the receiver should be created later.\n                delete transceiver.rtpReceiver;\n              }\n            }\n          });\n\n          this.remoteDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-remote-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n          if (stream.getTracks().length) {\n            self.remoteStreams.push(stream);\n            window.setTimeout(function() {\n              var event = new Event('addstream');\n              event.stream = stream;\n              self.dispatchEvent(event);\n              if (self.onaddstream !== null) {\n                window.setTimeout(function() {\n                  self.onaddstream(event);\n                }, 0);\n              }\n\n              receiverList.forEach(function(item) {\n                var track = item[0];\n                var receiver = item[1];\n                var trackEvent = new Event('track');\n                trackEvent.track = track;\n                trackEvent.receiver = receiver;\n                trackEvent.streams = [stream];\n                self.dispatchEvent(trackEvent);\n                if (self.ontrack !== null) {\n                  window.setTimeout(function() {\n                    self.ontrack(trackEvent);\n                  }, 0);\n                }\n              });\n            }, 0);\n          }\n          if (arguments.length > 1 && typeof arguments[1] === 'function') {\n            window.setTimeout(arguments[1], 0);\n          }\n          return Promise.resolve();\n        };\n\n    window.RTCPeerConnection.prototype.close = function() {\n      this.transceivers.forEach(function(transceiver) {\n        /* not yet\n        if (transceiver.iceGatherer) {\n          transceiver.iceGatherer.close();\n        }\n        */\n        if (transceiver.iceTransport) {\n          transceiver.iceTransport.stop();\n        }\n        if (transceiver.dtlsTransport) {\n          transceiver.dtlsTransport.stop();\n        }\n        if (transceiver.rtpSender) {\n          transceiver.rtpSender.stop();\n        }\n        if (transceiver.rtpReceiver) {\n          transceiver.rtpReceiver.stop();\n        }\n      });\n      // FIXME: clean up tracks, local streams, remote streams, etc\n      this._updateSignalingState('closed');\n    };\n\n    // Update the signaling state.\n    window.RTCPeerConnection.prototype._updateSignalingState =\n        function(newState) {\n          this.signalingState = newState;\n          var event = new Event('signalingstatechange');\n          this.dispatchEvent(event);\n          if (this.onsignalingstatechange !== null) {\n            this.onsignalingstatechange(event);\n          }\n        };\n\n    // Determine whether to fire the negotiationneeded event.\n    window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded =\n        function() {\n          // Fire away (for now).\n          var event = new Event('negotiationneeded');\n          this.dispatchEvent(event);\n          if (this.onnegotiationneeded !== null) {\n            this.onnegotiationneeded(event);\n          }\n        };\n\n    // Update the connection state.\n    window.RTCPeerConnection.prototype._updateConnectionState = function() {\n      var self = this;\n      var newState;\n      var states = {\n        'new': 0,\n        closed: 0,\n        connecting: 0,\n        checking: 0,\n        connected: 0,\n        completed: 0,\n        failed: 0\n      };\n      this.transceivers.forEach(function(transceiver) {\n        states[transceiver.iceTransport.state]++;\n        states[transceiver.dtlsTransport.state]++;\n      });\n      // ICETransport.completed and connected are the same for this purpose.\n      states.connected += states.completed;\n\n      newState = 'new';\n      if (states.failed > 0) {\n        newState = 'failed';\n      } else if (states.connecting > 0 || states.checking > 0) {\n        newState = 'connecting';\n      } else if (states.disconnected > 0) {\n        newState = 'disconnected';\n      } else if (states.new > 0) {\n        newState = 'new';\n      } else if (states.connected > 0 || states.completed > 0) {\n        newState = 'connected';\n      }\n\n      if (newState !== self.iceConnectionState) {\n        self.iceConnectionState = newState;\n        var event = new Event('iceconnectionstatechange');\n        this.dispatchEvent(event);\n        if (this.oniceconnectionstatechange !== null) {\n          this.oniceconnectionstatechange(event);\n        }\n      }\n    };\n\n    window.RTCPeerConnection.prototype.createOffer = function() {\n      var self = this;\n      if (this._pendingOffer) {\n        throw new Error('createOffer called while there is a pending offer.');\n      }\n      var offerOptions;\n      if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n        offerOptions = arguments[0];\n      } else if (arguments.length === 3) {\n        offerOptions = arguments[2];\n      }\n\n      var tracks = [];\n      var numAudioTracks = 0;\n      var numVideoTracks = 0;\n      // Default to sendrecv.\n      if (this.localStreams.length) {\n        numAudioTracks = this.localStreams[0].getAudioTracks().length;\n        numVideoTracks = this.localStreams[0].getVideoTracks().length;\n      }\n      // Determine number of audio and video tracks we need to send/recv.\n      if (offerOptions) {\n        // Reject Chrome legacy constraints.\n        if (offerOptions.mandatory || offerOptions.optional) {\n          throw new TypeError(\n              'Legacy mandatory/optional constraints not supported.');\n        }\n        if (offerOptions.offerToReceiveAudio !== undefined) {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n        if (offerOptions.offerToReceiveVideo !== undefined) {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n      if (this.localStreams.length) {\n        // Push local streams.\n        this.localStreams[0].getTracks().forEach(function(track) {\n          tracks.push({\n            kind: track.kind,\n            track: track,\n            wantReceive: track.kind === 'audio' ?\n                numAudioTracks > 0 : numVideoTracks > 0\n          });\n          if (track.kind === 'audio') {\n            numAudioTracks--;\n          } else if (track.kind === 'video') {\n            numVideoTracks--;\n          }\n        });\n      }\n      // Create M-lines for recvonly streams.\n      while (numAudioTracks > 0 || numVideoTracks > 0) {\n        if (numAudioTracks > 0) {\n          tracks.push({\n            kind: 'audio',\n            wantReceive: true\n          });\n          numAudioTracks--;\n        }\n        if (numVideoTracks > 0) {\n          tracks.push({\n            kind: 'video',\n            wantReceive: true\n          });\n          numVideoTracks--;\n        }\n      }\n      // reorder tracks\n      tracks = sortTracks(tracks);\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      var transceivers = [];\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        // For each track, create an ice gatherer, ice transport,\n        // dtls transport, potentially rtpsender and rtpreceiver.\n        var track = mline.track;\n        var kind = mline.kind;\n        var mid = SDPUtils.generateIdentifier();\n\n        var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n          iceGatherer: transceivers[0].iceGatherer,\n          iceTransport: transceivers[0].iceTransport,\n          dtlsTransport: transceivers[0].dtlsTransport\n        } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n        var localCapabilities = RTCRtpSender.getCapabilities(kind);\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (browserDetails.version < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n        localCapabilities.codecs.forEach(function(codec) {\n          // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n          // by adding level-asymmetry-allowed=1\n          if (codec.name === 'H264' &&\n              codec.parameters['level-asymmetry-allowed'] === undefined) {\n            codec.parameters['level-asymmetry-allowed'] = '1';\n          }\n        });\n\n        var rtpSender;\n        var rtpReceiver;\n\n        // generate an ssrc now, to be used later in rtpSender.send\n        var sendEncodingParameters = [{\n          ssrc: (2 * sdpMLineIndex + 1) * 1001\n        }];\n        if (track) {\n          // add RTX\n          if (browserDetails.version >= 15019 && kind === 'video') {\n            sendEncodingParameters[0].rtx = {\n              ssrc: (2 * sdpMLineIndex + 1) * 1001 + 1\n            };\n          }\n          rtpSender = new RTCRtpSender(track, transports.dtlsTransport);\n        }\n\n        if (mline.wantReceive) {\n          rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n        }\n\n        transceivers[sdpMLineIndex] = {\n          iceGatherer: transports.iceGatherer,\n          iceTransport: transports.iceTransport,\n          dtlsTransport: transports.dtlsTransport,\n          localCapabilities: localCapabilities,\n          remoteCapabilities: null,\n          rtpSender: rtpSender,\n          rtpReceiver: rtpReceiver,\n          kind: kind,\n          mid: mid,\n          sendEncodingParameters: sendEncodingParameters,\n          recvEncodingParameters: null\n        };\n      });\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        var transceiver = transceivers[sdpMLineIndex];\n        sdp += SDPUtils.writeMediaSection(transceiver,\n            transceiver.localCapabilities, 'offer', self.localStreams[0]);\n      });\n\n      this._pendingOffer = transceivers;\n      var desc = new RTCSessionDescription({\n        type: 'offer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.createAnswer = function() {\n      var self = this;\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.isDatachannel) {\n          sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n              'c=IN IP4 0.0.0.0\\r\\n' +\n              'a=mid:' + transceiver.mid + '\\r\\n';\n          return;\n        }\n        // Calculate intersection of capabilities.\n        var commonCapabilities = self._getCommonCapabilities(\n            transceiver.localCapabilities,\n            transceiver.remoteCapabilities);\n\n        sdp += SDPUtils.writeMediaSection(transceiver, commonCapabilities,\n            'answer', self.localStreams[0]);\n      });\n\n      var desc = new RTCSessionDescription({\n        type: 'answer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n      if (!candidate) {\n        for (var j = 0; j < this.transceivers.length; j++) {\n          this.transceivers[j].iceTransport.addRemoteCandidate({});\n          if (this.usingBundle) {\n            return Promise.resolve();\n          }\n        }\n      } else {\n        var mLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < this.transceivers.length; i++) {\n            if (this.transceivers[i].mid === candidate.sdpMid) {\n              mLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = this.transceivers[mLineIndex];\n        if (transceiver) {\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return Promise.resolve();\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component !== '1') {\n            return Promise.resolve();\n          }\n          transceiver.iceTransport.addRemoteCandidate(cand);\n\n          // update the remoteDescription.\n          var sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[mLineIndex + 1] += (cand.type ? candidate.candidate.trim()\n              : 'a=end-of-candidates') + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      }\n      if (arguments.length > 1 && typeof arguments[1] === 'function') {\n        window.setTimeout(arguments[1], 0);\n      }\n      return Promise.resolve();\n    };\n\n    window.RTCPeerConnection.prototype.getStats = function() {\n      var promises = [];\n      this.transceivers.forEach(function(transceiver) {\n        ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n            'dtlsTransport'].forEach(function(method) {\n              if (transceiver[method]) {\n                promises.push(transceiver[method].getStats());\n              }\n            });\n      });\n      var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n          arguments[1];\n      var fixStatsType = function(stat) {\n        return {\n          inboundrtp: 'inbound-rtp',\n          outboundrtp: 'outbound-rtp',\n          candidatepair: 'candidate-pair',\n          localcandidate: 'local-candidate',\n          remotecandidate: 'remote-candidate'\n        }[stat.type] || stat.type;\n      };\n      return new Promise(function(resolve) {\n        // shim getStats with maplike support\n        var results = new Map();\n        Promise.all(promises).then(function(res) {\n          res.forEach(function(result) {\n            Object.keys(result).forEach(function(id) {\n              result[id].type = fixStatsType(result[id]);\n              results.set(id, result[id]);\n            });\n          });\n          if (cb) {\n            window.setTimeout(cb, 0, results);\n          }\n          resolve(results);\n        });\n      });\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimPeerConnection: edgeShim.shimPeerConnection,\n  shimGetUserMedia: __webpack_require__(2208)\n};\n\n\n\n/***/ }),\n\n/***/ 2208:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n\n\n\n/***/ }),\n\n/***/ 2209:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar browserDetails = __webpack_require__(1743).browserDetails;\n\nvar firefoxShim = {\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function() {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = mozRTCSessionDescription;\n      window.RTCIceCandidate = mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = RTCPeerConnection.prototype[method];\n          RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = RTCPeerConnection.prototype.getStats;\n    RTCPeerConnection.prototype.getStats = function(selector, onSucc, onErr) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimGetUserMedia: __webpack_require__(2210)\n};\n\n\n\n/***/ }),\n\n/***/ 2210:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logging = __webpack_require__(1743).log;\nvar browserDetails = __webpack_require__(1743).browserDetails;\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {\n        SecurityError: 'NotAllowedError',\n        PermissionDeniedError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    console.warn('navigator.getUserMedia has been replaced by ' +\n                 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n\n\n/***/ }),\n\n/***/ 2211:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n  // shimOnTrack: function() { },\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimGetUserMedia: function() {\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimGetUserMedia: safariShim.shimGetUserMedia\n  // TODO\n  // shimOnTrack: safariShim.shimOnTrack,\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n\n\n\n/***/ }),\n\n/***/ 2212:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*** IMPORTS FROM imports-loader ***/\nvar $ = __webpack_require__(0);\nvar jQuery = __webpack_require__(0);\n\n/*\n The MIT License (MIT)\n\n Copyright (c) 2016 Meetecho\n\n Permission is hereby granted, free of charge, to any person obtaining\n a copy of this software and associated documentation files (the \"Software\"),\n to deal in the Software without restriction, including without limitation\n the rights to use, copy, modify, merge, publish, distribute, sublicense,\n and/or sell copies of the Software, and to permit persons to whom the\n Software is furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included\n in all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n OTHER DEALINGS IN THE SOFTWARE.\n */\n\nvar adapter = __webpack_require__(2204);\n\n// List of sessions\nJanus.sessions = {};\n\n// Screensharing Chrome Extension ID\nJanus.extensionId = \"hapfgfdkleiggjjpfpenajgdnfckjpaj\";\nJanus.isExtensionEnabled = function() {\n    if(window.navigator.userAgent.match('Chrome')) {\n        var chromever = parseInt(window.navigator.userAgent.match(/Chrome\\/(.*) /)[1], 10);\n        var maxver = 33;\n        if(window.navigator.userAgent.match('Linux'))\n            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n        if(chromever >= 26 && chromever <= maxver) {\n            // Older versions of Chrome don't support this extension-based approach, so lie\n            return true;\n        }\n        return (document.getElementById('janus-extension-installed') !== null);\n    } else {\n        // Firefox of others, no need for the extension (but this doesn't mean it will work)\n        return true;\n    }\n};\n\nJanus.noop = function() {};\n\n// Initialization\nJanus.init = function(options) {\n    options = options || {};\n    options.callback = (typeof options.callback == \"function\") ? options.callback : Janus.noop;\n    if(Janus.initDone === true) {\n        // Already initialized\n        options.callback();\n    } else {\n        if(typeof console == \"undefined\" || typeof console.log == \"undefined\")\n            console = { log: function() {} };\n        // Console logging (all debugging disabled by default)\n        Janus.trace = Janus.noop;\n        Janus.debug = Janus.noop;\n        Janus.vdebug = Janus.noop;\n        Janus.log = Janus.noop;\n        Janus.warn = Janus.noop;\n        Janus.error = Janus.noop;\n        if(options.debug === true || options.debug === \"all\") {\n            // Enable all debugging levels\n            Janus.trace = console.trace.bind(console);\n            Janus.debug = console.debug.bind(console);\n            Janus.vdebug = console.debug.bind(console);\n            Janus.log = console.log.bind(console);\n            Janus.warn = console.warn.bind(console);\n            Janus.error = console.error.bind(console);\n        } else if(Array.isArray(options.debug)) {\n            for(var i in options.debug) {\n                var d = options.debug[i];\n                switch(d) {\n                case \"trace\":\n                    Janus.trace = console.trace.bind(console);\n                    break;\n                case \"debug\":\n                    Janus.debug = console.debug.bind(console);\n                    break;\n                case \"vdebug\":\n                    Janus.vdebug = console.debug.bind(console);\n                    break;\n                case \"log\":\n                    Janus.log = console.log.bind(console);\n                    break;\n                case \"warn\":\n                    Janus.warn = console.warn.bind(console);\n                    break;\n                case \"error\":\n                    Janus.error = console.error.bind(console);\n                    break;\n                default:\n                    console.error(\"Unknown debugging option '\" + d + \"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')\");\n                    break;\n                }\n            }\n        }\n        Janus.log(\"Initializing library\");\n        // Helper method to enumerate devices\n        Janus.listDevices = function(callback) {\n            callback = (typeof callback == \"function\") ? callback : Janus.noop;\n            if(navigator.mediaDevices) {\n                navigator.mediaDevices.getUserMedia({ audio: true, video: true })\n                    .then(function(stream) {\n                        navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                            Janus.debug(devices);\n                            callback(devices);\n                            // Get rid of the now useless stream\n                            try {\n                                stream.stop();\n                            } catch(e) {}\n                            try {\n                                var tracks = stream.getTracks();\n                                for(var i in tracks) {\n                                    var mst = tracks[i];\n                                    if(mst !== null && mst !== undefined)\n                                        mst.stop();\n                                }\n                            } catch(e) {}\n                        });\n                    })\n                    .catch(function(err) {\n                        Janus.error(err);\n                        callback([]);\n                    });\n            } else {\n                Janus.warn(\"navigator.mediaDevices unavailable\");\n                callback([]);\n            }\n        }\n        // Helper methods to attach/reattach a stream to a video element (previously part of adapter.js)\n        Janus.attachMediaStream = function(element, stream) {\n            if(adapter.browserDetails.browser === 'chrome') {\n                var chromever = adapter.browserDetails.version;\n                if(chromever >= 43) {\n                    element.srcObject = stream;\n                } else if(typeof element.src !== 'undefined') {\n                    element.src = URL.createObjectURL(stream);\n                } else {\n                    Janus.error(\"Error attaching stream to element\");\n                }\n            } else {\n                element.srcObject = stream;\n            }\n        };\n        Janus.reattachMediaStream = function(to, from) {\n            if(adapter.browserDetails.browser === 'chrome') {\n                var chromever = adapter.browserDetails.version;\n                if(chromever >= 43) {\n                    to.srcObject = from.srcObject;\n                } else if(typeof to.src !== 'undefined') {\n                    to.src = from.src;\n                }\n            } else {\n                to.srcObject = from.srcObject;\n            }\n        };\n        // Prepare a helper method to send AJAX requests in a syntax similar to jQuery (at least for what we care)\n        Janus.ajax = function(params) {\n            // Check params\n            if(params === null || params === undefined)\n                return;\n            params.success = (typeof params.success == \"function\") ? params.success : Janus.noop;\n            params.error = (typeof params.error == \"function\") ? params.error : Janus.noop;\n            // Make sure there's an URL\n            if(params.url === null || params.url === undefined) {\n                Janus.error('Missing url', params.url);\n                params.error(null, -1, 'Missing url');\n                return;\n            }\n            // Validate async\n            params.async = (params.async === null || params.async === undefined) ? true : (params.async === true);\n            Janus.log(params);\n            // IE doesn't even know what WebRTC is, so no polyfill needed\n            var XHR = new XMLHttpRequest();\n            XHR.open(params.type, params.url, params.async);\n            if(params.contentType !== null && params.contentType !== undefined)\n                XHR.setRequestHeader('Content-type', params.contentType);\n            if(params.async) {\n                XHR.onreadystatechange = function () {\n                    if(XHR.readyState != 4)\n                        return;\n                    if(XHR.status !== 200) {\n                        // Got an error?\n                        if(XHR.status === 0)\n                            XHR.status = \"error\";\n                        params.error(XHR, XHR.status, \"\");\n                        return;\n                    }\n                    // Got payload\n                    params.success(JSON.parse(XHR.responseText));\n                };\n            }\n            try {\n                XHR.send(params.data);\n                if(!params.async) {\n                    if(XHR.status !== 200) {\n                        // Got an error?\n                        if(XHR.status === 0)\n                            XHR.status = \"error\";\n                        params.error(XHR, XHR.status, \"\");\n                        return;\n                    }\n                    // Got payload\n                    params.success(JSON.parse(XHR.responseText));\n                }\n            } catch(e) {\n                // Something broke up\n                params.error(XHR, 'error', '');\n            };\n        };\n        // Detect tab close: make sure we don't loose existing onbeforeunload handlers\n        var oldOBF = window.onbeforeunload;\n        window.onbeforeunload = function() {\n            Janus.log(\"Closing window\");\n            for(var s in Janus.sessions) {\n                if(Janus.sessions[s] !== null && Janus.sessions[s] !== undefined &&\n                    Janus.sessions[s].destroyOnUnload) {\n                    Janus.log(\"Destroying session \" + s);\n                    Janus.sessions[s].destroy({asyncRequest: false});\n                }\n            }\n            if(oldOBF && typeof oldOBF == \"function\")\n                oldOBF();\n        }\n        function addJsList(srcArray) {\n            if (!srcArray || !Array.isArray(srcArray) || srcArray.length == 0) {\n                options.callback();\n            }\n            var count = 0;\n            addJs(srcArray[count],next);\n\n            function next() {\n                count++;\n                if (count<srcArray.length) {\n                    addJs(srcArray[count],next);\n                }\n                else {\n                    options.callback();\n                }\n            }\n        }\n        function addJs(src,done) {\n            try {\n                if(adapter) {\n                    // Already loaded\n                    Janus.debug(src + \" already loaded, skipping\");\n                    done();\n                    return;\n                }\n            } catch(e) {};\n            var oHead = document.getElementsByTagName('head').item(0);\n            var oScript = document.createElement(\"script\");\n            oScript.type = \"text/javascript\";\n            oScript.src = src;\n            oScript.onload = function() {\n                Janus.log(\"Library \" + src + \" loaded\");\n                done();\n            }\n            oHead.appendChild(oScript);\n        }\n        Janus.initDone = true;\n        addJsList([\"adapter.js\"]);\t// We may need others in the future\n    }\n};\n\n// Helper method to check whether WebRTC is supported by this browser\nJanus.isWebrtcSupported = function() {\n    return window.RTCPeerConnection !== undefined && window.RTCPeerConnection !== null &&\n        navigator.getUserMedia !== undefined && navigator.getUserMedia !== null;\n};\n\n\n// Janus session object\nfunction Janus(gatewayCallbacks) {\n    if(Janus.initDone === undefined) {\n        gatewayCallbacks.error(\"Library not initialized\");\n        return {};\n    }\n    if(!Janus.isWebrtcSupported()) {\n        gatewayCallbacks.error(\"WebRTC not supported by this browser\");\n        return {};\n    }\n    Janus.log(\"Library initialized: \" + Janus.initDone);\n    gatewayCallbacks = gatewayCallbacks || {};\n    gatewayCallbacks.success = (typeof gatewayCallbacks.success == \"function\") ? gatewayCallbacks.success : Janus.noop;\n    gatewayCallbacks.error = (typeof gatewayCallbacks.error == \"function\") ? gatewayCallbacks.error : Janus.noop;\n    gatewayCallbacks.destroyed = (typeof gatewayCallbacks.destroyed == \"function\") ? gatewayCallbacks.destroyed : Janus.noop;\n    if(gatewayCallbacks.server === null || gatewayCallbacks.server === undefined) {\n        gatewayCallbacks.error(\"Invalid gateway url\");\n        return {};\n    }\n    var websockets = false;\n    var ws = null;\n    var wsHandlers = {};\n    var wsKeepaliveTimeoutId = null;\n\n    var servers = null, serversIndex = 0;\n    var server = gatewayCallbacks.server;\n    if(Array.isArray(server)) {\n        Janus.log(\"Multiple servers provided (\" + server.length + \"), will use the first that works\");\n        server = null;\n        servers = gatewayCallbacks.server;\n        Janus.debug(servers);\n    } else {\n        if(server.indexOf(\"ws\") === 0) {\n            websockets = true;\n            Janus.log(\"Using WebSockets to contact Janus: \" + server);\n        } else {\n            websockets = false;\n            Janus.log(\"Using REST API to contact Janus: \" + server);\n        }\n    }\n    var iceServers = gatewayCallbacks.iceServers;\n    if(iceServers === undefined || iceServers === null || iceServers.length === 0) {\n        iceServers = [{urls: \"stun:stun.l.google.com:19302\"}];\n        Janus.log('using ice', iceServers);\n    }\n    var iceTransportPolicy = gatewayCallbacks.iceTransportPolicy;\n    // Whether IPv6 candidates should be gathered\n    var ipv6Support = gatewayCallbacks.ipv6;\n    if(ipv6Support === undefined || ipv6Support === null)\n        ipv6Support = false;\n    // Optional max events\n    var maxev = null;\n    if(gatewayCallbacks.max_poll_events !== undefined && gatewayCallbacks.max_poll_events !== null)\n        maxev = gatewayCallbacks.max_poll_events;\n    if(maxev < 1)\n        maxev = 1;\n    // Token to use (only if the token based authentication mechanism is enabled)\n    var token = null;\n    if(gatewayCallbacks.token !== undefined && gatewayCallbacks.token !== null)\n        token = gatewayCallbacks.token;\n    // API secret to use (only if the shared API secret is enabled)\n    var apisecret = null;\n    if(gatewayCallbacks.apisecret !== undefined && gatewayCallbacks.apisecret !== null)\n        apisecret = gatewayCallbacks.apisecret;\n    // Whether we should destroy this session when onbeforeunload is called\n    this.destroyOnUnload = true;\n    if(gatewayCallbacks.destroyOnUnload !== undefined && gatewayCallbacks.destroyOnUnload !== null)\n        this.destroyOnUnload = (gatewayCallbacks.destroyOnUnload === true);\n\n    var connected = false;\n    var sessionId = null;\n    var pluginHandles = {};\n    var that = this;\n    var retries = 0;\n    var transactions = {};\n    createSession(gatewayCallbacks);\n\n    // Public methods\n    this.getServer = function() { return server; };\n    this.isConnected = function() { return connected; };\n    this.getSessionId = function() { return sessionId; };\n    this.destroy = function(callbacks) { destroySession(callbacks, true); };\n    this.attach = function(callbacks) { createHandle(callbacks); };\n\n    // Private method to create random identifiers (e.g., transaction)\n    function randomString(len) {\n        var charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var randomString = '';\n        for (var i = 0; i < len; i++) {\n            var randomPoz = Math.floor(Math.random() * charSet.length);\n            randomString += charSet.substring(randomPoz,randomPoz+1);\n        }\n        return randomString;\n    }\n\n    function eventHandler() {\n        if(sessionId == null)\n            return;\n        Janus.debug('Long poll...');\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var longpoll = server + \"/\" + sessionId + \"?rid=\" + new Date().getTime();\n        if(maxev !== undefined && maxev !== null)\n            longpoll = longpoll + \"&maxev=\" + maxev;\n        if(token !== null && token !== undefined)\n            longpoll = longpoll + \"&token=\" + token;\n        if(apisecret !== null && apisecret !== undefined)\n            longpoll = longpoll + \"&apisecret=\" + apisecret;\n        Janus.ajax({\n            type: 'GET',\n            url: longpoll,\n            cache: false,\n            timeout: 60000,\t// FIXME\n            success: handleEvent,\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\n                //~ clearTimeout(timeoutTimer);\n                retries++;\n                if(retries > 3) {\n                    // Did we just lose the gateway? :-(\n                    connected = false;\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                    return;\n                }\n                eventHandler();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private event handler: this will trigger plugin callbacks, if set\n    function handleEvent(json) {\n        retries = 0;\n        if(!websockets && sessionId !== undefined && sessionId !== null)\n            setTimeout(eventHandler, 200);\n        if(!websockets && Array.isArray(json)) {\n            // We got an array: it means we passed a maxev > 1, iterate on all objects\n            for(var i=0; i<json.length; i++) {\n                handleEvent(json[i]);\n            }\n            return;\n        }\n        if(json[\"janus\"] === \"keepalive\") {\n            // Nothing happened\n            Janus.vdebug(\"Got a keepalive on session \" + sessionId);\n            return;\n        } else if(json[\"janus\"] === \"ack\") {\n            // Just an ack, we can probably ignore\n            Janus.debug(\"Got an ack on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"success\") {\n            // Success!\n            Janus.debug(\"Got a success on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"webrtcup\") {\n            // The PeerConnection with the gateway is up! Notify this\n            Janus.debug(\"Got a webrtcup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(true);\n            return;\n        } else if(json[\"janus\"] === \"hangup\") {\n            // A plugin asked the core to hangup a PeerConnection on one of our handles\n            Janus.debug(\"Got a hangup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(false);\n            pluginHandle.hangup();\n        } else if(json[\"janus\"] === \"detached\") {\n            // A plugin asked the core to detach one of our handles\n            Janus.debug(\"Got a detached event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                // Don't warn here because destroyHandle causes this situation.\n                return;\n            }\n            pluginHandle.ondetached();\n            pluginHandle.detach();\n        } else if(json[\"janus\"] === \"media\") {\n            // Media started/stopped flowing\n            Janus.debug(\"Got a media event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.mediaState(json[\"type\"], json[\"receiving\"]);\n        } else if(json[\"janus\"] === \"slowlink\") {\n            Janus.debug(\"Got a slowlink event on session \" + sessionId);\n            Janus.debug(json);\n            // Trouble uplink or downlink\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.slowLink(json[\"uplink\"], json[\"nacks\"]);\n        } else if(json[\"janus\"] === \"error\") {\n            // Oops, something wrong happened\n            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"event\") {\n            Janus.debug(\"Got a plugin event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var plugindata = json[\"plugindata\"];\n            if(plugindata === undefined || plugindata === null) {\n                Janus.warn(\"Missing plugindata...\");\n                return;\n            }\n            Janus.debug(\"  -- Event is coming from \" + sender + \" (\" + plugindata[\"plugin\"] + \")\");\n            var data = plugindata[\"data\"];\n            Janus.debug(data);\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            var jsep = json[\"jsep\"];\n            if(jsep !== undefined && jsep !== null) {\n                Janus.debug(\"Handling SDP as well...\");\n                Janus.debug(jsep);\n            }\n            var callback = pluginHandle.onmessage;\n            if(callback !== null && callback !== undefined) {\n                Janus.debug(\"Notifying application...\");\n                // Send to callback specified when attaching plugin handle\n                callback(data, jsep);\n            } else {\n                // Send to generic callback (?)\n                Janus.debug(\"No provided notification callback\");\n            }\n        } else {\n            Janus.warn(\"Unkown message/event  '\" + json[\"janus\"] + \"' on session \" + sessionId);\n            Janus.debug(json);\n        }\n    }\n\n    // Private helper to send keep-alive messages on WebSockets\n    function keepAlive() {\n        if(server === null || !websockets || !connected)\n            return;\n        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n        var request = { \"janus\": \"keepalive\", \"session_id\": sessionId, \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        ws.send(JSON.stringify(request));\n    }\n\n    // Private method to create a session\n    function createSession(callbacks) {\n        var transaction = randomString(12);\n        var request = { \"janus\": \"create\", \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(server === null && Array.isArray(servers)) {\n            // We still need to find a working server from the list we were given\n            server = servers[serversIndex];\n            if(server.indexOf(\"ws\") === 0) {\n                websockets = true;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying WebSockets to contact Janus (\" + server + \")\");\n            } else {\n                websockets = false;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying REST API to contact Janus (\" + server + \")\");\n            }\n        }\n        if(websockets) {\n            ws = new WebSocket(server, 'janus-protocol');\n            wsHandlers = {\n                'error': function() {\n                    Janus.error(\"Error connecting to the Janus WebSockets server... \" + server);\n                    if (Array.isArray(servers)) {\n                        serversIndex++;\n                        if (serversIndex == servers.length) {\n                            // We tried all the servers the user gave us and they all failed\n                            callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                            return;\n                        }\n                        // Let's try the next server\n                        server = null;\n                        setTimeout(function() {\n                            createSession(callbacks);\n                        }, 200);\n                        return;\n                    }\n                    callbacks.error(\"Error connecting to the Janus WebSockets server: Is the gateway down?\");\n                },\n\n                'open': function() {\n                    // We need to be notified about the success\n                    transactions[transaction] = function(json) {\n                        Janus.debug(json);\n                        if (json[\"janus\"] !== \"success\") {\n                            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                            callbacks.error(json[\"error\"].reason);\n                            return;\n                        }\n                        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n                        connected = true;\n                        sessionId = json.data[\"id\"];\n                        Janus.log(\"Created session: \" + sessionId);\n                        Janus.sessions[sessionId] = that;\n                        callbacks.success();\n                    };\n                    ws.send(JSON.stringify(request));\n                },\n\n                'message': function(event) {\n                    handleEvent(JSON.parse(event.data));\n                },\n\n                'close': function() {\n                    if (server === null || !connected) {\n                        return;\n                    }\n                    connected = false;\n                    // FIXME What if this is called when the page is closed?\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                }\n            };\n\n            for(var eventName in wsHandlers) {\n                ws.addEventListener(eventName, wsHandlers[eventName]);\n            }\n\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(json[\"error\"].reason);\n                    return;\n                }\n                connected = true;\n                sessionId = json.data[\"id\"];\n                Janus.log(\"Created session: \" + sessionId);\n                Janus.sessions[sessionId] = that;\n                eventHandler();\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                if(Array.isArray(servers)) {\n                    serversIndex++;\n                    if(serversIndex == servers.length) {\n                        // We tried all the servers the user gave us and they all failed\n                        callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                        return;\n                    }\n                    // Let's try the next server\n                    server = null;\n                    setTimeout(function() { createSession(callbacks); }, 200);\n                    return;\n                }\n                if(errorThrown === \"\")\n                    callbacks.error(textStatus + \": Is the gateway down?\");\n                else\n                    callbacks.error(textStatus + \": \" + errorThrown);\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to destroy a session\n    function destroySession(callbacks) {\n        callbacks = callbacks || {};\n        // FIXME This method triggers a success even when we fail\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying session \" + sessionId + \" (async=\" + asyncRequest + \")\");\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.success();\n            return;\n        }\n        if(sessionId === undefined || sessionId === null) {\n            Janus.warn(\"No session to destroy\");\n            callbacks.success();\n            gatewayCallbacks.destroyed();\n            return;\n        }\n        delete Janus.sessions[sessionId];\n        // Destroy all handles first\n        for(var ph in pluginHandles) {\n            var phv = pluginHandles[ph];\n            Janus.log(\"Destroying handle \" + phv.id + \" (\" + phv.plugin + \")\");\n            destroyHandle(phv.id, {asyncRequest: asyncRequest});\n        }\n        // Ok, go on\n        var request = { \"janus\": \"destroy\", \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n\n            var unbindWebSocket = function() {\n                for(var eventName in wsHandlers) {\n                    ws.removeEventListener(eventName, wsHandlers[eventName]);\n                }\n                ws.removeEventListener('message', onUnbindMessage);\n                ws.removeEventListener('error', onUnbindError);\n                if(wsKeepaliveTimeoutId) {\n                    clearTimeout(wsKeepaliveTimeoutId);\n                }\n            };\n\n            var onUnbindMessage = function(event){\n                var data = JSON.parse(event.data);\n                if(data.session_id == request.session_id && data.transaction == request.transaction) {\n                    unbindWebSocket();\n                    callbacks.success();\n                    gatewayCallbacks.destroyed();\n                }\n            };\n            var onUnbindError = function(event) {\n                unbindWebSocket();\n                callbacks.error(\"Failed to destroy the gateway: Is the gateway down?\");\n                gatewayCallbacks.destroyed();\n            };\n\n            ws.addEventListener('message', onUnbindMessage);\n            ws.addEventListener('error', onUnbindError);\n\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId,\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.log(\"Destroyed session:\");\n                Janus.debug(json);\n                sessionId = null;\n                connected = false;\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // Reset everything anyway\n                sessionId = null;\n                connected = false;\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to create a plugin handle\n    function createHandle(callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        callbacks.consentDialog = (typeof callbacks.consentDialog == \"function\") ? callbacks.consentDialog : Janus.noop;\n        callbacks.mediaState = (typeof callbacks.mediaState == \"function\") ? callbacks.mediaState : Janus.noop;\n        callbacks.webrtcState = (typeof callbacks.webrtcState == \"function\") ? callbacks.webrtcState : Janus.noop;\n        callbacks.slowLink = (typeof callbacks.slowLink == \"function\") ? callbacks.slowLink : Janus.noop;\n        callbacks.onmessage = (typeof callbacks.onmessage == \"function\") ? callbacks.onmessage : Janus.noop;\n        callbacks.onlocalstream = (typeof callbacks.onlocalstream == \"function\") ? callbacks.onlocalstream : Janus.noop;\n        callbacks.onremotestream = (typeof callbacks.onremotestream == \"function\") ? callbacks.onremotestream : Janus.noop;\n        callbacks.ondata = (typeof callbacks.ondata == \"function\") ? callbacks.ondata : Janus.noop;\n        callbacks.ondataopen = (typeof callbacks.ondataopen == \"function\") ? callbacks.ondataopen : Janus.noop;\n        callbacks.oncleanup = (typeof callbacks.oncleanup == \"function\") ? callbacks.oncleanup : Janus.noop;\n        callbacks.ondetached = (typeof callbacks.ondetached == \"function\") ? callbacks.ondetached : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var plugin = callbacks.plugin;\n        if(plugin === undefined || plugin === null) {\n            Janus.error(\"Invalid plugin\");\n            callbacks.error(\"Invalid plugin\");\n            return;\n        }\n        var transaction = randomString(12);\n        var request = { \"janus\": \"attach\", \"plugin\": plugin, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            transactions[transaction] = function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            };\n            request[\"session_id\"] = sessionId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a message\n    function sendMessage(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var message = callbacks.message;\n        var jsep = callbacks.jsep;\n        var transaction = randomString(12);\n        var request = { \"janus\": \"message\", \"body\": message, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(jsep !== null && jsep !== undefined)\n            request.jsep = jsep;\n        Janus.debug(\"Sending message to plugin (handle=\" + handleId + \"):\");\n        Janus.debug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            transactions[transaction] = function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            };\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                callbacks.error(textStatus + \": \" + errorThrown);\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a trickle candidate\n    function sendTrickleCandidate(handleId, candidate) {\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"trickle\", \"candidate\": candidate, \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        Janus.vdebug(\"Sending trickle candidate (handle=\" + handleId + \"):\");\n        Janus.vdebug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.vdebug(\"Candidate sent!\");\n                Janus.vdebug(json);\n                if(json[\"janus\"] !== \"ack\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    return;\n                }\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a data channel message\n    function sendData(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        var text = callbacks.text;\n        if(text === null || text === undefined) {\n            Janus.warn(\"Invalid text\");\n            callbacks.error(\"Invalid text\");\n            return;\n        }\n        Janus.log(\"Sending string on data channel: \" + text);\n        config.dataChannel.send(text);\n        callbacks.success();\n    }\n\n    // Private method to send a DTMF tone\n    function sendDtmf(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.dtmfSender === null || config.dtmfSender === undefined) {\n            // Create the DTMF sender, if possible\n            if(config.myStream !== undefined && config.myStream !== null) {\n                var tracks = config.myStream.getAudioTracks();\n                if(tracks !== null && tracks !== undefined && tracks.length > 0) {\n                    var local_audio_track = tracks[0];\n                    config.dtmfSender = config.pc.createDTMFSender(local_audio_track);\n                    Janus.log(\"Created DTMF Sender\");\n                    config.dtmfSender.ontonechange = function(tone) { Janus.debug(\"Sent DTMF tone: \" + tone.tone); };\n                }\n            }\n            if(config.dtmfSender === null || config.dtmfSender === undefined) {\n                Janus.warn(\"Invalid DTMF configuration\");\n                callbacks.error(\"Invalid DTMF configuration\");\n                return;\n            }\n        }\n        var dtmf = callbacks.dtmf;\n        if(dtmf === null || dtmf === undefined) {\n            Janus.warn(\"Invalid DTMF parameters\");\n            callbacks.error(\"Invalid DTMF parameters\");\n            return;\n        }\n        var tones = dtmf.tones;\n        if(tones === null || tones === undefined) {\n            Janus.warn(\"Invalid DTMF string\");\n            callbacks.error(\"Invalid DTMF string\");\n            return;\n        }\n        var duration = dtmf.duration;\n        if(duration === null || duration === undefined)\n            duration = 500;\t// We choose 500ms as the default duration for a tone\n        var gap = dtmf.gap;\n        if(gap === null || gap === undefined)\n            gap = 50;\t// We choose 50ms as the default gap between tones\n        Janus.debug(\"Sending DTMF string \" + tones + \" (duration \" + duration + \"ms, gap \" + gap + \"ms)\");\n        config.dtmfSender.insertDTMF(tones, duration, gap);\n    }\n\n    // Private method to destroy a plugin handle\n    function destroyHandle(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying handle \" + handleId + \" (sync=\" + asyncRequest + \")\");\n        cleanupWebrtc(handleId);\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"detach\", \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            delete pluginHandles[handleId];\n            callbacks.success();\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.log(\"Destroyed handle:\");\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                delete pluginHandles[handleId];\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // We cleanup anyway\n                delete pluginHandles[handleId];\n                callbacks.success();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // WebRTC stuff\n    function streamsDone(handleId, jsep, media, callbacks, stream) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.debug(\"streamsDone:\", stream);\n        config.myStream = stream;\n        var pc_config = {\"iceServers\": iceServers, \"iceTransportPolicy\": iceTransportPolicy};\n        //~ var pc_constraints = {'mandatory': {'MozDontOfferDataChannel':true}};\n        var pc_constraints = {\n            \"optional\": [{\"DtlsSrtpKeyAgreement\": true}]\n        };\n        if(ipv6Support === true) {\n            // FIXME This is only supported in Chrome right now\n            // For support in Firefox track this: https://bugzilla.mozilla.org/show_bug.cgi?id=797262\n            pc_constraints.optional.push({\"googIPv6\":true});\n        }\n        if(adapter.browserDetails.browser === \"edge\") {\n            // This is Edge, enable BUNDLE explicitly\n            pc_config.bundlePolicy = \"max-bundle\";\n        }\n        Janus.log(\"Creating PeerConnection\");\n        Janus.debug(pc_constraints);\n        config.pc = new RTCPeerConnection(pc_config, pc_constraints);\n        Janus.debug(config.pc);\n        if(config.pc.getStats) {\t// FIXME\n            config.volume.value = 0;\n            config.bitrate.value = \"0 kbits/sec\";\n        }\n        Janus.log(\"Preparing local SDP and gathering candidates (trickle=\" + config.trickle + \")\");\n        config.pc.onicecandidate = function(event) {\n            if (event.candidate == null ||\n                (adapter.browserDetails.browser === 'edge' && event.candidate.candidate.indexOf('endOfCandidates') > 0)) {\n                Janus.log(\"End of candidates.\");\n                config.iceDone = true;\n                if(config.trickle === true) {\n                    // Notify end of candidates\n                    sendTrickleCandidate(handleId, {\"completed\": true});\n                } else {\n                    // No trickle, time to send the complete SDP (including all candidates)\n                    sendSDP(handleId, callbacks);\n                }\n            } else {\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var candidate = {\n                    \"candidate\": event.candidate.candidate,\n                    \"sdpMid\": event.candidate.sdpMid,\n                    \"sdpMLineIndex\": event.candidate.sdpMLineIndex\n                };\n                if(config.trickle === true) {\n                    // Send candidate\n                    sendTrickleCandidate(handleId, candidate);\n                }\n            }\n        };\n        if(stream !== null && stream !== undefined) {\n            Janus.log('Adding local stream');\n            config.pc.addStream(stream);\n            pluginHandle.onlocalstream(stream);\n        }\n        config.pc.onaddstream = function(remoteStream) {\n            Janus.log(\"Handling Remote Stream\");\n            Janus.debug(remoteStream);\n            config.remoteStream = remoteStream;\n            pluginHandle.onremotestream(remoteStream.stream);\n        };\n        // Any data channel to create?\n        if(isDataEnabled(media)) {\n            Janus.log(\"Creating data channel\");\n            var onDataChannelMessage = function(event) {\n                Janus.log('Received message on data channel: ' + event.data);\n                pluginHandle.ondata(event.data);\t// FIXME\n            }\n            var onDataChannelStateChange = function() {\n                var dcState = config.dataChannel !== null ? config.dataChannel.readyState : \"null\";\n                Janus.log('State change on data channel: ' + dcState);\n                if(dcState === 'open') {\n                    pluginHandle.ondataopen();\t// FIXME\n                }\n            }\n            var onDataChannelError = function(error) {\n                Janus.error('Got error on data channel:', error);\n                // TODO\n            }\n            // Until we implement the proxying of open requests within the Janus core, we open a channel ourselves whatever the case\n            config.dataChannel = config.pc.createDataChannel(\"JanusDataChannel\", {ordered:false});\t// FIXME Add options (ordered, maxRetransmits, etc.)\n            config.dataChannel.onmessage = onDataChannelMessage;\n            config.dataChannel.onopen = onDataChannelStateChange;\n            config.dataChannel.onclose = onDataChannelStateChange;\n            config.dataChannel.onerror = onDataChannelError;\n        }\n        // Create offer/answer now\n        if(jsep === null || jsep === undefined) {\n            createOffer(handleId, media, callbacks);\n        } else {\n            if(adapter.browserDetails.browser === \"edge\") {\n                // This is Edge, add an a=end-of-candidates at the end\n                jsep.sdp += \"a=end-of-candidates\\r\\n\";\n            }\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    createAnswer(handleId, media, callbacks);\n                }, callbacks.error);\n        }\n    }\n\n    function prepareWebrtc(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var media = callbacks.media;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Are we updating a session?\n        if(config.pc !== undefined && config.pc !== null) {\n            Janus.log(\"Updating existing media session\");\n            // Create offer/answer now\n            if(jsep === null || jsep === undefined) {\n                createOffer(handleId, media, callbacks);\n            } else {\n                if(adapter.browserDetails.browser === \"edge\") {\n                    // This is Edge, add an a=end-of-candidates at the end\n                    jsep.sdp += \"a=end-of-candidates\\r\\n\";\n                }\n                config.pc.setRemoteDescription(\n                    new RTCSessionDescription(jsep),\n                    function() {\n                        Janus.log(\"Remote description accepted!\");\n                        createAnswer(handleId, media, callbacks);\n                    }, callbacks.error);\n            }\n            return;\n        }\n        // Was a MediaStream object passed, or do we need to take care of that?\n        if(callbacks.stream !== null && callbacks.stream !== undefined) {\n            var stream = callbacks.stream;\n            Janus.log(\"MediaStream provided by the application\");\n            Janus.debug(stream);\n            // Skip the getUserMedia part\n            config.streamExternal = true;\n            streamsDone(handleId, jsep, media, callbacks, stream);\n            return;\n        }\n        config.trickle = isTrickleEnabled(callbacks.trickle);\n        if(isAudioSendEnabled(media) || isVideoSendEnabled(media)) {\n            var constraints = { mandatory: {}, optional: []};\n            pluginHandle.consentDialog(true);\n            var audioSupport = isAudioSendEnabled(media);\n            if(audioSupport === true && media != undefined && media != null) {\n                if(typeof media.audio === 'object') {\n                    audioSupport = media.audio;\n                }\n            }\n            var videoSupport = isVideoSendEnabled(media);\n            if(videoSupport === true && media != undefined && media != null) {\n                if(media.video && media.video != 'screen' && media.video != 'window') {\n                    var width = 0;\n                    var height = 0, maxHeight = 0;\n                    if(media.video === 'lowres') {\n                        // Small resolution, 4:3\n                        height = 240;\n                        maxHeight = 240;\n                        width = 320;\n                    } else if(media.video === 'lowres-16:9') {\n                        // Small resolution, 16:9\n                        height = 180;\n                        maxHeight = 180;\n                        width = 320;\n                    } else if(media.video === 'hires' || media.video === 'hires-16:9' ) {\n                        // High resolution is only 16:9\n                        height = 720;\n                        maxHeight = 720;\n                        width = 1280;\n                        if(navigator.mozGetUserMedia) {\n                            var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                            if(firefoxVer < 38) {\n                                // Unless this is and old Firefox, which doesn't support it\n                                Janus.warn(media.video + \" unsupported, falling back to stdres (old Firefox)\");\n                                height = 480;\n                                maxHeight = 480;\n                                width  = 640;\n                            }\n                        }\n                    } else if(media.video === 'stdres') {\n                        // Normal resolution, 4:3\n                        height = 480;\n                        maxHeight = 480;\n                        width  = 640;\n                    } else if(media.video === 'stdres-16:9') {\n                        // Normal resolution, 16:9\n                        height = 360;\n                        maxHeight = 360;\n                        width = 640;\n                    } else {\n                        Janus.log(\"Default video setting (\" + media.video + \") is stdres 4:3\");\n                        height = 480;\n                        maxHeight = 480;\n                        width = 640;\n                    }\n                    Janus.log(\"Adding media constraint \" + media.video);\n                    if(navigator.mozGetUserMedia) {\n                        var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(firefoxVer < 38) {\n                            videoSupport = {\n                                'require': ['height', 'width'],\n                                'height': {'max': maxHeight, 'min': height},\n                                'width':  {'max': width,  'min': width}\n                            };\n                        } else {\n                            // http://stackoverflow.com/questions/28282385/webrtc-firefox-constraints/28911694#28911694\n                            // https://github.com/meetecho/janus-gateway/pull/246\n                            videoSupport = {\n                                'height': {'ideal': height},\n                                'width':  {'ideal': width}\n                            };\n                        }\n                    } else {\n                        videoSupport = {\n                            'mandatory': {\n                                'maxHeight': maxHeight,\n                                'minHeight': height,\n                                'maxWidth':  width,\n                                'minWidth':  width\n                            },\n                            'optional': []\n                        };\n                    }\n                    if(typeof media.video === 'object') {\n                        videoSupport = media.video;\n                    }\n                    Janus.debug(videoSupport);\n                } else if(media.video === 'screen' || media.video === 'window') {\n                    // Not a webcam, but screen capture\n                    if(window.location.protocol !== 'https:') {\n                        // Screen sharing mandates HTTPS\n                        Janus.warn(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        pluginHandle.consentDialog(false);\n                        callbacks.error(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        return;\n                    }\n                    // We're going to try and use the extension for Chrome 34+, the old approach\n                    // for older versions of Chrome, or the experimental support in Firefox 33+\n                    var cache = {};\n                    function callbackUserMedia (error, stream) {\n                        pluginHandle.consentDialog(false);\n                        if(error) {\n                            callbacks.error({code: error.code, name: error.name, message: error.message});\n                        } else {\n                            streamsDone(handleId, jsep, media, callbacks, stream);\n                        }\n                    };\n                    function getScreenMedia(constraints, gsmCallback) {\n                        Janus.log(\"Adding media constraint (screen capture)\");\n                        Janus.debug(constraints);\n                        navigator.mediaDevices.getUserMedia(constraints)\n                            .then(function(stream) { gsmCallback(null, stream); })\n                            .catch(function(error) { pluginHandle.consentDialog(false); gsmCallback(error); });\n                    };\n                    if(adapter.browserDetails.browser === 'chrome') {\n                        var chromever = adapter.browserDetails.version;\n                        var maxver = 33;\n                        if(window.navigator.userAgent.match('Linux'))\n                            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n                        if(chromever >= 26 && chromever <= maxver) {\n                            // Chrome 26->33 requires some awkward chrome://flags manipulation\n                            constraints = {\n                                video: {\n                                    mandatory: {\n                                        googLeakyBucket: true,\n                                        maxWidth: window.screen.width,\n                                        maxHeight: window.screen.height,\n                                        maxFrameRate: 3,\n                                        chromeMediaSource: 'screen'\n                                    }\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, callbackUserMedia);\n                        } else {\n                            // Chrome 34+ requires an extension\n                            var pending = window.setTimeout(\n                                function () {\n                                    error = new Error('NavigatorUserMediaError');\n                                    error.name = 'The required Chrome extension is not installed: click <a href=\"#\">here</a> to install it. (NOTE: this will need you to refresh the page)';\n                                    pluginHandle.consentDialog(false);\n                                    return callbacks.error(error);\n                                }, 1000);\n                            cache[pending] = [callbackUserMedia, null];\n                            window.postMessage({ type: 'janusGetScreen', id: pending }, '*');\n                        }\n                    } else if (window.navigator.userAgent.match('Firefox')) {\n                        var ffver = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(ffver >= 33) {\n                            // Firefox 33+ has experimental support for screen sharing\n                            constraints = {\n                                video: {\n                                    mozMediaSource: media.video,\n                                    mediaSource: media.video\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, function (err, stream) {\n                                callbackUserMedia(err, stream);\n                                // Workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1045810\n                                if (!err) {\n                                    var lastTime = stream.currentTime;\n                                    var polly = window.setInterval(function () {\n                                        if(!stream)\n                                            window.clearInterval(polly);\n                                        if(stream.currentTime == lastTime) {\n                                            window.clearInterval(polly);\n                                            if(stream.onended) {\n                                                stream.onended();\n                                            }\n                                        }\n                                        lastTime = stream.currentTime;\n                                    }, 500);\n                                }\n                            });\n                        } else {\n                            var error = new Error('NavigatorUserMediaError');\n                            error.name = 'Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)';\n                            pluginHandle.consentDialog(false);\n                            callbacks.error(error);\n                            return;\n                        }\n                    }\n\n                    // Wait for events from the Chrome Extension\n                    window.addEventListener('message', function (event) {\n                        if(event.origin != window.location.origin)\n                            return;\n                        if(event.data.type == 'janusGotScreen' && cache[event.data.id]) {\n                            var data = cache[event.data.id];\n                            var callback = data[0];\n                            delete cache[event.data.id];\n\n                            if (event.data.sourceId === '') {\n                                // user canceled\n                                var error = new Error('NavigatorUserMediaError');\n                                error.name = 'You cancelled the request for permission, giving up...';\n                                pluginHandle.consentDialog(false);\n                                callbacks.error(error);\n                            } else {\n                                constraints = {\n                                    audio: isAudioSendEnabled(media),\n                                    video: {\n                                        mandatory: {\n                                            chromeMediaSource: 'desktop',\n                                            maxWidth: window.screen.width,\n                                            maxHeight: window.screen.height,\n                                            maxFrameRate: 3\n                                        },\n                                        optional: [\n                                            {googLeakyBucket: true},\n                                            {googTemporalLayeredScreencast: true}\n                                        ]\n                                    }\n                                };\n                                constraints.video.mandatory.chromeMediaSourceId = event.data.sourceId;\n                                getScreenMedia(constraints, callback);\n                            }\n                        } else if (event.data.type == 'janusGetScreenPending') {\n                            window.clearTimeout(event.data.id);\n                        }\n                    });\n                    return;\n                }\n            }\n            // If we got here, we're not screensharing\n            if(media === null || media === undefined || media.video !== 'screen') {\n                // Check whether all media sources are actually available or not\n                navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                    var audioExist = devices.some(function(device) {\n                            return device.kind === 'audioinput';\n                        }),\n                        videoExist = devices.some(function(device) {\n                            return device.kind === 'videoinput';\n                        });\n\n                    // Check whether a missing device is really a problem\n                    var audioSend = isAudioSendEnabled(media);\n                    var videoSend = isVideoSendEnabled(media);\n                    var needAudioDevice = isAudioSendRequired(media);\n                    var needVideoDevice = isVideoSendRequired(media);\n                    if(audioSend || videoSend || needAudioDevice || needVideoDevice) {\n                        // We need to send either audio or video\n                        var haveAudioDevice = audioSend ? audioExist : false;\n                        var haveVideoDevice = videoSend ? videoExist : false;\n                        if(!haveAudioDevice && !haveVideoDevice) {\n                            // FIXME Should we really give up, or just assume recvonly for both?\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('No capture device found');\n                            return false;\n                        } else if(!haveAudioDevice && needAudioDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Audio capture is required, but no capture device found');\n                            return false;\n                        } else if(!haveVideoDevice && needVideoDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Video capture is required, but no capture device found');\n                            return false;\n                        }\n                    }\n\n                    navigator.mediaDevices.getUserMedia({\n                        audio: audioExist ? audioSupport : false,\n                        video: videoExist ? videoSupport : false\n                    })\n                        .then(function(stream) { pluginHandle.consentDialog(false); streamsDone(handleId, jsep, media, callbacks, stream); })\n                        .catch(function(error) { pluginHandle.consentDialog(false); callbacks.error({code: error.code, name: error.name, message: error.message}); });\n                })\n                    .catch(function(error) {\n                        pluginHandle.consentDialog(false);\n                        callbacks.error('enumerateDevices error', error);\n                    });\n            }\n        } else {\n            // No need to do a getUserMedia, create offer/answer right away\n            streamsDone(handleId, jsep, media, callbacks);\n        }\n    }\n\n    function prepareWebrtcPeer(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(jsep !== undefined && jsep !== null) {\n            if(config.pc === null) {\n                Janus.warn(\"Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep\");\n                callbacks.error(\"No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep\");\n                return;\n            }\n            if(adapter.browserDetails.browser === \"edge\") {\n                // This is Edge, add an a=end-of-candidates at the end\n                jsep.sdp += \"a=end-of-candidates\\r\\n\";\n            }\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    callbacks.success();\n                }, callbacks.error);\n        } else {\n            callbacks.error(\"Invalid JSEP\");\n        }\n    }\n\n    function createOffer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Creating offer (iceDone=\" + config.iceDone + \")\");\n        // https://code.google.com/p/webrtc/issues/detail?id=3508\n        var mediaConstraints = null;\n        if(adapter.browserDetails.browser == \"firefox\" || adapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        config.pc.createOffer(\n            function(offer) {\n                Janus.debug(offer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    config.mySdp = offer.sdp;\n                    config.pc.setLocalDescription(offer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\n                    Janus.log(\"Offer already sent, not sending it again\");\n                    return;\n                }\n                Janus.log(\"Offer ready\");\n                Janus.debug(callbacks);\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": offer.type,\n                    \"sdp\": offer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function createAnswer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Creating answer (iceDone=\" + config.iceDone + \")\");\n        var mediaConstraints = null;\n        if(adapter.browserDetails.browser == \"firefox\" || adapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        config.pc.createAnswer(\n            function(answer) {\n                Janus.debug(answer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    config.mySdp = answer.sdp;\n                    config.pc.setLocalDescription(answer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\t// FIXME badly\n                    Janus.log(\"Answer already sent, not sending it again\");\n                    return;\n                }\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": answer.type,\n                    \"sdp\": answer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function sendSDP(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle, not sending anything\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Sending offer/answer SDP...\");\n        if(config.mySdp === null || config.mySdp === undefined) {\n            Janus.warn(\"Local SDP instance is invalid, not sending anything...\");\n            return;\n        }\n        config.mySdp = {\n            \"type\": config.pc.localDescription.type,\n            \"sdp\": config.pc.localDescription.sdp\n        };\n        if(config.sdpSent) {\n            Janus.log(\"Offer/Answer SDP already sent, not sending it again\");\n            return;\n        }\n        if(config.trickle === false)\n            config.mySdp[\"trickle\"] = false;\n        Janus.debug(callbacks);\n        config.sdpSent = true;\n        callbacks.success(config.mySdp);\n    }\n\n    function getVolume(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return 0;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Start getting the volume, if getStats is supported\n        if(config.pc.getStats && adapter.browserDetails.browser == \"chrome\") {\t// FIXME\n            if(config.remoteStream === null || config.remoteStream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return 0;\n            }\n            // http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/constraints-and-stats.html\n            if(config.volume.timer === null || config.volume.timer === undefined) {\n                Janus.log(\"Starting volume monitor\");\n                config.volume.timer = setInterval(function() {\n                    config.pc.getStats(function(stats) {\n                        var results = stats.result();\n                        for(var i=0; i<results.length; i++) {\n                            var res = results[i];\n                            if(res.type == 'ssrc' && res.stat('audioOutputLevel')) {\n                                config.volume.value = res.stat('audioOutputLevel');\n                            }\n                        }\n                    });\n                }, 200);\n                return 0;\t// We don't have a volume to return yet\n            }\n            return config.volume.value;\n        } else {\n            Janus.log(\"Getting the remote volume unsupported by browser\");\n            return 0;\n        }\n    }\n\n    function isMuted(handleId, video) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return true;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return true;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return true;\n        }\n        if(video) {\n            // Check video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return true;\n            }\n            return !config.myStream.getVideoTracks()[0].enabled;\n        } else {\n            // Check audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return true;\n            }\n            return !config.myStream.getAudioTracks()[0].enabled;\n        }\n    }\n\n    function mute(handleId, video, mute) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return false;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return false;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return false;\n        }\n        if(video) {\n            // Mute/unmute video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return false;\n            }\n            config.myStream.getVideoTracks()[0].enabled = mute;\n            return true;\n        } else {\n            // Mute/unmute audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return false;\n            }\n            config.myStream.getAudioTracks()[0].enabled = mute;\n            return true;\n        }\n    }\n\n    function getBitrate(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return \"Invalid handle\";\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined)\n            return \"Invalid PeerConnection\";\n        // Start getting the bitrate, if getStats is supported\n        if(config.pc.getStats && adapter.browserDetails.browser == \"chrome\") {\n            // Do it the Chrome way\n            if(config.remoteStream === null || config.remoteStream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return \"Remote stream unavailable\";\n            }\n            // http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/constraints-and-stats.html\n            if(config.bitrate.timer === null || config.bitrate.timer === undefined) {\n                Janus.log(\"Starting bitrate timer (Chrome)\");\n                config.bitrate.timer = setInterval(function() {\n                    config.pc.getStats(function(stats) {\n                        var results = stats.result();\n                        for(var i=0; i<results.length; i++) {\n                            var res = results[i];\n                            if(res.type == 'ssrc' && res.stat('googFrameHeightReceived')) {\n                                config.bitrate.bsnow = res.stat('bytesReceived');\n                                config.bitrate.tsnow = res.timestamp;\n                                if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                                    // Skip this round\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                } else {\n                                    // Calculate bitrate\n                                    var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / (config.bitrate.tsnow - config.bitrate.tsbefore));\n                                    config.bitrate.value = bitRate + ' kbits/sec';\n                                    //~ Janus.log(\"Estimated bitrate is \" + config.bitrate.value);\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                }\n                            }\n                        }\n                    });\n                }, 1000);\n                return \"0 kbits/sec\";\t// We don't have a bitrate value yet\n            }\n            return config.bitrate.value;\n        } else if(config.pc.getStats && adapter.browserDetails.browser == \"firefox\") {\n            // Do it the Firefox way\n            if(config.remoteStream === null || config.remoteStream === undefined\n                || config.remoteStream.stream === null || config.remoteStream.stream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return \"Remote stream unavailable\";\n            }\n            var videoTracks = config.remoteStream.stream.getVideoTracks();\n            if(videoTracks === null || videoTracks === undefined || videoTracks.length < 1) {\n                Janus.warn(\"No video track\");\n                return \"No video track\";\n            }\n            // https://github.com/muaz-khan/getStats/blob/master/getStats.js\n            if(config.bitrate.timer === null || config.bitrate.timer === undefined) {\n                Janus.log(\"Starting bitrate timer (Firefox)\");\n                config.bitrate.timer = setInterval(function() {\n                    // We need a helper callback\n                    var cb = function(res) {\n                        if(res === null || res === undefined ||\n                            res.inbound_rtp_video_1 == null || res.inbound_rtp_video_1 == null) {\n                            config.bitrate.value = \"Missing inbound_rtp_video_1\";\n                            return;\n                        }\n                        config.bitrate.bsnow = res.inbound_rtp_video_1.bytesReceived;\n                        config.bitrate.tsnow = res.inbound_rtp_video_1.timestamp;\n                        if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                            // Skip this round\n                            config.bitrate.bsbefore = config.bitrate.bsnow;\n                            config.bitrate.tsbefore = config.bitrate.tsnow;\n                        } else {\n                            // Calculate bitrate\n                            var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / (config.bitrate.tsnow - config.bitrate.tsbefore));\n                            config.bitrate.value = bitRate + ' kbits/sec';\n                            config.bitrate.bsbefore = config.bitrate.bsnow;\n                            config.bitrate.tsbefore = config.bitrate.tsnow;\n                        }\n                    };\n                    // Actually get the stats\n                    config.pc.getStats(videoTracks[0], function(stats) {\n                        cb(stats);\n                    }, cb);\n                }, 1000);\n                return \"0 kbits/sec\";\t// We don't have a bitrate value yet\n            }\n            return config.bitrate.value;\n        } else {\n            Janus.warn(\"Getting the video bitrate unsupported by browser\");\n            return \"Feature unsupported by browser\";\n        }\n    }\n\n    function webrtcError(error) {\n        Janus.error(\"WebRTC error:\", error);\n    }\n\n    function cleanupWebrtc(handleId, hangupRequest) {\n        Janus.log(\"Cleaning WebRTC stuff\");\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined) {\n            // Nothing to clean\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config !== null && config !== undefined) {\n            if(hangupRequest === true) {\n                // Send a hangup request (we don't really care about the response)\n                var request = { \"janus\": \"hangup\", \"transaction\": randomString(12) };\n                if(token !== null && token !== undefined)\n                    request[\"token\"] = token;\n                if(apisecret !== null && apisecret !== undefined)\n                    request[\"apisecret\"] = apisecret;\n                Janus.debug(\"Sending hangup request (handle=\" + handleId + \"):\");\n                Janus.debug(request);\n                if(websockets) {\n                    request[\"session_id\"] = sessionId;\n                    request[\"handle_id\"] = handleId;\n                    ws.send(JSON.stringify(request));\n                } else {\n                    $.ajax({\n                        type: 'POST',\n                        url: server + \"/\" + sessionId + \"/\" + handleId,\n                        cache: false,\n                        contentType: \"application/json\",\n                        data: JSON.stringify(request),\n                        dataType: \"json\"\n                    });\n                }\n            }\n            // Cleanup stack\n            config.remoteStream = null;\n            if(config.volume.timer)\n                clearInterval(config.volume.timer);\n            config.volume.value = null;\n            if(config.bitrate.timer)\n                clearInterval(config.bitrate.timer);\n            config.bitrate.timer = null;\n            config.bitrate.bsnow = null;\n            config.bitrate.bsbefore = null;\n            config.bitrate.tsnow = null;\n            config.bitrate.tsbefore = null;\n            config.bitrate.value = null;\n            try {\n                // Try a MediaStream.stop() first\n                if(!config.streamExternal && config.myStream !== null && config.myStream !== undefined) {\n                    Janus.log(\"Stopping local stream\");\n                    config.myStream.stop();\n                }\n            } catch(e) {\n                // Do nothing if this fails\n            }\n            try {\n                // Try a MediaStreamTrack.stop() for each track as well\n                if(!config.streamExternal && config.myStream !== null && config.myStream !== undefined) {\n                    Janus.log(\"Stopping local stream tracks\");\n                    var tracks = config.myStream.getTracks();\n                    for(var i in tracks) {\n                        var mst = tracks[i];\n                        Janus.log(mst);\n                        if(mst !== null && mst !== undefined)\n                            mst.stop();\n                    }\n                }\n            } catch(e) {\n                // Do nothing if this fails\n            }\n            config.streamExternal = false;\n            config.myStream = null;\n            // Close PeerConnection\n            try {\n                config.pc.close();\n            } catch(e) {\n                // Do nothing\n            }\n            config.pc = null;\n            config.mySdp = null;\n            config.iceDone = false;\n            config.sdpSent = false;\n            config.dataChannel = null;\n            config.dtmfSender = null;\n        }\n        pluginHandle.oncleanup();\n    }\n\n    // Helper methods to parse a media object\n    function isAudioSendEnabled(media) {\n        Janus.debug(\"isAudioSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioSend === undefined || media.audioSend === null)\n            return true;\t// Default\n        return (media.audioSend === true);\n    }\n\n    function isAudioSendRequired(media) {\n        Janus.debug(\"isAudioSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.audio === false || media.audioSend === false)\n            return false;\t// If we're not asking to capture audio, it's not required\n        if(media.failIfNoAudio === undefined || media.failIfNoAudio === null)\n            return false;\t// Default\n        return (media.failIfNoAudio === true);\n    }\n\n    function isAudioRecvEnabled(media) {\n        Janus.debug(\"isAudioRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioRecv === undefined || media.audioRecv === null)\n            return true;\t// Default\n        return (media.audioRecv === true);\n    }\n\n    function isVideoSendEnabled(media) {\n        Janus.debug(\"isVideoSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoSend === undefined || media.videoSend === null)\n            return true;\t// Default\n        return (media.videoSend === true);\n    }\n\n    function isVideoSendRequired(media) {\n        Janus.debug(\"isVideoSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.video === false || media.videoSend === false)\n            return false;\t// If we're not asking to capture video, it's not required\n        if(media.failIfNoVideo === undefined || media.failIfNoVideo === null)\n            return false;\t// Default\n        return (media.failIfNoVideo === true);\n    }\n\n    function isVideoRecvEnabled(media) {\n        Janus.debug(\"isVideoRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoRecv === undefined || media.videoRecv === null)\n            return true;\t// Default\n        return (media.videoRecv === true);\n    }\n\n    function isDataEnabled(media) {\n        Janus.debug(\"isDataEnabled:\", media);\n        if(adapter.browserDetails.browser == \"edge\") {\n            Janus.warn(\"Edge doesn't support data channels yet\");\n            return false;\n        }\n        if(media === undefined || media === null)\n            return false;\t// Default\n        return (media.data === true);\n    }\n\n    function isTrickleEnabled(trickle) {\n        Janus.debug(\"isTrickleEnabled:\", trickle);\n        if(trickle === undefined || trickle === null)\n            return true;\t// Default is true\n        return (trickle === true);\n    }\n};\n\nmodule.exports = Janus;\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 6.f832ec0c055fcc7c9b4b.js","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\n\nimport $ from 'jquery';\n\nimport {browserHistory} from 'react-router/es6';\nimport * as Utils from 'utils/utils.jsx';\nimport * as AsyncClient from 'utils/async_client.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport PostStore from 'stores/post_store.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {startPeriodicStatusUpdates, stopPeriodicStatusUpdates} from 'actions/status_actions.jsx';\nimport {startPeriodicSync, stopPeriodicSync} from 'actions/websocket_actions.jsx';\nimport {loadProfilesForSidebar} from 'actions/user_actions.jsx';\n\nimport Constants from 'utils/constants.jsx';\nconst TutorialSteps = Constants.TutorialSteps;\nconst Preferences = Constants.Preferences;\n\nimport ErrorBar from 'components/error_bar.jsx';\nimport SidebarRight from 'components/sidebar_right.jsx';\nimport SidebarRightMenu from 'components/sidebar_right_menu.jsx';\nimport Navbar from 'components/navbar.jsx';\nimport WebrtcSidebar from './webrtc/components/webrtc_sidebar.jsx';\n\nimport WebrtcNotification from './webrtc/components/webrtc_notification.jsx';\n\n// Modals\nimport GetPostLinkModal from 'components/get_post_link_modal.jsx';\nimport GetPublicLinkModal from 'components/get_public_link_modal.jsx';\nimport GetTeamInviteLinkModal from 'components/get_team_invite_link_modal.jsx';\nimport EditPostModal from 'components/edit_post_modal.jsx';\nimport DeletePostModal from 'components/delete_post_modal.jsx';\nimport TeamSettingsModal from 'components/team_settings_modal.jsx';\nimport RemovedFromChannelModal from 'components/removed_from_channel_modal.jsx';\nimport ImportThemeModal from 'components/user_settings/import_theme_modal.jsx';\nimport InviteMemberModal from 'components/invite_member_modal.jsx';\nimport LeaveTeamModal from 'components/leave_team_modal.jsx';\n\nimport iNoBounce from 'inobounce';\nimport * as UserAgent from 'utils/user_agent.jsx';\n\nconst UNREAD_CHECK_TIME_MILLISECONDS = 10000;\n\nexport default class NeedsTeam extends React.Component {\n    constructor(params) {\n        super(params);\n\n        this.onTeamChanged = this.onTeamChanged.bind(this);\n        this.onPreferencesChanged = this.onPreferencesChanged.bind(this);\n\n        this.blurTime = new Date().getTime();\n\n        const team = TeamStore.getCurrent();\n\n        this.state = {\n            team,\n            theme: PreferenceStore.getTheme(team.id)\n        };\n    }\n\n    onTeamChanged() {\n        const team = TeamStore.getCurrent();\n\n        this.setState({\n            team,\n            theme: PreferenceStore.getTheme(team.id)\n        });\n    }\n\n    onPreferencesChanged(category) {\n        if (!category || category === Preferences.CATEGORY_THEME) {\n            this.setState({\n                theme: PreferenceStore.getTheme(this.state.team.id)\n            });\n        }\n    }\n\n    componentWillMount() {\n        // Go to tutorial if we are first arriving\n        const tutorialStep = PreferenceStore.getInt(Preferences.TUTORIAL_STEP, UserStore.getCurrentId(), 999);\n        if (tutorialStep <= TutorialSteps.INTRO_SCREENS) {\n            browserHistory.push(TeamStore.getCurrentTeamRelativeUrl() + '/tutorial');\n        }\n    }\n\n    componentDidMount() {\n        TeamStore.addChangeListener(this.onTeamChanged);\n        PreferenceStore.addChangeListener(this.onPreferencesChanged);\n\n        // Emit view action\n        GlobalActions.viewLoggedIn();\n\n        startPeriodicStatusUpdates();\n        startPeriodicSync();\n\n        // Set up tracking for whether the window is active\n        window.isActive = true;\n        $(window).on('focus', () => {\n            AsyncClient.viewChannel();\n            ChannelStore.resetCounts(ChannelStore.getCurrentId());\n            ChannelStore.emitChange();\n\n            window.isActive = true;\n            if (new Date().getTime() - this.blurTime > UNREAD_CHECK_TIME_MILLISECONDS) {\n                AsyncClient.getMyChannelMembers().then(loadProfilesForSidebar);\n            }\n        });\n\n        $(window).on('blur', () => {\n            window.isActive = false;\n            this.blurTime = new Date().getTime();\n            if (UserStore.getCurrentUser()) {\n                AsyncClient.viewChannel('');\n            }\n        });\n\n        Utils.applyTheme(this.state.theme);\n\n        if (UserAgent.isIosSafari()) {\n            // Use iNoBounce to prevent scrolling past the boundaries of the page\n            iNoBounce.enable();\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (!Utils.areObjectsEqual(prevState.theme, this.state.theme)) {\n            Utils.applyTheme(this.state.theme);\n        }\n    }\n\n    componentWillUnmount() {\n        TeamStore.removeChangeListener(this.onTeamChanged);\n        PreferenceStore.removeChangeListener(this.onPreferencesChanged);\n        $(window).off('focus');\n        $(window).off('blur');\n\n        if (UserAgent.isIosSafari()) {\n            iNoBounce.disable();\n        }\n        stopPeriodicStatusUpdates();\n        stopPeriodicSync();\n    }\n\n    render() {\n        let content = [];\n        if (this.props.children) {\n            content = this.props.children;\n        } else {\n            content.push(\n                this.props.navbar\n            );\n            content.push(this.props.team_sidebar);\n            content.push(\n                this.props.sidebar\n            );\n            content.push(\n                <div\n                    key='inner-wrap'\n                    className='inner-wrap channel__wrap'\n                >\n                    <div className='row header'>\n                        <div id='navbar'>\n                            <Navbar/>\n                        </div>\n                    </div>\n                    <div className='row main'>\n                        {React.cloneElement(this.props.center, {\n                            user: this.props.user,\n                            team: this.state.team\n                        })}\n                    </div>\n                </div>\n            );\n        }\n\n        let channel = ChannelStore.getByName(this.props.params.channel);\n        if (channel == null) {\n            // the permalink view is not really tied to a particular channel but still needs it\n            const postId = PostStore.getFocusedPostId();\n            const post = PostStore.getEarliestPostFromPage(postId);\n\n            // the post take some time before being available on page load\n            if (post != null) {\n                channel = ChannelStore.get(post.channel_id);\n            }\n        }\n\n        return (\n            <div className='channel-view'>\n                <ErrorBar/>\n                <WebrtcNotification/>\n                <div className='container-fluid'>\n                    <SidebarRight channel={channel}/>\n                    <SidebarRightMenu teamType={this.state.team.type}/>\n                    <WebrtcSidebar/>\n                    {content}\n\n                    <GetPostLinkModal/>\n                    <GetPublicLinkModal/>\n                    <GetTeamInviteLinkModal/>\n                    <InviteMemberModal/>\n                    <LeaveTeamModal/>\n                    <ImportThemeModal/>\n                    <TeamSettingsModal/>\n                    <EditPostModal/>\n                    <DeletePostModal/>\n                    <RemovedFromChannelModal/>\n                </div>\n            </div>\n        );\n    }\n}\n\nNeedsTeam.propTypes = {\n    children: React.PropTypes.oneOfType([\n        React.PropTypes.arrayOf(React.PropTypes.element),\n        React.PropTypes.element\n    ]),\n    navbar: React.PropTypes.element,\n    sidebar: React.PropTypes.element,\n    team_sidebar: React.PropTypes.element,\n    center: React.PropTypes.element,\n    params: React.PropTypes.object,\n    user: React.PropTypes.object\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/needs_team.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function() {\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n      } else { // Safari (in an unpublished version) or unknown webkit-based.\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/(\\d+)\\./, 1);\n        } else { // unknown webkit-based browser.\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n        // Safari, with webkitGetUserMedia removed.\n      result.browser = 'safari';\n      result.version = this.extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function() {\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        console.log('URL.createObjectURL(stream) is deprecated! ' +\n                    'Use elem.srcObject = stream instead!');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = HTMLMediaElement.prototype.setAttribute;\n    HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  }\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  disableLog: utils.disableLog,\n  browserDetails: utils.detectBrowser(),\n  extractVersion: utils.extractVersion,\n  shimCreateObjectURL: utils.shimCreateObjectURL,\n  detectBrowser: utils.detectBrowser.bind(utils)\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/utils.js\n// module id = 1743\n// module chunks = 6","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\nimport {Modal} from 'react-bootstrap';\n\nexport default class GetLinkModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onHide = this.onHide.bind(this);\n\n        this.copyLink = this.copyLink.bind(this);\n\n        this.state = {\n            copiedLink: false\n        };\n    }\n\n    onHide() {\n        this.setState({copiedLink: false});\n\n        this.props.onHide();\n    }\n\n    copyLink() {\n        const textarea = this.refs.textarea;\n        textarea.focus();\n        textarea.setSelectionRange(0, this.props.link.length);\n\n        try {\n            if (document.execCommand('copy')) {\n                this.setState({copiedLink: true});\n            } else {\n                this.setState({copiedLink: false});\n            }\n        } catch (err) {\n            this.setState({copiedLink: false});\n        }\n    }\n\n    render() {\n        let helpText = null;\n        if (this.props.helpText) {\n            helpText = (\n                <p>\n                    {this.props.helpText}\n                    <br/>\n                    <br/>\n                </p>\n            );\n        }\n\n        let copyLink = null;\n        if (document.queryCommandSupported('copy')) {\n            copyLink = (\n                <button\n                    data-copy-btn='true'\n                    type='button'\n                    className='btn btn-primary pull-left'\n                    onClick={this.copyLink}\n                >\n                    <FormattedMessage\n                        id='get_link.copy'\n                        defaultMessage='Copy Link'\n                    />\n                </button>\n            );\n        }\n\n        const linkText = (\n            <textarea\n                className='form-control no-resize min-height'\n                ref='textarea'\n                value={this.props.link}\n                onClick={this.copyLink}\n                readOnly={true}\n            />\n        );\n\n        let copyLinkConfirm = null;\n        if (this.state.copiedLink) {\n            copyLinkConfirm = (\n                <p className='alert alert-success alert--confirm'>\n                    <i className='fa fa-check'/>\n                    <FormattedMessage\n                        id='get_link.clipboard'\n                        defaultMessage=' Link copied'\n                    />\n                </p>\n            );\n        }\n\n        return (\n            <Modal\n                show={this.props.show}\n                onHide={this.onHide}\n            >\n                <Modal.Header closeButton={true}>\n                    <h4 className='modal-title'>{this.props.title}</h4>\n                </Modal.Header>\n                <Modal.Body>\n                    {helpText}\n                    {linkText}\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-default'\n                        onClick={this.onHide}\n                    >\n                        <FormattedMessage\n                            id='get_link.close'\n                            defaultMessage='Close'\n                        />\n                    </button>\n                    {copyLink}\n                    {copyLinkConfirm}\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n\nGetLinkModal.propTypes = {\n    show: React.PropTypes.bool.isRequired,\n    onHide: React.PropTypes.func.isRequired,\n    title: React.PropTypes.string.isRequired,\n    helpText: React.PropTypes.string,\n    link: React.PropTypes.string.isRequired\n};\n\nGetLinkModal.defaultProps = {\n    helpText: null\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_link_modal.jsx","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport * as Agent from 'utils/user_agent.jsx';\nimport RhsDropdownMenu from 'components/rhs_dropdown_menu.jsx';\n\nimport {Dropdown} from 'react-bootstrap';\nimport React from 'react';\n\nexport default class RhsDropdown extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.toggleDropdown = this.toggleDropdown.bind(this);\n\n        this.state = {\n            showDropdown: false\n        };\n    }\n\n    toggleDropdown() {\n        const showDropdown = !this.state.showDropdown;\n        if (Agent.isMobile() || Agent.isMobileApp()) {\n            const scroll = document.querySelector('.scrollbar--view');\n            if (showDropdown) {\n                scroll.style.overflow = 'hidden';\n            } else {\n                scroll.style.overflow = 'scroll';\n            }\n        }\n\n        this.setState({showDropdown});\n    }\n\n    render() {\n        return (\n            <Dropdown\n                id='rhs_dropdown'\n                open={this.state.showDropdown}\n                onToggle={this.toggleDropdown}\n            >\n                <a\n                    href='#'\n                    className='post__dropdown dropdown-toggle'\n                    bsRole='toggle'\n                    onClick={this.toggleDropdown}\n                />\n                <RhsDropdownMenu>\n                    {this.props.dropdownContents}\n                </RhsDropdownMenu>\n            </Dropdown>\n        );\n    }\n}\n\nRhsDropdown.propTypes = {\n    dropdownContents: React.PropTypes.array.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_dropdown.jsx","module.exports = __webpack_public_path__ + \"files/a4a8b617d1f6c75ad4bf17bafc2aec6a.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./images/ring.mp3\n// module id = 1778\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\nvar prefix = require('prefix-style')\nvar toCamelCase = require('to-camel-case')\nvar cache = { 'float': 'cssFloat' }\nvar addPxToStyle = require('add-px-to-style')\n\nfunction style (element, property, value) {\n  var camel = cache[property]\n  if (typeof camel === 'undefined') {\n    camel = detect(property)\n  }\n\n  // may be false if CSS prop is unsupported\n  if (camel) {\n    if (value === undefined) {\n      return element.style[camel]\n    }\n\n    element.style[camel] = addPxToStyle(camel, value)\n  }\n}\n\nfunction each (element, properties) {\n  for (var k in properties) {\n    if (properties.hasOwnProperty(k)) {\n      style(element, k, properties[k])\n    }\n  }\n}\n\nfunction detect (cssProp) {\n  var camel = toCamelCase(cssProp)\n  var result = prefix(camel)\n  cache[camel] = cache[cssProp] = cache[result] = result\n  return result\n}\n\nfunction set () {\n  if (arguments.length === 2) {\n    if (typeof arguments[1] === 'string') {\n      arguments[0].style.cssText = arguments[1]\n    } else {\n      each(arguments[0], arguments[1])\n    }\n  } else {\n    style(arguments[0], arguments[1], arguments[2])\n  }\n}\n\nmodule.exports = set\nmodule.exports.set = set\n\nmodule.exports.get = function (element, properties) {\n  if (Array.isArray(properties)) {\n    return properties.reduce(function (obj, prop) {\n      obj[prop] = style(element, prop || '')\n      return obj\n    }, {})\n  } else {\n    return style(element, properties || '')\n  }\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dom-css/index.js\n// module id = 1795\n// module chunks = 6","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport SuggestionList from './suggestion/suggestion_list.jsx';\nimport SuggestionBox from './suggestion/suggestion_box.jsx';\nimport SwitchChannelProvider from './suggestion/switch_channel_provider.jsx';\n\nimport {FormattedMessage} from 'react-intl';\nimport {Modal} from 'react-bootstrap';\n\nimport {goToChannel, openDirectChannelToUser} from 'actions/channel_actions.jsx';\n\nimport ChannelStore from 'stores/channel_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport React from 'react';\nimport $ from 'jquery';\n\nexport default class SwitchChannelModal extends React.Component {\n    constructor() {\n        super();\n\n        this.onChange = this.onChange.bind(this);\n        this.onItemSelected = this.onItemSelected.bind(this);\n        this.onShow = this.onShow.bind(this);\n        this.onHide = this.onHide.bind(this);\n        this.onExited = this.onExited.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.switchToChannel = this.switchToChannel.bind(this);\n\n        this.suggestionProviders = [new SwitchChannelProvider()];\n\n        this.state = {\n            text: '',\n            error: ''\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.show && !prevProps.show) {\n            const textbox = this.refs.search.getTextbox();\n            textbox.focus();\n            Utils.placeCaretAtEnd(textbox);\n        }\n    }\n\n    onShow() {\n        this.setState({\n            text: '',\n            error: ''\n        });\n    }\n\n    onHide() {\n        this.setState({\n            text: '',\n            error: ''\n        });\n        this.props.onHide();\n    }\n\n    onExited() {\n        this.selected = null;\n        setTimeout(() => {\n            $('#post_textbox').get(0).focus();\n        });\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n        this.selected = null;\n    }\n\n    onItemSelected(item) {\n        this.selected = item;\n    }\n\n    handleKeyDown(e) {\n        this.setState({\n            error: ''\n        });\n        if (e.keyCode === Constants.KeyCodes.ENTER) {\n            this.handleSubmit();\n        }\n    }\n\n    handleSubmit() {\n        let channel = null;\n\n        if (!this.selected) {\n            if (this.state.text !== '') {\n                this.setState({\n                    error: Utils.localizeMessage('channel_switch_modal.not_found', 'No matches found.')\n                });\n            }\n            return;\n        }\n\n        if (this.selected.type === Constants.DM_CHANNEL) {\n            const user = UserStore.getProfileByUsername(this.selected.name);\n\n            if (user) {\n                openDirectChannelToUser(\n                    user.id,\n                    (ch) => {\n                        channel = ch;\n                        this.switchToChannel(channel);\n                    },\n                    () => {\n                        channel = null;\n                        this.switchToChannel(channel);\n                    }\n                );\n            }\n        } else {\n            channel = ChannelStore.get(this.selected.id);\n            this.switchToChannel(channel);\n        }\n    }\n\n    switchToChannel(channel) {\n        if (channel !== null) {\n            goToChannel(channel);\n            this.onHide();\n        } else if (this.state.text !== '') {\n            this.setState({\n                error: Utils.localizeMessage('channel_switch_modal.failed_to_open', 'Failed to open channel.')\n            });\n        }\n    }\n\n    render() {\n        const message = this.state.error;\n        return (\n            <Modal\n                dialogClassName='channel-switch-modal'\n                ref='modal'\n                show={this.props.show}\n                onHide={this.onHide}\n                onExited={this.onExited}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <span>\n                            <FormattedMessage\n                                id='channel_switch_modal.title'\n                                defaultMessage='Switch Channels'\n                            />\n                        </span>\n                    </Modal.Title>\n                </Modal.Header>\n\n                <Modal.Body>\n                    <div className='modal__hint'>\n                        <FormattedMessage\n                            id='channel_switch_modal.help'\n                            defaultMessage='Type channel name. Use  to browse, TAB to select,  to confirm, ESC to dismiss'\n                        />\n                    </div>\n                    <SuggestionBox\n                        ref='search'\n                        className='form-control focused'\n                        type='input'\n                        onChange={this.onChange}\n                        value={this.state.text}\n                        onKeyDown={this.handleKeyDown}\n                        onItemSelected={this.onItemSelected}\n                        listComponent={SuggestionList}\n                        maxLength='64'\n                        providers={this.suggestionProviders}\n                        listStyle='bottom'\n                    />\n                </Modal.Body>\n                <Modal.Footer>\n                    <div className='modal__error'>\n                        {message}\n                    </div>\n                    <button\n                        type='button'\n                        className='btn btn-default'\n                        onClick={this.onHide}\n                    >\n                        <FormattedMessage\n                            id='edit_channel_header_modal.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </button>\n                    <button\n                        type='button'\n                        className='btn btn-primary'\n                        onClick={this.handleSubmit}\n                    >\n                        <FormattedMessage\n                            id='channel_switch_modal.submit'\n                            defaultMessage='Switch'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n\nSwitchChannelModal.propTypes = {\n    show: React.PropTypes.bool.isRequired,\n    onHide: React.PropTypes.func.isRequired\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/channel_switch_modal.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\nimport ReactDOM from 'react-dom';\nimport AppDispatcher from '../dispatcher/app_dispatcher.jsx';\nimport * as ChannelActions from 'actions/channel_actions.jsx';\nimport EmojiStore from 'stores/emoji_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport PostDeletedModal from './post_deleted_modal.jsx';\nimport PostStore from 'stores/post_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport MessageHistoryStore from 'stores/message_history_store.jsx';\nimport Textbox from './textbox.jsx';\nimport MsgTyping from './msg_typing.jsx';\nimport FileUpload from './file_upload.jsx';\nimport FilePreview from './file_preview.jsx';\nimport EmojiPicker from './emoji_picker/emoji_picker.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport * as PostActions from 'actions/post_actions.jsx';\n\nimport Constants from 'utils/constants.jsx';\n\nimport {FormattedMessage} from 'react-intl';\nimport {browserHistory} from 'react-router/es6';\n\nconst ActionTypes = Constants.ActionTypes;\nconst KeyCodes = Constants.KeyCodes;\n\nimport {REACTION_PATTERN, EMOJI_PATTERN} from './create_post.jsx';\nimport React from 'react';\n\nexport default class CreateComment extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.lastTime = 0;\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleSubmitPost = this.handleSubmitPost.bind(this);\n        this.handleSubmitReaction = this.handleSubmitReaction.bind(this);\n        this.commentMsgKeyPress = this.commentMsgKeyPress.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.handleBlur = this.handleBlur.bind(this);\n        this.handleFileUploadChange = this.handleFileUploadChange.bind(this);\n        this.handleUploadStart = this.handleUploadStart.bind(this);\n        this.handleFileUploadComplete = this.handleFileUploadComplete.bind(this);\n        this.handleUploadError = this.handleUploadError.bind(this);\n        this.removePreview = this.removePreview.bind(this);\n        this.getFileCount = this.getFileCount.bind(this);\n        this.getFileUploadTarget = this.getFileUploadTarget.bind(this);\n        this.onPreferenceChange = this.onPreferenceChange.bind(this);\n        this.focusTextbox = this.focusTextbox.bind(this);\n        this.showPostDeletedModal = this.showPostDeletedModal.bind(this);\n        this.hidePostDeletedModal = this.hidePostDeletedModal.bind(this);\n        this.handlePostError = this.handlePostError.bind(this);\n        this.handleEmojiPickerClick = this.handleEmojiPickerClick.bind(this);\n        this.handleEmojiClick = this.handleEmojiClick.bind(this);\n        this.onKeyPress = this.onKeyPress.bind(this);\n        this.closeEmoji = this.closeEmoji.bind(this);\n\n        PostStore.clearCommentDraftUploads();\n        MessageHistoryStore.resetHistoryIndex('comment');\n\n        const draft = PostStore.getCommentDraft(this.props.rootId);\n        const enableAddButton = this.handleEnableAddButton(draft.message, draft.fileInfos);\n        this.state = {\n            message: draft.message,\n            uploadsInProgress: draft.uploadsInProgress,\n            fileInfos: draft.fileInfos,\n            submitting: false,\n            ctrlSend: PreferenceStore.getBool(Constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n            showPostDeletedModal: false,\n            enableAddButton,\n            showEmojiPicker: false,\n            emojiOffset: 0,\n            emojiPickerEnabled: Utils.isFeatureEnabled(Constants.PRE_RELEASE_FEATURES.EMOJI_PICKER_PREVIEW)\n        };\n\n        this.lastBlurAt = 0;\n    }\n\n    closeEmoji(clickEvent) {\n        /*\n        if the user clicked something outside the component, except the RHS emojipicker icon\n        and the picker is open, then close it\n         */\n        if (clickEvent && clickEvent.srcElement &&\n            clickEvent.srcElement.className !== '' &&\n            clickEvent.srcElement.className.indexOf('emoji-rhs') === -1 &&\n            this.state.showEmojiPicker) {\n            this.setState({showEmojiPicker: !this.state.showEmojiPicker});\n        }\n    }\n\n    handleEmojiPickerClick() {\n        const threadHeight = document.getElementById('thread--root') ? document.getElementById('thread--root').offsetHeight : 0;\n        const messagesHeight = document.querySelector('div.post-right-comments-container') ? document.querySelector('div.post-right-comments-container').offsetHeight : 0;\n\n        const totalHeight = threadHeight + messagesHeight;\n        let pickerOffset = 0;\n        if (totalHeight > 361) {\n            pickerOffset = -361;\n        } else {\n            pickerOffset = -1 * totalHeight;\n        }\n        this.setState({showEmojiPicker: !this.state.showEmojiPicker, emojiOffset: pickerOffset});\n    }\n\n    handleEmojiClick(emoji) {\n        const emojiAlias = emoji.name || emoji.aliases[0];\n\n        if (!emojiAlias) {\n            //Oops.. There went something wrong\n            return;\n        }\n\n        if (this.state.message === '') {\n            this.setState({message: ':' + emojiAlias + ': ', showEmojiPicker: false});\n        } else {\n            //check whether there is already a blank at the end of the current message\n            const newMessage = (/\\s+$/.test(this.state.message)) ?\n            this.state.message + ':' + emojiAlias + ': ' : this.state.message + ' :' + emojiAlias + ': ';\n\n            this.setState({message: newMessage, showEmojiPicker: false});\n        }\n\n        this.focusTextbox();\n    }\n\n    componentDidMount() {\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        document.addEventListener('keydown', this.onKeyPress);\n\n        this.focusTextbox();\n    }\n\n    componentWillUnmount() {\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n        document.removeEventListener('keydown', this.onKeyPress);\n    }\n\n    onKeyPress(e) {\n        if (e.which === Constants.KeyCodes.ESCAPE && this.state.showEmojiPicker === true) {\n            this.setState({showEmojiPicker: !this.state.showEmojiPicker});\n        }\n    }\n\n    onPreferenceChange() {\n        this.setState({\n            ctrlSend: PreferenceStore.getBool(Constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n            emojiPickerEnabled: Utils.isFeatureEnabled(Constants.PRE_RELEASE_FEATURES.EMOJI_PICKER_PREVIEW)\n        });\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.uploadsInProgress < this.state.uploadsInProgress) {\n            $('.post-right__scroll').scrollTop($('.post-right__scroll')[0].scrollHeight);\n        }\n\n        if (prevProps.rootId !== this.props.rootId) {\n            this.focusTextbox();\n        }\n    }\n\n    handlePostError(postError) {\n        this.setState({postError});\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n\n        if (this.state.uploadsInProgress.length > 0) {\n            return;\n        }\n\n        if (this.state.submitting) {\n            return;\n        }\n\n        const message = this.state.message;\n\n        if (this.state.postError) {\n            this.setState({errorClass: 'animation--highlight'});\n            setTimeout(() => {\n                this.setState({errorClass: null});\n            }, Constants.ANIMATION_TIMEOUT);\n            return;\n        }\n\n        MessageHistoryStore.storeMessageInHistory(message);\n        if (message.trim().length === 0 && this.state.fileInfos.length === 0) {\n            return;\n        }\n\n        const isReaction = REACTION_PATTERN.exec(message);\n        if (isReaction && EmojiStore.has(isReaction[2])) {\n            this.handleSubmitReaction(isReaction);\n        } else if (message.indexOf('/') === 0) {\n            this.handleSubmitCommand(message);\n        } else {\n            this.handleSubmitPost(message);\n        }\n\n        this.setState({\n            message: '',\n            submitting: false,\n            postError: null,\n            fileInfos: [],\n            serverError: null,\n            enableAddButton: false\n        });\n\n        const fasterThanHumanWillClick = 150;\n        const forceFocus = (Date.now() - this.lastBlurAt < fasterThanHumanWillClick);\n        this.focusTextbox(forceFocus);\n    }\n\n    handleSubmitCommand(message) {\n        PostStore.storeCommentDraft(this.props.rootId, null);\n        this.setState({\n            message: '',\n            postError: null,\n            fileInfos: [],\n            enableAddButton: false\n        });\n\n        const args = {};\n        args.channel_id = this.props.channelId;\n        args.root_id = this.props.rootId;\n        args.parent_id = this.props.rootId;\n        ChannelActions.executeCommand(\n            message,\n            args,\n            (data) => {\n                this.setState({submitting: false});\n                if (data.goto_location && data.goto_location.length > 0) {\n                    browserHistory.push(data.goto_location);\n                }\n            },\n            (err) => {\n                if (err.sendMessage) {\n                    this.handleSubmitPost(message);\n                } else {\n                    const state = {};\n                    state.serverError = err.message;\n                    state.submitting = false;\n                    this.setState(state);\n                }\n            }\n        );\n    }\n\n    handleSubmitPost(message) {\n        const userId = UserStore.getCurrentId();\n        const time = Utils.getTimestamp();\n\n        const post = {};\n        post.file_ids = [];\n        post.message = message;\n        post.channel_id = this.props.channelId;\n        post.root_id = this.props.rootId;\n        post.parent_id = this.props.rootId;\n        post.file_ids = this.state.fileInfos.map((info) => info.id);\n        post.pending_post_id = `${userId}:${time}`;\n        post.user_id = userId;\n        post.create_at = time;\n\n        GlobalActions.emitUserCommentedEvent(post);\n\n        const emojiResult = post.message.match(EMOJI_PATTERN);\n        if (emojiResult) {\n            // parse message and emit emoji event\n            emojiResult.forEach((emoji) => {\n                PostActions.emitEmojiPosted(emoji);\n            });\n        }\n\n        PostActions.queuePost(post, false, null,\n            (err) => {\n                if (err.id === 'api.post.create_post.root_id.app_error') {\n                    this.showPostDeletedModal();\n                    PostStore.removePendingPost(post.channel_id, post.pending_post_id);\n                    this.setState({message: post.message});\n                } else {\n                    this.forceUpdate();\n                }\n\n                this.setState({\n                    submitting: false\n                });\n            }\n        );\n\n        this.setState({\n            message: '',\n            submitting: false,\n            postError: null,\n            fileInfos: [],\n            serverError: null,\n            enableAddButton: false\n        });\n\n        const fasterThanHumanWillClick = 150;\n        const forceFocus = (Date.now() - this.state.lastBlurAt < fasterThanHumanWillClick);\n        this.focusTextbox(forceFocus);\n    }\n\n    handleSubmitReaction(isReaction) {\n        const action = isReaction[1];\n\n        const emojiName = isReaction[2];\n        const postId = this.props.latestPostId;\n\n        if (action === '+') {\n            PostActions.addReaction(this.props.channelId, postId, emojiName);\n        } else if (action === '-') {\n            PostActions.removeReaction(this.props.channelId, postId, emojiName);\n        }\n\n        PostStore.storeCommentDraft(this.props.rootId, null);\n    }\n\n    commentMsgKeyPress(e) {\n        if (!UserAgent.isMobile() && ((this.state.ctrlSend && e.ctrlKey) || !this.state.ctrlSend)) {\n            if (e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n                e.preventDefault();\n                ReactDOM.findDOMNode(this.refs.textbox).blur();\n                this.handleSubmit(e);\n            }\n        }\n\n        GlobalActions.emitLocalUserTypingEvent(this.props.channelId, this.props.rootId);\n    }\n\n    handleChange(e) {\n        const message = e.target.value;\n\n        const draft = PostStore.getCommentDraft(this.props.rootId);\n        draft.message = message;\n        PostStore.storeCommentDraft(this.props.rootId, draft);\n\n        $('.post-right__scroll').parent().scrollTop($('.post-right__scroll')[0].scrollHeight);\n\n        const enableAddButton = this.handleEnableAddButton(message, this.state.fileInfos);\n\n        this.setState({\n            message,\n            enableAddButton\n        });\n    }\n\n    handleKeyDown(e) {\n        if (this.state.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey === true) {\n            this.commentMsgKeyPress(e);\n            return;\n        }\n\n        if (!e.ctrlKey && !e.metaKey && !e.altKey && !e.shiftKey && e.keyCode === KeyCodes.UP && this.state.message === '') {\n            e.preventDefault();\n\n            const lastPost = PostStore.getCurrentUsersLatestPost(this.props.channelId, this.props.rootId);\n            if (!lastPost) {\n                return;\n            }\n\n            AppDispatcher.handleViewAction({\n                type: ActionTypes.RECEIVED_EDIT_POST,\n                refocusId: '#reply_textbox',\n                title: Utils.localizeMessage('create_comment.commentTitle', 'Comment'),\n                message: lastPost.message,\n                postId: lastPost.id,\n                channelId: lastPost.channel_id,\n                comments: PostStore.getCommentCount(lastPost)\n            });\n        }\n\n        if ((e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey && (e.keyCode === Constants.KeyCodes.UP || e.keyCode === Constants.KeyCodes.DOWN)) {\n            const lastMessage = MessageHistoryStore.nextMessageInHistory(e.keyCode, this.state.message, 'comment');\n            if (lastMessage !== null) {\n                e.preventDefault();\n                this.setState({\n                    message: lastMessage,\n                    enableAddButton: true\n                });\n            }\n        }\n    }\n\n    handleFileUploadChange() {\n        this.focusTextbox();\n    }\n\n    handleUploadStart(clientIds) {\n        const draft = PostStore.getCommentDraft(this.props.rootId);\n\n        draft.uploadsInProgress = draft.uploadsInProgress.concat(clientIds);\n        PostStore.storeCommentDraft(this.props.rootId, draft);\n\n        this.setState({uploadsInProgress: draft.uploadsInProgress});\n\n        // this is a bit redundant with the code that sets focus when the file input is clicked,\n        // but this also resets the focus after a drag and drop\n        this.focusTextbox();\n    }\n\n    handleFileUploadComplete(fileInfos, clientIds) {\n        const draft = PostStore.getCommentDraft(this.props.rootId);\n\n        // remove each finished file from uploads\n        for (let i = 0; i < clientIds.length; i++) {\n            const index = draft.uploadsInProgress.indexOf(clientIds[i]);\n\n            if (index !== -1) {\n                draft.uploadsInProgress.splice(index, 1);\n            }\n        }\n\n        draft.fileInfos = draft.fileInfos.concat(fileInfos);\n        PostStore.storeCommentDraft(this.props.rootId, draft);\n\n        // Focus on preview if needed\n        this.refs.preview.refs.container.scrollIntoView();\n\n        const enableAddButton = this.handleEnableAddButton(draft.message, draft.fileInfos);\n\n        this.setState({\n            uploadsInProgress: draft.uploadsInProgress,\n            fileInfos: draft.fileInfos,\n            enableAddButton\n        });\n    }\n\n    handleUploadError(err, clientId) {\n        if (clientId === -1) {\n            this.setState({serverError: err});\n        } else {\n            const draft = PostStore.getCommentDraft(this.props.rootId);\n\n            const index = draft.uploadsInProgress.indexOf(clientId);\n            if (index !== -1) {\n                draft.uploadsInProgress.splice(index, 1);\n            }\n\n            PostStore.storeCommentDraft(this.props.rootId, draft);\n\n            this.setState({uploadsInProgress: draft.uploadsInProgress, serverError: err});\n        }\n    }\n\n    removePreview(id) {\n        const fileInfos = this.state.fileInfos;\n        const uploadsInProgress = this.state.uploadsInProgress;\n\n        // Clear previous errors\n        this.handleUploadError(null);\n\n        // id can either be the id of an uploaded file or the client id of an in progress upload\n        let index = fileInfos.findIndex((info) => info.id === id);\n        if (index === -1) {\n            index = uploadsInProgress.indexOf(id);\n\n            if (index !== -1) {\n                uploadsInProgress.splice(index, 1);\n                this.refs.fileUpload.getWrappedInstance().cancelUpload(id);\n            }\n        } else {\n            fileInfos.splice(index, 1);\n        }\n\n        const draft = PostStore.getCommentDraft(this.props.rootId);\n        draft.fileInfos = fileInfos;\n        draft.uploadsInProgress = uploadsInProgress;\n        PostStore.storeCommentDraft(this.props.rootId, draft);\n\n        this.setState({fileInfos, uploadsInProgress});\n\n        this.handleFileUploadChange();\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (newProps.rootId !== this.props.rootId) {\n            const draft = PostStore.getCommentDraft(newProps.rootId);\n            const enableAddButton = this.handleEnableAddButton(draft.message, draft.fileInfos);\n            this.setState({\n                message: draft.message,\n                uploadsInProgress: draft.uploadsInProgress,\n                fileInfos: draft.fileInfos,\n                enableAddButton\n            });\n        }\n    }\n\n    getFileCount() {\n        return this.state.fileInfos.length + this.state.uploadsInProgress.length;\n    }\n\n    getFileUploadTarget() {\n        return this.refs.textbox;\n    }\n\n    focusTextbox(keepFocus = false) {\n        if (keepFocus || !Utils.isMobile()) {\n            this.refs.textbox.focus();\n        }\n    }\n\n    showPostDeletedModal() {\n        this.setState({\n            showPostDeletedModal: true\n        });\n    }\n\n    hidePostDeletedModal() {\n        this.setState({\n            showPostDeletedModal: false\n        });\n    }\n\n    handleBlur() {\n        this.lastBlurAt = Date.now();\n    }\n\n    handleEnableAddButton(message, fileInfos) {\n        return message.trim().length !== 0 || fileInfos.length !== 0;\n    }\n\n    render() {\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = (\n                <div className='form-group has-error'>\n                    <label className='control-label'>{this.state.serverError}</label>\n                </div>\n            );\n        }\n\n        let postError = null;\n        if (this.state.postError) {\n            const postErrorClass = 'post-error' + (this.state.errorClass ? (' ' + this.state.errorClass) : '');\n            postError = <label className={postErrorClass}>{this.state.postError}</label>;\n        }\n\n        let preview = null;\n        if (this.state.fileInfos.length > 0 || this.state.uploadsInProgress.length > 0) {\n            preview = (\n                <FilePreview\n                    fileInfos={this.state.fileInfos}\n                    onRemove={this.removePreview}\n                    uploadsInProgress={this.state.uploadsInProgress}\n                    ref='preview'\n                />\n            );\n        }\n\n        let uploadsInProgressText = null;\n        if (this.state.uploadsInProgress.length > 0) {\n            uploadsInProgressText = (\n                <span className='pull-right post-right-comments-upload-in-progress'>\n                    {this.state.uploadsInProgress.length === 1 ? (\n                        <FormattedMessage\n                            id='create_comment.file'\n                            defaultMessage='File uploading'\n                        />\n                    ) : (\n                        <FormattedMessage\n                            id='create_comment.files'\n                            defaultMessage='Files uploading'\n                        />\n                    )}\n                </span>\n            );\n        }\n\n        let addButtonClass = 'btn btn-primary comment-btn pull-right';\n        if (!this.state.enableAddButton) {\n            addButtonClass += ' disabled';\n        }\n\n        let emojiPicker = null;\n        if (this.state.showEmojiPicker) {\n            emojiPicker = (\n                <EmojiPicker\n                    onEmojiClick={this.handleEmojiClick}\n                    pickerLocation='bottom'\n                    emojiOffset={this.state.emojiOffset}\n                    outsideClick={this.closeEmoji}\n                />\n            );\n        }\n\n        return (\n            <form onSubmit={this.handleSubmit}>\n                <div className='post-create'>\n                    <div\n                        id={this.props.rootId}\n                        className='post-create-body comment-create-body'\n                    >\n                        <div className='post-body__cell'>\n                            <Textbox\n                                onChange={this.handleChange}\n                                onKeyPress={this.commentMsgKeyPress}\n                                onKeyDown={this.handleKeyDown}\n                                handlePostError={this.handlePostError}\n                                value={this.state.message}\n                                onBlur={this.handleBlur}\n                                createMessage={Utils.localizeMessage('create_comment.addComment', 'Add a comment...')}\n                                emojiEnabled={this.state.emojiPickerEnabled}\n                                initialText=''\n                                channelId={this.props.channelId}\n                                id='reply_textbox'\n                                ref='textbox'\n                            />\n                            <FileUpload\n                                ref='fileUpload'\n                                getFileCount={this.getFileCount}\n                                getTarget={this.getFileUploadTarget}\n                                onFileUploadChange={this.handleFileUploadChange}\n                                onUploadStart={this.handleUploadStart}\n                                onFileUpload={this.handleFileUploadComplete}\n                                onUploadError={this.handleUploadError}\n                                postType='comment'\n                                channelId={this.props.channelId}\n                                onEmojiClick={this.handleEmojiPickerClick}\n                                emojiEnabled={this.state.emojiPickerEnabled}\n                                navBarName='rhs'\n                            />\n\n                            {emojiPicker}\n                        </div>\n                    </div>\n                    <MsgTyping\n                        channelId={this.props.channelId}\n                        parentId={this.props.rootId}\n                    />\n                    <div className='post-create-footer'>\n                        <input\n                            type='button'\n                            className={addButtonClass}\n                            value={Utils.localizeMessage('create_comment.comment', 'Add Comment')}\n                            onClick={this.handleSubmit}\n                        />\n                        {uploadsInProgressText}\n                        {postError}\n                        {preview}\n                        {serverError}\n                    </div>\n                </div>\n                <PostDeletedModal\n                    show={this.state.showPostDeletedModal}\n                    onHide={this.hidePostDeletedModal}\n                />\n            </form>\n        );\n    }\n}\n\nCreateComment.propTypes = {\n    channelId: React.PropTypes.string.isRequired,\n    rootId: React.PropTypes.string.isRequired,\n    latestPostId: React.PropTypes.string\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/create_comment.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\nimport ReactDOM from 'react-dom';\nimport {Modal} from 'react-bootstrap';\nimport ModalStore from 'stores/modal_store.jsx';\nimport {deletePost} from 'actions/post_actions.jsx';\nimport Constants from 'utils/constants.jsx';\n\nimport {FormattedMessage} from 'react-intl';\n\nvar ActionTypes = Constants.ActionTypes;\n\nimport React from 'react';\n\nexport default class DeletePostModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleDelete = this.handleDelete.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n\n        this.state = {\n            show: false,\n            post: null,\n            commentCount: 0,\n            error: ''\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_DELETE_POST_MODAL, this.handleToggle);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.show && !prevState.show) {\n            setTimeout(() => {\n                $(ReactDOM.findDOMNode(this.refs.deletePostBtn)).focus();\n            }, 0);\n        }\n    }\n\n    handleDelete() {\n        deletePost(\n            this.state.post.channel_id,\n            this.state.post,\n            () => {\n                this.handleHide();\n            },\n            (err) => {\n                this.setState({error: err.message});\n            }\n        );\n    }\n\n    handleToggle(value, args) {\n        this.setState({\n            show: value,\n            post: args.post,\n            commentCount: args.commentCount,\n            error: ''\n        });\n    }\n\n    handleHide() {\n        this.setState({show: false});\n    }\n\n    render() {\n        if (!this.state.post) {\n            return null;\n        }\n\n        var error = null;\n        if (this.state.error) {\n            error = <div className='form-group has-error'><label className='control-label'>{this.state.error}</label></div>;\n        }\n\n        var commentWarning = '';\n        if (this.state.commentCount > 0) {\n            commentWarning = (\n                <FormattedMessage\n                    id='delete_post.warning'\n                    defaultMessage='This post has {count} comment(s) on it.'\n                    values={{\n                        count: this.state.commentCount\n                    }}\n                />\n            );\n        }\n\n        const postTerm = this.state.post.root_id ? (\n            <FormattedMessage\n                id='delete_post.comment'\n                defaultMessage='Comment'\n            />\n        ) : (\n            <FormattedMessage\n                id='delete_post.post'\n                defaultMessage='Post'\n            />\n        );\n\n        return (\n            <Modal\n                show={this.state.show}\n                onHide={this.handleHide}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <FormattedMessage\n                            id='delete_post.confirm'\n                            defaultMessage='Confirm {term} Delete'\n                            values={{\n                                term: (postTerm)\n                            }}\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <FormattedMessage\n                        id='delete_post.question'\n                        defaultMessage='Are you sure you want to delete this {term}?'\n                        values={{\n                            term: (postTerm)\n                        }}\n                    />\n                    <br/>\n                    <br/>\n                    {commentWarning}\n                    {error}\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-default'\n                        onClick={this.handleHide}\n                    >\n                        <FormattedMessage\n                            id='delete_post.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </button>\n                    <button\n                        ref='deletePostBtn'\n                        type='button'\n                        className='btn btn-danger'\n                        onClick={this.handleDelete}\n                    >\n                        <FormattedMessage\n                            id='delete_post.del'\n                            defaultMessage='Delete'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/delete_post_modal.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport Textbox from './textbox.jsx';\n\nimport BrowserStore from 'stores/browser_store.jsx';\nimport PostStore from 'stores/post_store.jsx';\nimport MessageHistoryStore from 'stores/message_history_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {updatePost} from 'actions/post_actions.jsx';\n\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport Constants from 'utils/constants.jsx';\nconst KeyCodes = Constants.KeyCodes;\n\nimport $ from 'jquery';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class EditPostModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleEdit = this.handleEdit.bind(this);\n        this.handleEditKeyPress = this.handleEditKeyPress.bind(this);\n        this.handleEditPostEvent = this.handleEditPostEvent.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.onPreferenceChange = this.onPreferenceChange.bind(this);\n        this.onModalHidden = this.onModalHidden.bind(this);\n        this.onModalShow = this.onModalShow.bind(this);\n        this.onModalShown = this.onModalShown.bind(this);\n        this.onModalHide = this.onModalHide.bind(this);\n        this.onModalKeyDown = this.onModalKeyDown.bind(this);\n        this.handlePostError = this.handlePostError.bind(this);\n\n        this.state = {\n            editText: '',\n            originalText: '',\n            title: '',\n            post_id: '',\n            channel_id: '',\n            comments: 0,\n            refocusId: '',\n            ctrlSend: PreferenceStore.getBool(Constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n            postError: ''\n        };\n    }\n\n    handlePostError(postError) {\n        if (this.state.postError !== postError) {\n            this.setState({postError});\n        }\n    }\n\n    handleEdit() {\n        const updatedPost = {\n            message: this.state.editText,\n            id: this.state.post_id,\n            channel_id: this.state.channel_id\n        };\n\n        if (this.state.postError) {\n            this.setState({errorClass: 'animation--highlight'});\n            setTimeout(() => {\n                this.setState({errorClass: null});\n            }, Constants.ANIMATION_TIMEOUT);\n            return;\n        }\n\n        if (updatedPost.message === this.state.originalText) {\n            // no changes so just close the modal\n            $('#edit_post').modal('hide');\n            return;\n        }\n\n        MessageHistoryStore.storeMessageInHistory(updatedPost.message);\n\n        if (updatedPost.message.trim().length === 0) {\n            var tempState = this.state;\n            Reflect.deleteProperty(tempState, 'editText');\n            BrowserStore.setItem('edit_state_transfer', tempState);\n            $('#edit_post').modal('hide');\n            GlobalActions.showDeletePostModal(PostStore.getPost(this.state.channel_id, this.state.post_id), this.state.comments);\n            return;\n        }\n\n        updatePost(\n            updatedPost,\n            () => {\n                window.scrollTo(0, 0);\n            },\n            Boolean(PostStore.getFocusedPostId())  // If there is focused post we need to update that post's store too.\n        );\n\n        $('#edit_post').modal('hide');\n    }\n\n    handleChange(e) {\n        const message = e.target.value;\n        this.setState({\n            editText: message\n        });\n    }\n\n    handleEditKeyPress(e) {\n        if (!UserAgent.isMobile() && !this.state.ctrlSend && e.which === KeyCodes.ENTER && !e.shiftKey && !e.altKey) {\n            e.preventDefault();\n            ReactDOM.findDOMNode(this.refs.editbox).blur();\n            this.handleEdit();\n        } else if (this.state.ctrlSend && e.ctrlKey && e.which === KeyCodes.ENTER) {\n            e.preventDefault();\n            ReactDOM.findDOMNode(this.refs.editbox).blur();\n            this.handleEdit();\n        }\n    }\n\n    handleEditPostEvent(options) {\n        var post = PostStore.getPost(options.channelId, options.postId);\n        if (global.window.mm_license.IsLicensed === 'true') {\n            if (global.window.mm_config.AllowEditPost === Constants.ALLOW_EDIT_POST_NEVER) {\n                return;\n            }\n            if (global.window.mm_config.AllowEditPost === Constants.ALLOW_EDIT_POST_TIME_LIMIT) {\n                if ((post.create_at + (global.window.mm_config.PostEditTimeLimit * 1000)) < Utils.getTimestamp()) {\n                    return;\n                }\n            }\n        }\n        this.setState({\n            editText: options.message || '',\n            originalText: options.message || '',\n            title: options.title || '',\n            post_id: options.postId || '',\n            channel_id: options.channelId || '',\n            comments: options.comments || 0,\n            refocusId: options.refocusId || ''\n        });\n\n        $(ReactDOM.findDOMNode(this.refs.modal)).modal('show');\n    }\n\n    handleKeyDown(e) {\n        if (this.state.ctrlSend && e.keyCode === KeyCodes.ENTER && e.ctrlKey === true) {\n            this.handleEdit();\n        }\n    }\n\n    onPreferenceChange() {\n        this.setState({\n            ctrlSend: PreferenceStore.getBool(Constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter')\n        });\n    }\n\n    onModalHidden() {\n        this.setState({editText: '', originalText: '', title: '', channel_id: '', post_id: '', comments: 0, refocusId: '', error: '', typing: false});\n    }\n\n    onModalShow(e) {\n        var button = e.relatedTarget;\n        if (!button) {\n            return;\n        }\n        this.setState({\n            editText: $(button).attr('data-message'),\n            originalText: $(button).attr('data-message'),\n            title: $(button).attr('data-title'),\n            channel_id: $(button).attr('data-channelid'),\n            post_id: $(button).attr('data-postid'),\n            comments: $(button).attr('data-comments'),\n            refocusId: $(button).attr('data-refocusid'),\n            typing: false\n        });\n    }\n\n    onModalShown() {\n        this.refs.editbox.focus();\n\n        this.refs.editbox.recalculateSize();\n    }\n\n    onModalHide() {\n        this.refs.editbox.hidePreview();\n\n        if (this.state.refocusId !== '') {\n            setTimeout(() => {\n                const element = $(this.state.refocusId).get(0);\n                if (element) {\n                    element.focus();\n                }\n            });\n        }\n    }\n\n    onModalKeyDown(e) {\n        if (e.which === Constants.KeyCodes.ESCAPE) {\n            e.stopPropagation();\n        }\n    }\n\n    componentDidMount() {\n        $(this.refs.modal).on('hidden.bs.modal', this.onModalHidden);\n        $(this.refs.modal).on('show.bs.modal', this.onModalShow);\n        $(this.refs.modal).on('shown.bs.modal', this.onModalShown);\n        $(this.refs.modal).on('hide.bs.modal', this.onModalHide);\n        $(this.refs.modal).on('keydown', this.onModalKeyDown);\n        PostStore.addEditPostListener(this.handleEditPostEvent);\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n    }\n\n    componentWillUnmount() {\n        $(this.refs.modal).off('hidden.bs.modal', this.onModalHidden);\n        $(this.refs.modal).off('show.bs.modal', this.onModalShow);\n        $(this.refs.modal).off('shown.bs.modal', this.onModalShown);\n        $(this.refs.modal).off('hide.bs.modal', this.onModalHide);\n        $(this.refs.modal).off('keydown', this.onModalKeyDown);\n        PostStore.removeEditPostListner(this.handleEditPostEvent);\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n    }\n\n    render() {\n        const errorBoxClass = 'edit-post-footer' + (this.state.postError ? ' has-error' : '');\n        let postError = null;\n        if (this.state.postError) {\n            const postErrorClass = 'post-error' + (this.state.errorClass ? (' ' + this.state.errorClass) : '');\n            postError = (<label className={postErrorClass}>{this.state.postError}</label>);\n        }\n\n        return (\n            <div\n                className='modal fade edit-modal'\n                ref='modal'\n                id='edit_post'\n                role='dialog'\n                tabIndex='-1'\n                aria-hidden='true'\n            >\n                <div className='modal-dialog modal-push-down modal-xl'>\n                    <div className='modal-content'>\n                        <div className='modal-header'>\n                            <button\n                                type='button'\n                                className='close'\n                                data-dismiss='modal'\n                                aria-label='Close'\n                            >\n                                <span aria-hidden='true'>{''}</span>\n                            </button>\n                            <h4 className='modal-title'>\n                                <FormattedMessage\n                                    id='edit_post.edit'\n                                    defaultMessage='Edit {title}'\n                                    values={{\n                                        title: this.state.title\n                                    }}\n                                />\n                            </h4>\n                        </div>\n                        <div className='edit-modal-body modal-body'>\n                            <Textbox\n                                onChange={this.handleChange}\n                                onKeyPress={this.handleEditKeyPress}\n                                onKeyDown={this.handleKeyDown}\n                                handlePostError={this.handlePostError}\n                                value={this.state.editText}\n                                channelId={this.state.channel_id}\n                                createMessage={Utils.localizeMessage('edit_post.editPost', 'Edit the post...')}\n                                supportsCommands={false}\n                                suggestionListStyle='bottom'\n                                id='edit_textbox'\n                                ref='editbox'\n                            />\n                            <div className={errorBoxClass}>\n                                {postError}\n                            </div>\n                        </div>\n                        <div className='modal-footer'>\n                            <button\n                                type='button'\n                                className='btn btn-default'\n                                data-dismiss='modal'\n                            >\n                                <FormattedMessage\n                                    id='edit_post.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                            <button\n                                type='button'\n                                className='btn btn-primary'\n                                onClick={this.handleEdit}\n                            >\n                                <FormattedMessage\n                                    id='edit_post.save'\n                                    defaultMessage='Save'\n                                />\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/edit_post_modal.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport GetLinkModal from './get_link_modal.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport Constants from 'utils/constants.jsx';\n\nimport React from 'react';\nimport PureRenderMixin from 'react-addons-pure-render-mixin';\n\nexport default class GetPostLinkModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleToggle = this.handleToggle.bind(this);\n        this.hide = this.hide.bind(this);\n\n        this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\n\n        this.state = {\n            show: false,\n            post: {}\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n    }\n\n    handleToggle(value, args) {\n        this.setState({\n            show: value,\n            post: args.post\n        });\n    }\n\n    hide() {\n        this.setState({\n            show: false\n        });\n    }\n\n    render() {\n        return (\n            <GetLinkModal\n                show={this.state.show}\n                onHide={this.hide}\n                title={Utils.localizeMessage('get_post_link_modal.title', 'Copy Permalink')}\n                helpText={Utils.localizeMessage('get_post_link_modal.help', 'The link below allows authorized users to see your post.')}\n                link={TeamStore.getCurrentTeamUrl() + '/pl/' + this.state.post.id}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_post_link_modal.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\n\nimport * as AsyncClient from 'utils/async_client.jsx';\nimport Constants from 'utils/constants.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport PureRenderMixin from 'react-addons-pure-render-mixin';\nimport * as Utils from 'utils/utils.jsx';\n\nimport GetLinkModal from './get_link_modal.jsx';\n\nexport default class GetPublicLinkModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handlePublicLink = this.handlePublicLink.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n        this.hide = this.hide.bind(this);\n\n        this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\n\n        this.state = {\n            show: false,\n            fileId: '',\n            link: ''\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.show && !prevState.show) {\n            AsyncClient.getPublicLink(this.state.fileId, this.handlePublicLink);\n        }\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n    }\n\n    handlePublicLink(link) {\n        this.setState({\n            link\n        });\n    }\n\n    handleToggle(value, args) {\n        this.setState({\n            show: value,\n            fileId: args.fileId,\n            link: ''\n        });\n    }\n\n    hide() {\n        this.setState({\n            show: false\n        });\n    }\n\n    render() {\n        return (\n            <GetLinkModal\n                show={this.state.show}\n                onHide={this.hide}\n                title={Utils.localizeMessage('get_public_link_modal.title', 'Copy Public Link')}\n                helpText={Utils.localizeMessage('get_public_link_modal.help', 'The link below allows anyone to see this file without being registered on this server.')}\n                link={this.state.link}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_public_link_modal.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport GetLinkModal from './get_link_modal.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport Constants from 'utils/constants.jsx';\n\nimport React from 'react';\nimport PureRenderMixin from 'react-addons-pure-render-mixin';\n\nexport default class GetTeamInviteLinkModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleToggle = this.handleToggle.bind(this);\n\n        this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\n\n        this.state = {\n            show: false\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL, this.handleToggle);\n    }\n\n    handleToggle(value) {\n        this.setState({\n            show: value\n        });\n    }\n\n    render() {\n        let helpText;\n        if (global.window.mm_config.EnableUserCreation === 'true') {\n            helpText = Utils.localizeMessage('get_team_invite_link_modal.help', 'Send teammates the link below for them to sign-up to this team site. The Team Invite Link can be shared with multiple teammates as it does not change unless it\\'s regenerated in Team Settings by a Team Admin.');\n        } else {\n            helpText = Utils.localizeMessage('get_team_invite_link_modal.helpDisabled', 'User creation has been disabled for your team. Please ask your team administrator for details.');\n        }\n\n        return (\n            <GetLinkModal\n                show={this.state.show}\n                onHide={() => this.setState({show: false})}\n                title={Utils.localizeMessage('get_team_invite_link_modal.title', 'Team Invite Link')}\n                helpText={helpText}\n                link={TeamStore.getCurrentInviteLink()}\n            />\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/get_team_invite_link_modal.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport ReactDOM from 'react-dom';\nimport * as utils from 'utils/utils.jsx';\nimport Constants from 'utils/constants.jsx';\nconst ActionTypes = Constants.ActionTypes;\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport ConfirmModal from './confirm_modal.jsx';\nimport {inviteMembers} from 'actions/team_actions.jsx';\n\nimport {intlShape, injectIntl, defineMessages, FormattedMessage, FormattedHTMLMessage} from 'react-intl';\n\nimport {Modal} from 'react-bootstrap';\n\nconst holders = defineMessages({\n    emailError: {\n        id: 'invite_member.emailError',\n        defaultMessage: 'Please enter a valid email address'\n    },\n    firstname: {\n        id: 'invite_member.firstname',\n        defaultMessage: 'First name'\n    },\n    lastname: {\n        id: 'invite_member.lastname',\n        defaultMessage: 'Last name'\n    },\n    modalTitle: {\n        id: 'invite_member.modalTitle',\n        defaultMessage: 'Discard Invitations?'\n    },\n    modalMessage: {\n        id: 'invite_member.modalMessage',\n        defaultMessage: 'You have unsent invitations, are you sure you want to discard them?'\n    },\n    modalButton: {\n        id: 'invite_member.modalButton',\n        defaultMessage: 'Yes, Discard'\n    }\n});\n\nimport React from 'react';\n\nclass InviteMemberModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.teamChange = this.teamChange.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n        this.addInviteFields = this.addInviteFields.bind(this);\n        this.clearFields = this.clearFields.bind(this);\n        this.removeInviteFields = this.removeInviteFields.bind(this);\n        this.showGetTeamInviteLinkModal = this.showGetTeamInviteLinkModal.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n\n        const team = TeamStore.getCurrent();\n\n        this.state = {\n            show: false,\n            inviteIds: [0],\n            idCount: 0,\n            emailErrors: {},\n            firstNameErrors: {},\n            lastNameErrors: {},\n            emailEnabled: global.window.mm_config.SendEmailNotifications === 'true',\n            userCreationEnabled: global.window.mm_config.EnableUserCreation === 'true',\n            showConfirmModal: false,\n            isSendingEmails: false,\n            teamType: team ? team.type : null\n        };\n    }\n\n    teamChange() {\n        const team = TeamStore.getCurrent();\n        const teamType = team ? team.type : null;\n        this.setState({\n            teamType\n        });\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n        TeamStore.addChangeListener(this.teamChange);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_INVITE_MEMBER_MODAL, this.handleToggle);\n        TeamStore.removeChangeListener(this.teamChange);\n    }\n\n    handleToggle(value) {\n        this.setState({\n            show: value\n        });\n    }\n\n    handleSubmit() {\n        if (!this.state.emailEnabled) {\n            return;\n        }\n\n        var inviteIds = this.state.inviteIds;\n        var count = inviteIds.length;\n        var invites = [];\n        var emailErrors = this.state.emailErrors;\n        var firstNameErrors = this.state.firstNameErrors;\n        var lastNameErrors = this.state.lastNameErrors;\n        var valid = true;\n\n        for (var i = 0; i < count; i++) {\n            var index = inviteIds[i];\n            var invite = {};\n            invite.email = ReactDOM.findDOMNode(this.refs['email' + index]).value.trim();\n            if (!invite.email || !utils.isEmail(invite.email)) {\n                emailErrors[index] = this.props.intl.formatMessage(holders.emailError);\n                valid = false;\n            } else {\n                emailErrors[index] = '';\n            }\n\n            invite.firstName = ReactDOM.findDOMNode(this.refs['first_name' + index]).value.trim();\n\n            invite.lastName = ReactDOM.findDOMNode(this.refs['last_name' + index]).value.trim();\n\n            invites.push(invite);\n        }\n\n        this.setState({emailErrors, firstNameErrors, lastNameErrors});\n\n        if (!valid || invites.length === 0) {\n            return;\n        }\n\n        var data = {};\n        data.invites = invites;\n\n        this.setState({isSendingEmails: true});\n\n        inviteMembers(\n            data,\n            () => {\n                this.handleHide(false);\n                this.setState({isSendingEmails: false});\n            },\n            (err) => {\n                if (err.id === 'api.team.invite_members.already.app_error') {\n                    emailErrors[err.detailed_error] = err.message;\n                    this.setState({emailErrors});\n                } else {\n                    this.setState({serverError: err.message});\n                }\n\n                this.setState({isSendingEmails: false});\n            }\n        );\n    }\n\n    handleHide(requireConfirm) {\n        if (requireConfirm) {\n            var notEmpty = false;\n            for (var i = 0; i < this.state.inviteIds.length; i++) {\n                var index = this.state.inviteIds[i];\n                if (ReactDOM.findDOMNode(this.refs['email' + index]).value.trim() !== '') {\n                    notEmpty = true;\n                    break;\n                }\n            }\n\n            if (notEmpty) {\n                this.setState({\n                    showConfirmModal: true\n                });\n\n                return;\n            }\n        }\n\n        this.clearFields();\n\n        this.setState({\n            show: false,\n            showConfirmModal: false\n        });\n    }\n\n    addInviteFields() {\n        var count = this.state.idCount + 1;\n        var inviteIds = this.state.inviteIds;\n        inviteIds.push(count);\n        this.setState({inviteIds, idCount: count});\n    }\n\n    clearFields() {\n        var inviteIds = this.state.inviteIds;\n\n        for (var i = 0; i < inviteIds.length; i++) {\n            var index = inviteIds[i];\n            ReactDOM.findDOMNode(this.refs['email' + index]).value = '';\n            ReactDOM.findDOMNode(this.refs['first_name' + index]).value = '';\n            ReactDOM.findDOMNode(this.refs['last_name' + index]).value = '';\n        }\n\n        this.setState({\n            inviteIds: [0],\n            idCount: 0,\n            emailErrors: {},\n            firstNameErrors: {},\n            lastNameErrors: {}\n        });\n    }\n\n    removeInviteFields(index) {\n        var count = this.state.idCount;\n        var inviteIds = this.state.inviteIds;\n        var i = inviteIds.indexOf(index);\n        if (i > -1) {\n            inviteIds.splice(i, 1);\n        }\n        if (!inviteIds.length) {\n            inviteIds.push(++count);\n        }\n        this.setState({inviteIds, idCount: count});\n    }\n\n    showGetTeamInviteLinkModal() {\n        this.handleHide(false);\n\n        GlobalActions.showGetTeamInviteLinkModal();\n    }\n\n    handleKeyDown(e) {\n        if (e.keyCode === Constants.KeyCodes.ENTER) {\n            e.preventDefault();\n            this.handleSubmit();\n        }\n    }\n\n    render() {\n        var currentUser = UserStore.getCurrentUser();\n        const {formatMessage} = this.props.intl;\n\n        if (currentUser != null && this.state.teamType != null) {\n            var inviteSections = [];\n            var inviteIds = this.state.inviteIds;\n            for (var i = 0; i < inviteIds.length; i++) {\n                var index = inviteIds[i];\n                var emailError = null;\n                if (this.state.emailErrors[index]) {\n                    emailError = <label className='control-label'>{this.state.emailErrors[index]}</label>;\n                }\n                var firstNameError = null;\n                if (this.state.firstNameErrors[index]) {\n                    firstNameError = <label className='control-label'>{this.state.firstNameErrors[index]}</label>;\n                }\n                var lastNameError = null;\n                if (this.state.lastNameErrors[index]) {\n                    lastNameError = <label className='control-label'>{this.state.lastNameErrors[index]}</label>;\n                }\n\n                var removeButton = null;\n                if (index) {\n                    removeButton = (\n                        <div>\n                            <button\n                                type='button'\n                                className='btn btn-link remove__member'\n                                onClick={this.removeInviteFields.bind(this, index)}\n                            >\n                                <span className='fa fa-trash'/>\n                            </button>\n                        </div>\n                    );\n                }\n                var emailClass = 'form-group invite';\n                if (emailError) {\n                    emailClass += ' has-error';\n                }\n\n                var nameFields = null;\n\n                var firstNameClass = 'form-group';\n                if (firstNameError) {\n                    firstNameClass += ' has-error';\n                }\n                var lastNameClass = 'form-group';\n                if (lastNameError) {\n                    lastNameClass += ' has-error';\n                }\n                nameFields = (\n                    <div className='row row--invite'>\n                        <div className='col-sm-6'>\n                            <div className={firstNameClass}>\n                                <input\n                                    onKeyDown={this.handleKeyDown}\n                                    type='text'\n                                    className='form-control'\n                                    ref={'first_name' + index}\n                                    placeholder={formatMessage(holders.firstname)}\n                                    maxLength='64'\n                                    disabled={!this.state.emailEnabled || !this.state.userCreationEnabled}\n                                    spellCheck='false'\n                                />\n                                {firstNameError}\n                            </div>\n                        </div>\n                        <div className='col-sm-6'>\n                            <div className={lastNameClass}>\n                                <input\n                                    onKeyDown={this.handleKeyDown}\n                                    type='text'\n                                    className='form-control'\n                                    ref={'last_name' + index}\n                                    placeholder={formatMessage(holders.lastname)}\n                                    maxLength='64'\n                                    disabled={!this.state.emailEnabled || !this.state.userCreationEnabled}\n                                    spellCheck='false'\n                                />\n                                {lastNameError}\n                            </div>\n                        </div>\n                    </div>\n                );\n\n                inviteSections[index] = (\n                    <div key={'key' + index}>\n                        {removeButton}\n                        <div className={emailClass}>\n                            <input\n                                onKeyUp={this.displayNameKeyUp}\n                                onKeyDown={this.handleKeyDown}\n                                type='text'\n                                ref={'email' + index}\n                                className='form-control'\n                                placeholder='email@domain.com'\n                                maxLength='64'\n                                disabled={!this.state.emailEnabled || !this.state.userCreationEnabled}\n                                spellCheck='false'\n                            />\n                            {emailError}\n                        </div>\n                        {nameFields}\n                    </div>\n                );\n            }\n\n            var serverError = null;\n            if (this.state.serverError) {\n                serverError = <div className='form-group has-error'><label className='control-label'>{this.state.serverError}</label></div>;\n            }\n\n            var content = null;\n            var sendButton = null;\n\n            var defaultChannelName = '';\n            if (ChannelStore.getByName(Constants.DEFAULT_CHANNEL)) {\n                defaultChannelName = ChannelStore.getByName(Constants.DEFAULT_CHANNEL).display_name;\n            }\n\n            if (this.state.emailEnabled && this.state.userCreationEnabled) {\n                content = (\n                    <div>\n                        {serverError}\n                        <button\n                            type='button'\n                            className='btn btn-default'\n                            onClick={this.addInviteFields}\n                        >\n                            <FormattedMessage\n                                id='invite_member.addAnother'\n                                defaultMessage='Add another'\n                            />\n                        </button>\n                        <br/>\n                        <br/>\n                        <span>\n                            <FormattedHTMLMessage\n                                id='invite_member.autoJoin'\n                                defaultMessage='People invited automatically join the <strong>{channel}</strong> channel.'\n                                values={{\n                                    channel: defaultChannelName\n                                }}\n                            />\n                        </span>\n                    </div>\n                );\n\n                var sendButtonLabel = (\n                    <FormattedMessage\n                        id='invite_member.send'\n                        defaultMessage='Send Invitation'\n                    />\n                );\n                if (this.state.isSendingEmails) {\n                    sendButtonLabel = (\n                        <span><i className='fa fa-spinner fa-spin'/>\n                            <FormattedMessage\n                                id='invite_member.sending'\n                                defaultMessage=' Sending'\n                            />\n                        </span>\n                    );\n                } else if (this.state.inviteIds.length > 1) {\n                    sendButtonLabel = (\n                        <FormattedMessage\n                            id='invite_member.send2'\n                            defaultMessage='Send Invitations'\n                        />\n                    );\n                }\n\n                sendButton = (\n                    <button\n                        onClick={this.handleSubmit}\n                        type='button'\n                        className='btn btn-primary'\n                        disabled={this.state.isSendingEmails}\n                    >\n                        {sendButtonLabel}\n                    </button>\n                );\n            } else if (this.state.userCreationEnabled) {\n                var teamInviteLink = null;\n                if (currentUser && this.state.teamType === 'O') {\n                    var link = (\n                        <a\n                            href='#'\n                            onClick={this.showGetTeamInviteLinkModal}\n                        >\n                            <FormattedMessage\n                                id='invite_member.inviteLink'\n                                defaultMessage='Team Invite Link'\n                            />\n                        </a>\n                    );\n\n                    teamInviteLink = (\n                        <p>\n                            <FormattedMessage\n                                id='invite_member.teamInviteLink'\n                                defaultMessage='You can also invite people using the {link}.'\n                                values={{\n                                    link\n                                }}\n                            />\n                        </p>\n                    );\n                }\n\n                content = (\n                    <div>\n                        <p>\n                            <FormattedMessage\n                                id='invite_member.content'\n                                defaultMessage='Email is currently disabled for your team, and email invitations cannot be sent. Contact your System Administrator to enable email and email invitations.'\n                            />\n                        </p>\n                        {teamInviteLink}\n                    </div>\n                );\n            } else {\n                content = (\n                    <div>\n                        <p>\n                            <FormattedMessage\n                                id='invite_member.disabled'\n                                defaultMessage='User creation has been disabled for your team. Please ask your Team Administrator for details.'\n                            />\n                        </p>\n                    </div>\n                );\n            }\n\n            return (\n                <div>\n                    <Modal\n                        dialogClassName='modal-invite-member'\n                        show={this.state.show}\n                        onHide={this.handleHide.bind(this, true)}\n                        enforceFocus={!this.state.showConfirmModal}\n                        backdrop={this.state.isSendingEmails ? 'static' : true}\n                    >\n                        <Modal.Header closeButton={!this.state.isSendingEmails}>\n                            <Modal.Title>\n                                <FormattedMessage\n                                    id='invite_member.newMember'\n                                    defaultMessage='Send Email Invite'\n                                />\n                            </Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body ref='modalBody'>\n                            <form role='form'>\n                                {inviteSections}\n                            </form>\n                            {content}\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <button\n                                type='button'\n                                className='btn btn-default'\n                                onClick={this.handleHide.bind(this, true)}\n                                disabled={this.state.isSendingEmails}\n                            >\n                                <FormattedMessage\n                                    id='invite_member.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                            {sendButton}\n                        </Modal.Footer>\n                    </Modal>\n                    <ConfirmModal\n                        title={formatMessage(holders.modalTitle)}\n                        message={formatMessage(holders.modalMessage)}\n                        confirmButton={formatMessage(holders.modalButton)}\n                        show={this.state.showConfirmModal}\n                        onConfirm={this.handleHide.bind(this, false)}\n                        onCancel={() => this.setState({showConfirmModal: false})}\n                    />\n                </div>\n            );\n        }\n\n        return null;\n    }\n}\n\nInviteMemberModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(InviteMemberModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/invite_member_modal.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {ActionTypes, WebrtcActionTypes} from 'utils/constants.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport ModalStore from 'stores/modal_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport {intlShape, injectIntl, FormattedMessage} from 'react-intl';\n\nimport {Modal} from 'react-bootstrap';\n\nimport React from 'react';\n\nclass LeaveTeamModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleToggle = this.handleToggle.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n\n        this.state = {\n            show: false\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_LEAVE_TEAM_MODAL, this.handleToggle);\n    }\n\n    handleToggle(value) {\n        this.setState({\n            show: value\n        });\n    }\n\n    handleSubmit(e) {\n        this.setState({\n            show: false\n        });\n\n        if (WebrtcStore.isBusy()) {\n            WebrtcStore.emitChanged({action: WebrtcActionTypes.IN_PROGRESS});\n            e.preventDefault();\n            return;\n        }\n\n        GlobalActions.emitLeaveTeam();\n    }\n\n    handleHide() {\n        this.setState({\n            show: false\n        });\n    }\n\n    render() {\n        var currentUser = UserStore.getCurrentUser();\n\n        if (currentUser != null) {\n            return (\n                <Modal\n                    className='modal-confirm'\n                    show={this.state.show}\n                    onHide={this.handleHide}\n                >\n                    <Modal.Header closeButton={false}>\n                        <Modal.Title>\n                            <FormattedMessage\n                                id='leave_team_modal.title'\n                                defaultMessage='Leave the team?'\n                            />\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <FormattedMessage\n                            id='leave_team_modal.desc'\n                            defaultMessage='You will be removed from all public and private channels.  If the team is private you will not be able to rejoin the team.  Are you sure?'\n                        />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <button\n                            type='button'\n                            className='btn btn-default'\n                            onClick={this.handleHide}\n                        >\n                            <FormattedMessage\n                                id='leave_team_modal.no'\n                                defaultMessage='No'\n                            />\n                        </button>\n                        <button\n                            type='button'\n                            className='btn btn-danger'\n                            onClick={this.handleSubmit}\n                        >\n                            <FormattedMessage\n                                id='leave_team_modal.yes'\n                                defaultMessage='Yes'\n                            />\n                        </button>\n                    </Modal.Footer>\n                </Modal>\n            );\n        }\n\n        return null;\n    }\n}\n\nLeaveTeamModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(LeaveTeamModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/leave_team_modal.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\nimport EditChannelHeaderModal from './edit_channel_header_modal.jsx';\nimport EditChannelPurposeModal from './edit_channel_purpose_modal.jsx';\nimport MessageWrapper from './message_wrapper.jsx';\nimport NotifyCounts from './notify_counts.jsx';\nimport ChannelInfoModal from './channel_info_modal.jsx';\nimport ChannelInviteModal from './channel_invite_modal.jsx';\nimport ChannelMembersModal from './channel_members_modal.jsx';\nimport ChannelNotificationsModal from './channel_notifications_modal.jsx';\nimport DeleteChannelModal from './delete_channel_modal.jsx';\nimport RenameChannelModal from './rename_channel_modal.jsx';\nimport ToggleModalButton from './toggle_modal_button.jsx';\nimport StatusIcon from './status_icon.jsx';\n\nimport UserStore from 'stores/user_store.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport SearchStore from 'stores/search_store.jsx';\n\nimport ChannelSwitchModal from './channel_switch_modal.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport * as ChannelUtils from 'utils/channel_utils.jsx';\nimport * as ChannelActions from 'actions/channel_actions.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {getPinnedPosts} from 'actions/post_actions.jsx';\n\nimport Constants from 'utils/constants.jsx';\nconst ActionTypes = Constants.ActionTypes;\n\nimport AppDispatcher from '../dispatcher/app_dispatcher.jsx';\n\nimport {FormattedMessage} from 'react-intl';\n\nimport {Popover, OverlayTrigger} from 'react-bootstrap';\n\nimport {Link} from 'react-router/es6';\n\nimport React from 'react';\n\nexport default class Navbar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n        this.handleLeave = this.handleLeave.bind(this);\n        this.showSearch = this.showSearch.bind(this);\n\n        this.showEditChannelHeaderModal = this.showEditChannelHeaderModal.bind(this);\n        this.showRenameChannelModal = this.showRenameChannelModal.bind(this);\n        this.hideRenameChannelModal = this.hideRenameChannelModal.bind(this);\n        this.isStateValid = this.isStateValid.bind(this);\n\n        this.createCollapseButtons = this.createCollapseButtons.bind(this);\n        this.createDropdown = this.createDropdown.bind(this);\n\n        this.showMembersModal = this.showMembersModal.bind(this);\n        this.hideMembersModal = this.hideMembersModal.bind(this);\n\n        this.showChannelSwitchModal = this.showChannelSwitchModal.bind(this);\n        this.hideChannelSwitchModal = this.hideChannelSwitchModal.bind(this);\n\n        this.openDirectMessageModal = this.openDirectMessageModal.bind(this);\n        this.getPinnedPosts = this.getPinnedPosts.bind(this);\n\n        const state = this.getStateFromStores();\n        state.showEditChannelPurposeModal = false;\n        state.showEditChannelHeaderModal = false;\n        state.showMembersModal = false;\n        state.showRenameChannelModal = false;\n        state.showChannelSwitchModal = false;\n        this.state = state;\n    }\n\n    getStateFromStores() {\n        const channel = ChannelStore.getCurrent();\n\n        return {\n            channel,\n            member: ChannelStore.getCurrentMember(),\n            users: [],\n            userCount: ChannelStore.getCurrentStats().member_count,\n            currentUser: UserStore.getCurrentUser(),\n            isFavorite: channel && ChannelUtils.isFavoriteChannel(channel)\n        };\n    }\n\n    isStateValid() {\n        return this.state.channel && this.state.member && this.state.users && this.state.currentUser;\n    }\n\n    componentDidMount() {\n        ChannelStore.addChangeListener(this.onChange);\n        ChannelStore.addStatsChangeListener(this.onChange);\n        UserStore.addStatusesChangeListener(this.onChange);\n        UserStore.addChangeListener(this.onChange);\n        PreferenceStore.addChangeListener(this.onChange);\n        $('.inner-wrap').click(this.hideSidebars);\n        document.addEventListener('keydown', this.showChannelSwitchModal);\n    }\n\n    componentWillUnmount() {\n        ChannelStore.removeChangeListener(this.onChange);\n        ChannelStore.removeStatsChangeListener(this.onChange);\n        UserStore.removeStatusesChangeListener(this.onChange);\n        UserStore.removeChangeListener(this.onChange);\n        PreferenceStore.removeChangeListener(this.onChange);\n        document.removeEventListener('keydown', this.showChannelSwitchModal);\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n    }\n\n    handleLeave() {\n        ChannelActions.leaveChannel(this.state.channel.id);\n    }\n\n    hideSidebars(e) {\n        var windowWidth = $(window).outerWidth();\n        if (windowWidth <= 768) {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_SEARCH,\n                results: null\n            });\n\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_POST_SELECTED,\n                postId: null\n            });\n\n            if (e.target.className !== 'navbar-toggle' && e.target.className !== 'icon-bar') {\n                $('.app__body .inner-wrap').removeClass('move--right move--left move--left-small');\n                $('.app__body .sidebar--left').removeClass('move--right');\n                $('.multi-teams .team-sidebar').removeClass('move--right');\n                $('.app__body .sidebar--right').removeClass('move--left');\n                $('.app__body .sidebar--menu').removeClass('move--left');\n            }\n        }\n    }\n\n    toggleLeftSidebar() {\n        $('.app__body .inner-wrap').toggleClass('move--right');\n        $('.app__body .sidebar--left').toggleClass('move--right');\n        $('.multi-teams .team-sidebar').toggleClass('move--right');\n    }\n\n    toggleRightSidebar() {\n        $('.app__body .inner-wrap').toggleClass('move--left-small');\n        $('.app__body .sidebar--menu').toggleClass('move--left');\n    }\n\n    showSearch() {\n        AppDispatcher.handleServerAction({\n            type: ActionTypes.SHOW_SEARCH\n        });\n    }\n\n    onChange() {\n        this.setState(this.getStateFromStores());\n    }\n\n    showEditChannelHeaderModal() {\n        // this can't be done using a ToggleModalButton because we can't use one inside an OverlayTrigger\n        if (this.refs.headerOverlay) {\n            this.refs.headerOverlay.hide();\n        }\n\n        this.setState({\n            showEditChannelHeaderModal: true\n        });\n    }\n\n    showRenameChannelModal(e) {\n        e.preventDefault();\n\n        this.setState({\n            showRenameChannelModal: true\n        });\n    }\n\n    hideRenameChannelModal() {\n        this.setState({\n            showRenameChannelModal: false\n        });\n    }\n\n    showMembersModal(e) {\n        e.preventDefault();\n\n        this.setState({showMembersModal: true});\n    }\n\n    hideMembersModal() {\n        this.setState({showMembersModal: false});\n    }\n\n    showChannelSwitchModal(e) {\n        if (Utils.cmdOrCtrlPressed(e) && e.keyCode === Constants.KeyCodes.K) {\n            e.preventDefault();\n            this.setState({showChannelSwitchModal: !this.state.showChannelSwitchModal});\n        }\n    }\n\n    hideChannelSwitchModal() {\n        this.setState({\n            showChannelSwitchModal: false\n        });\n    }\n\n    openDirectMessageModal() {\n        AppDispatcher.handleViewAction({\n            type: ActionTypes.TOGGLE_DM_MODAL,\n            value: true,\n            startingUsers: UserStore.getProfileListInChannel(this.state.channel.id, true)\n        });\n    }\n\n    getPinnedPosts(e) {\n        e.preventDefault();\n        if (SearchStore.isPinnedPosts) {\n            GlobalActions.toggleSideBarAction(false);\n        } else {\n            getPinnedPosts(this.state.channel.id);\n        }\n    }\n\n    toggleFavorite = (e) => {\n        e.preventDefault();\n\n        if (this.state.isFavorite) {\n            ChannelActions.unmarkFavorite(this.state.channel.id);\n        } else {\n            ChannelActions.markFavorite(this.state.channel.id);\n        }\n    };\n\n    createDropdown(channel, channelTitle, isAdmin, isSystemAdmin, isChannelAdmin, isDirect, isGroup, popoverContent) {\n        if (channel) {\n            let viewInfoOption;\n            let viewPinnedPostsOption;\n            let addMembersOption;\n            let manageMembersOption;\n            let setChannelHeaderOption;\n            let setChannelPurposeOption;\n            let notificationPreferenceOption;\n            let renameChannelOption;\n            let deleteChannelOption;\n            let leaveChannelOption;\n\n            if (isDirect) {\n                setChannelHeaderOption = (\n                    <li role='presentation'>\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.showEditChannelHeaderModal}\n                        >\n                            <FormattedMessage\n                                id='channel_header.channelHeader'\n                                defaultMessage='Set Channel Header...'\n                            />\n                        </a>\n                    </li>\n                );\n            } else if (isGroup) {\n                setChannelHeaderOption = (\n                    <li role='presentation'>\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.showEditChannelHeaderModal}\n                        >\n                            <FormattedMessage\n                                id='channel_header.channelHeader'\n                                defaultMessage='Set Channel Header...'\n                            />\n                        </a>\n                    </li>\n                );\n\n                notificationPreferenceOption = (\n                    <li role='presentation'>\n                        <ToggleModalButton\n                            role='menuitem'\n                            dialogType={ChannelNotificationsModal}\n                            dialogProps={{\n                                channel,\n                                channelMember: this.state.member,\n                                currentUser: this.state.currentUser\n                            }}\n                        >\n                            <FormattedMessage\n                                id='navbar.preferences'\n                                defaultMessage='Notification Preferences'\n                            />\n                        </ToggleModalButton>\n                    </li>\n                );\n\n                addMembersOption = (\n                    <li\n                        role='presentation'\n                    >\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.openDirectMessageModal}\n                        >\n                            <FormattedMessage\n                                id='navbar.addMembers'\n                                defaultMessage='Add Members'\n                            />\n                        </a>\n                    </li>\n                );\n            } else {\n                viewInfoOption = (\n                    <li role='presentation'>\n                        <ToggleModalButton\n                            role='menuitem'\n                            dialogType={ChannelInfoModal}\n                            dialogProps={{channel}}\n                        >\n                            <FormattedMessage\n                                id='navbar.viewInfo'\n                                defaultMessage='View Info'\n                            />\n                        </ToggleModalButton>\n                    </li>\n                );\n\n                viewPinnedPostsOption = (\n                    <li role='presentation'>\n                        <a\n                            role='menuitem'\n                            href='#'\n                            onClick={this.getPinnedPosts}\n                        >\n                            <FormattedMessage\n                                id='navbar.viewPinnedPosts'\n                                defaultMessage='View Pinned Posts'\n                            />\n                        </a>\n                    </li>\n                );\n\n                if (!ChannelStore.isDefault(channel)) {\n                    addMembersOption = (\n                        <li role='presentation'>\n                            <ToggleModalButton\n                                ref='channelInviteModalButton'\n                                role='menuitem'\n                                dialogType={ChannelInviteModal}\n                                dialogProps={{channel, currentUser: this.state.currentUser}}\n                            >\n                                <FormattedMessage\n                                    id='navbar.addMembers'\n                                    defaultMessage='Add Members'\n                                />\n                            </ToggleModalButton>\n                        </li>\n                    );\n\n                    if (isAdmin) {\n                        manageMembersOption = (\n                            <li\n                                key='manage_members'\n                                role='presentation'\n                            >\n                                <a\n                                    role='menuitem'\n                                    href='#'\n                                    onClick={this.showMembersModal}\n                                >\n                                    <FormattedMessage\n                                        id='channel_header.manageMembers'\n                                        defaultMessage='Manage Members'\n                                    />\n                                </a>\n                            </li>\n                        );\n                    } else {\n                        manageMembersOption = (\n                            <li\n                                key='view_members'\n                                role='presentation'\n                            >\n                                <a\n                                    role='menuitem'\n                                    href='#'\n                                    onClick={this.showMembersModal}\n                                >\n                                    <FormattedMessage\n                                        id='channel_header.viewMembers'\n                                        defaultMessage='View Members'\n                                    />\n                                </a>\n                            </li>\n                        );\n                    }\n                }\n\n                notificationPreferenceOption = (\n                    <li role='presentation'>\n                        <ToggleModalButton\n                            role='menuitem'\n                            dialogType={ChannelNotificationsModal}\n                            dialogProps={{\n                                channel,\n                                channelMember: this.state.member,\n                                currentUser: this.state.currentUser\n                            }}\n                        >\n                            <FormattedMessage\n                                id='navbar.preferences'\n                                defaultMessage='Notification Preferences'\n                            />\n                        </ToggleModalButton>\n                    </li>\n                );\n\n                if (ChannelUtils.showManagementOptions(channel, isAdmin, isSystemAdmin, isChannelAdmin)) {\n                    setChannelHeaderOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.showEditChannelHeaderModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.setHeader'\n                                    defaultMessage='Edit Channel Header'\n                                />\n                            </a>\n                        </li>\n                    );\n\n                    setChannelPurposeOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={() => this.setState({showEditChannelPurposeModal: true})}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.setPurpose'\n                                    defaultMessage='Edit Channel Purpose'\n                                />\n                            </a>\n                        </li>\n                    );\n\n                    renameChannelOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.showRenameChannelModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.rename'\n                                    defaultMessage='Rename Channel'\n                                />\n                            </a>\n                        </li>\n                    );\n                }\n\n                if (ChannelUtils.showDeleteOption(channel, isAdmin, isSystemAdmin, isChannelAdmin) || this.state.userCount === 1) {\n                    if (!ChannelStore.isDefault(channel)) {\n                        deleteChannelOption = (\n                            <li role='presentation'>\n                                <ToggleModalButton\n                                    role='menuitem'\n                                    dialogType={DeleteChannelModal}\n                                    dialogProps={{channel}}\n                                >\n                                    <FormattedMessage\n                                        id='channel_header.delete'\n                                        defaultMessage='Delete Channel'\n                                    />\n                                </ToggleModalButton>\n                            </li>\n                        );\n                    }\n                }\n\n                const canLeave = channel.type === Constants.PRIVATE_CHANNEL ? this.state.userCount > 1 : true;\n                if (!ChannelStore.isDefault(channel) && canLeave) {\n                    leaveChannelOption = (\n                        <li role='presentation'>\n                            <a\n                                role='menuitem'\n                                href='#'\n                                onClick={this.handleLeave}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.leave'\n                                    defaultMessage='Leave Channel'\n                                />\n                            </a>\n                        </li>\n                    );\n                }\n            }\n\n            const toggleFavoriteOption = (\n                <li\n                    key='toggle_favorite'\n                    role='presentation'\n                >\n                    <a\n                        role='menuitem'\n                        href='#'\n                        onClick={this.toggleFavorite}\n                    >\n                        {this.state.isFavorite ?\n                            <FormattedMessage\n                                id='channelHeader.removeFromFavorites'\n                                defaultMessage='Remove from Favorites'\n                            /> :\n                            <FormattedMessage\n                                id='channelHeader.addToFavorites'\n                                defaultMessage='Add to Favorites'\n                            />}\n                    </a>\n                </li>\n            );\n\n            return (\n                <div className='navbar-brand'>\n                    <div className='dropdown'>\n                        <OverlayTrigger\n                            ref='headerOverlay'\n                            trigger='click'\n                            placement='bottom'\n                            overlay={popoverContent}\n                            className='description'\n                            rootClose={true}\n                        >\n                            <div className='pull-right description info-popover'/>\n                        </OverlayTrigger>\n                        <a\n                            href='#'\n                            className='dropdown-toggle theme'\n                            type='button'\n                            data-toggle='dropdown'\n                            aria-expanded='true'\n                        >\n                            <span className='heading'><StatusIcon status={this.getTeammateStatus()}/>{channelTitle} </span>\n                            <span className='fa fa-chevron-down header-dropdown__icon'/>\n                        </a>\n                        <ul\n                            className='dropdown-menu'\n                            role='menu'\n                        >\n                            {viewInfoOption}\n                            {viewPinnedPostsOption}\n                            {notificationPreferenceOption}\n                            {addMembersOption}\n                            {manageMembersOption}\n                            {setChannelHeaderOption}\n                            {setChannelPurposeOption}\n                            {renameChannelOption}\n                            {deleteChannelOption}\n                            {leaveChannelOption}\n                            {toggleFavoriteOption}\n                            <div\n                                className='close visible-xs-block'\n                                onClick={() => this.refs.headerOverlay.hide()}\n                            >\n                                {''}\n                            </div>\n                        </ul>\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div className='navbar-brand'>\n                <Link\n                    to={TeamStore.getCurrentTeamUrl() + '/channels/town-square'}\n                    className='heading'\n                >\n                    {channelTitle}\n                </Link>\n            </div>\n        );\n    }\n\n    createCollapseButtons(currentId) {\n        var buttons = [];\n        if (currentId == null) {\n            buttons.push(\n                <button\n                    key='navbar-toggle-collapse'\n                    type='button'\n                    className='navbar-toggle'\n                    data-toggle='collapse'\n                    data-target='#navbar-collapse-1'\n                >\n                    <span className='sr-only'>\n                        <FormattedMessage\n                            id='navbar.toggle1'\n                            defaultMessage='Toggle sidebar'\n                        />\n                    </span>\n                    <span className='icon-bar'/>\n                    <span className='icon-bar'/>\n                    <span className='icon-bar'/>\n                </button>\n            );\n        } else {\n            buttons.push(\n                <button\n                    key='navbar-toggle-sidebar'\n                    type='button'\n                    className='navbar-toggle'\n                    data-toggle='collapse'\n                    data-target='#sidebar-nav'\n                    onClick={this.toggleLeftSidebar}\n                >\n                    <span className='sr-only'>\n                        <FormattedMessage\n                            id='navbar.toggle2'\n                            defaultMessage='Toggle sidebar'\n                        />\n                    </span>\n                    <span className='icon-bar'/>\n                    <span className='icon-bar'/>\n                    <span className='icon-bar'/>\n                    <NotifyCounts/>\n                </button>\n            );\n\n            buttons.push(\n                <button\n                    key='navbar-toggle-menu'\n                    type='button'\n                    className='navbar-toggle menu-toggle pull-right'\n                    data-toggle='collapse'\n                    data-target='#sidebar-nav'\n                    onClick={this.toggleRightSidebar}\n                >\n                    <span dangerouslySetInnerHTML={{__html: Constants.MENU_ICON}}/>\n                </button>\n            );\n        }\n\n        return buttons;\n    }\n\n    getTeammateStatus() {\n        const channel = this.state.channel;\n\n        // get status for direct message channels\n        if (channel.type === 'D') {\n            const currentUserId = this.state.currentUser.id;\n            const teammate = this.state.users.find((user) => user.id !== currentUserId);\n            if (teammate) {\n                return UserStore.getStatus(teammate.id);\n            }\n        }\n        return null;\n    }\n\n    render() {\n        if (!this.isStateValid()) {\n            return null;\n        }\n\n        var currentId = this.state.currentUser.id;\n        var channel = this.state.channel;\n        var channelTitle = this.props.teamDisplayName;\n        var popoverContent;\n        var isAdmin = false;\n        var isSystemAdmin = false;\n        var isChannelAdmin = false;\n        var isDirect = false;\n        let isGroup = false;\n\n        var editChannelHeaderModal = null;\n        var editChannelPurposeModal = null;\n        let renameChannelModal = null;\n        let channelMembersModal = null;\n        let channelSwitchModal = null;\n\n        if (channel) {\n            popoverContent = (\n                <Popover\n                    bsStyle='info'\n                    placement='bottom'\n                    id='header-popover'\n                >\n                    <MessageWrapper\n                        message={channel.header}\n                        options={{singleline: true, mentionHighlight: false}}\n                    />\n                    <div\n                        className='close visible-xs-block'\n                        onClick={() => this.refs.headerOverlay.hide()}\n                    >\n                        {''}\n                    </div>\n                </Popover>\n            );\n\n            isAdmin = TeamStore.isTeamAdminForCurrentTeam() || UserStore.isSystemAdminForCurrentUser();\n            isSystemAdmin = UserStore.isSystemAdminForCurrentUser();\n            isChannelAdmin = ChannelStore.isChannelAdminForCurrentChannel();\n\n            if (channel.type === 'O') {\n                channelTitle = channel.display_name;\n            } else if (channel.type === 'P') {\n                channelTitle = channel.display_name;\n            } else if (channel.type === 'D') {\n                isDirect = true;\n                const teammateId = Utils.getUserIdFromChannelName(channel);\n                channelTitle = Utils.displayUsername(teammateId);\n            } else if (channel.type === Constants.GM_CHANNEL) {\n                isGroup = true;\n                channelTitle = ChannelUtils.buildGroupChannelName(channel.id);\n            }\n\n            if (channel.header.length === 0) {\n                const link = (\n                    <a\n                        href='#'\n                        onClick={this.showEditChannelHeaderModal}\n                    >\n                        <FormattedMessage\n                            id='navbar.click'\n                            defaultMessage='Click here'\n                        />\n                    </a>\n                );\n                popoverContent = (\n                    <Popover\n                        bsStyle='info'\n                        placement='bottom'\n                        id='header-popover'\n                    >\n                        <div>\n                            <FormattedMessage\n                                id='navbar.noHeader'\n                                defaultMessage='No channel header yet.{newline}{link} to add one.'\n                                values={{\n                                    newline: (<br/>),\n                                    link\n                                }}\n                            />\n                        </div>\n                        <div\n                            className='close visible-xs-block'\n                            onClick={() => this.refs.headerOverlay.hide()}\n                        >\n                            {''}\n                        </div>\n                    </Popover>\n                );\n            }\n\n            if (this.state.showEditChannelHeaderModal) {\n                editChannelHeaderModal = (\n                    <EditChannelHeaderModal\n                        onHide={() => this.setState({showEditChannelHeaderModal: false})}\n                        channel={channel}\n                    />\n                );\n            }\n\n            if (this.state.showEditChannelPurposeModal) {\n                editChannelPurposeModal = (\n                    <EditChannelPurposeModal\n                        onModalDismissed={() => this.setState({showEditChannelPurposeModal: false})}\n                        channel={channel}\n                    />\n                );\n            }\n\n            renameChannelModal = (\n                <RenameChannelModal\n                    show={this.state.showRenameChannelModal}\n                    onHide={this.hideRenameChannelModal}\n                    channel={channel}\n                />\n            );\n\n            if (this.state.showMembersModal) {\n                channelMembersModal = (\n                    <ChannelMembersModal\n                        show={true}\n                        onModalDismissed={this.hideMembersModal}\n                        showInviteModal={() => this.refs.channelInviteModalButton.show()}\n                        channel={channel}\n                        isAdmin={isAdmin}\n                    />\n                );\n            }\n\n            channelSwitchModal = (\n                <ChannelSwitchModal\n                    show={this.state.showChannelSwitchModal}\n                    onHide={this.hideChannelSwitchModal}\n                />\n            );\n        }\n\n        var collapseButtons = this.createCollapseButtons(currentId);\n\n        const searchButton = (\n            <button\n                type='button'\n                className='navbar-toggle pull-right'\n                onClick={this.showSearch}\n            >\n                <span className='fa fa-search icon-search icon--white'/>\n            </button>\n        );\n\n        var channelMenuDropdown = this.createDropdown(channel, channelTitle, isAdmin, isSystemAdmin, isChannelAdmin, isDirect, isGroup, popoverContent);\n\n        return (\n            <div>\n                <nav\n                    className='navbar navbar-default navbar-fixed-top'\n                    role='navigation'\n                >\n                    <div className='container-fluid theme'>\n                        <div className='navbar-header'>\n                            {collapseButtons}\n                            {searchButton}\n                            {channelMenuDropdown}\n                        </div>\n                    </div>\n                </nav>\n                {editChannelHeaderModal}\n                {editChannelPurposeModal}\n                {renameChannelModal}\n                {channelMembersModal}\n                {channelSwitchModal}\n            </div>\n        );\n    }\n}\n\nNavbar.defaultProps = {\n    teamDisplayName: ''\n};\nNavbar.propTypes = {\n    teamDisplayName: React.PropTypes.string\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/navbar.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport * as utils from 'utils/utils.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nfunction getCountsStateFromStores() {\n    let mentionCount = 0;\n    let messageCount = 0;\n    const teamMembers = TeamStore.getMyTeamMembers();\n    const channels = ChannelStore.getAll();\n    const members = ChannelStore.getMyMembers();\n\n    teamMembers.forEach((member) => {\n        if (member.team_id !== TeamStore.getCurrentId()) {\n            mentionCount += (member.mention_count || 0);\n            messageCount += (member.msg_count || 0);\n        }\n    });\n\n    channels.forEach((channel) => {\n        const channelMember = members[channel.id];\n        if (channelMember == null) {\n            return;\n        }\n\n        if (channel.type === 'D') {\n            mentionCount += channel.total_msg_count - channelMember.msg_count;\n        } else if (channelMember.mention_count > 0) {\n            mentionCount += channelMember.mention_count;\n        }\n        if (channelMember.notify_props.mark_unread !== 'mention' && channel.total_msg_count - channelMember.msg_count > 0) {\n            messageCount += 1;\n        }\n    });\n\n    return {mentionCount, messageCount};\n}\n\nimport React from 'react';\n\nexport default class NotifyCounts extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onListenerChange = this.onListenerChange.bind(this);\n\n        this.state = getCountsStateFromStores();\n        this.mounted = false;\n    }\n    componentDidMount() {\n        this.mounted = true;\n        ChannelStore.addChangeListener(this.onListenerChange);\n        TeamStore.addChangeListener(this.onListenerChange);\n    }\n    componentWillUnmount() {\n        this.mounted = false;\n        ChannelStore.removeChangeListener(this.onListenerChange);\n        TeamStore.removeChangeListener(this.onListenerChange);\n    }\n    onListenerChange() {\n        if (this.mounted) {\n            var newState = getCountsStateFromStores();\n            if (!utils.areObjectsEqual(newState, this.state)) {\n                this.setState(newState);\n            }\n        }\n    }\n    render() {\n        if (this.state.mentionCount) {\n            return <span className='badge badge-notify'>{this.state.mentionCount}</span>;\n        } else if (this.state.messageCount) {\n            return <span className='badge badge-notify'>{''}</span>;\n        }\n        return null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/notify_counts.jsx","import React from 'react';\nimport {FormattedDate} from 'react-intl';\n\nexport default class DateSeparator extends React.Component {\n    render() {\n        return (\n            <div\n                className='date-separator'\n            >\n                <hr className='separator__hr'/>\n                <div className='separator__text'>\n                    <FormattedDate\n                        value={this.props.date}\n                        weekday='short'\n                        month='short'\n                        day='2-digit'\n                        year='numeric'\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nDateSeparator.propTypes = {\n    date: React.PropTypes.instanceOf(Date)\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/post_view/components/date_separator.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\nimport ReactDOM from 'react-dom';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport BrowserStore from 'stores/browser_store.jsx';\n\nimport {FormattedMessage} from 'react-intl';\nimport {browserHistory} from 'react-router/es6';\n\nimport React from 'react';\n\nexport default class RemovedFromChannelModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleShow = this.handleShow.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n\n        this.state = {\n            channelName: '',\n            remover: ''\n        };\n    }\n\n    handleShow() {\n        var newState = {};\n        if (BrowserStore.getItem('channel-removed-state')) {\n            newState = BrowserStore.getItem('channel-removed-state');\n            BrowserStore.removeItem('channel-removed-state');\n        }\n\n        var townSquare = ChannelStore.getByName('town-square');\n        setTimeout(\n            () => {\n                browserHistory.push(TeamStore.getCurrentTeamRelativeUrl() + '/channels/' + townSquare.name);\n            },\n        1);\n\n        this.setState(newState);\n    }\n\n    handleClose() {\n        this.setState({channelName: '', remover: ''});\n    }\n\n    componentDidMount() {\n        $(ReactDOM.findDOMNode(this)).on('show.bs.modal', this.handleShow);\n        $(ReactDOM.findDOMNode(this)).on('hidden.bs.modal', this.handleClose);\n    }\n\n    componentWillUnmount() {\n        $(ReactDOM.findDOMNode(this)).off('show.bs.modal', this.handleShow);\n        $(ReactDOM.findDOMNode(this)).off('hidden.bs.modal', this.handleClose);\n    }\n\n    render() {\n        var currentUser = UserStore.getCurrentUser();\n\n        var channelName = (\n            <FormattedMessage\n                id='removed_channel.channelName'\n                defaultMessage='the channel'\n            />\n        );\n        if (this.state.channelName) {\n            channelName = this.state.channelName;\n        }\n\n        var remover = (\n            <FormattedMessage\n                id='removed_channel.someone'\n                defaultMessage='Someone'\n            />\n        );\n        if (this.state.remover) {\n            remover = this.state.remover;\n        }\n\n        if (currentUser != null) {\n            return (\n                <div\n                    className='modal fade'\n                    ref='modal'\n                    id='removed_from_channel'\n                    tabIndex='-1'\n                    role='dialog'\n                    aria-hidden='true'\n                >\n                    <div className='modal-dialog'>\n                        <div className='modal-content'>\n                            <div className='modal-header'>\n                                <button\n                                    type='button'\n                                    className='close'\n                                    data-dismiss='modal'\n                                    aria-label='Close'\n                                >\n                                    <span aria-hidden='true'>\n                                        {''}\n                                    </span>\n                                </button>\n                                <h4 className='modal-title'>\n                                    <FormattedMessage\n                                        id='removed_channel.from'\n                                        defaultMessage='Removed from '\n                                    />\n                                    <span className='name'>{channelName}</span></h4>\n                            </div>\n                            <div className='modal-body'>\n                                <p>\n                                    <FormattedMessage\n                                        id='removed_channel.remover'\n                                        defaultMessage='{remover} removed you from {channel}'\n                                        values={{\n                                            remover,\n                                            channel: (channelName)\n                                        }}\n                                    />\n                                </p>\n                            </div>\n                            <div className='modal-footer'>\n                                <button\n                                    type='button'\n                                    className='btn btn-primary'\n                                    data-dismiss='modal'\n                                >\n                                    <FormattedMessage\n                                        id='removed_channel.okay'\n                                        defaultMessage='Okay'\n                                    />\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n\n        return <div/>;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/removed_from_channel_modal.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport UserProfile from './user_profile.jsx';\nimport FileAttachmentListContainer from './file_attachment_list_container.jsx';\nimport PendingPostOptions from 'components/post_view/components/pending_post_options.jsx';\nimport PostMessageContainer from 'components/post_view/components/post_message_container.jsx';\nimport ProfilePicture from 'components/profile_picture.jsx';\nimport ReactionListContainer from 'components/post_view/components/reaction_list_container.jsx';\nimport RhsDropdown from 'components/rhs_dropdown.jsx';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {flagPost, unflagPost, pinPost, unpinPost, addReaction} from 'actions/post_actions.jsx';\n\nimport TeamStore from 'stores/team_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport * as PostUtils from 'utils/post_utils.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport DelayedAction from 'utils/delayed_action.jsx';\nimport {Tooltip, OverlayTrigger, Overlay} from 'react-bootstrap';\n\nimport {FormattedMessage} from 'react-intl';\n\nimport EmojiPicker from 'components/emoji_picker/emoji_picker.jsx';\nimport ReactDOM from 'react-dom';\n\nimport loadingGif from 'images/load.gif';\n\nimport React from 'react';\nimport {Link} from 'react-router/es6';\n\nexport default class RhsComment extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handlePermalink = this.handlePermalink.bind(this);\n        this.removePost = this.removePost.bind(this);\n        this.flagPost = this.flagPost.bind(this);\n        this.unflagPost = this.unflagPost.bind(this);\n        this.pinPost = this.pinPost.bind(this);\n        this.unpinPost = this.unpinPost.bind(this);\n        this.reactEmojiClick = this.reactEmojiClick.bind(this);\n        this.emojiPickerClick = this.emojiPickerClick.bind(this);\n\n        this.canEdit = false;\n        this.canDelete = false;\n        this.editDisableAction = new DelayedAction(this.handleEditDisable);\n\n        this.state = {\n            currentTeamDisplayName: TeamStore.getCurrent().name,\n            width: '',\n            height: '',\n            showReactEmojiPicker: false,\n            reactPickerOffset: 15\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    handlePermalink(e) {\n        e.preventDefault();\n        GlobalActions.showGetPostLinkModal(this.props.post);\n    }\n\n    handleEditDisable() {\n        this.canEdit = false;\n    }\n\n    removePost() {\n        GlobalActions.emitRemovePost(this.props.post);\n    }\n\n    createRemovePostButton() {\n        return (\n            <a\n                href='#'\n                className='post__remove theme'\n                type='button'\n                onClick={this.removePost}\n            >\n                {''}\n            </a>\n        );\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextProps.status !== this.props.status) {\n            return true;\n        }\n\n        if (nextProps.isBusy !== this.props.isBusy) {\n            return true;\n        }\n\n        if (nextProps.compactDisplay !== this.props.compactDisplay) {\n            return true;\n        }\n\n        if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n            return true;\n        }\n\n        if (nextProps.isFlagged !== this.props.isFlagged) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n            return true;\n        }\n\n        if (this.state.showReactEmojiPicker !== nextState.showReactEmojiPicker) {\n            return true;\n        }\n\n        return false;\n    }\n\n    flagPost(e) {\n        e.preventDefault();\n        flagPost(this.props.post.id);\n    }\n\n    unflagPost(e) {\n        e.preventDefault();\n        unflagPost(this.props.post.id);\n    }\n\n    pinPost(e) {\n        e.preventDefault();\n        pinPost(this.props.post.channel_id, this.props.post.id);\n    }\n\n    unpinPost(e) {\n        e.preventDefault();\n        unpinPost(this.props.post.channel_id, this.props.post.id);\n    }\n\n    createDropdown(isSystemMessage) {\n        const post = this.props.post;\n\n        if (post.state === Constants.POST_FAILED || post.state === Constants.POST_LOADING) {\n            return '';\n        }\n\n        this.canDelete = PostUtils.canDeletePost(post);\n        this.canEdit = PostUtils.canEditPost(post, this.editDisableAction);\n\n        var dropdownContents = [];\n\n        if (Utils.isMobile()) {\n            if (this.props.isFlagged) {\n                dropdownContents.push(\n                    <li\n                        key='mobileFlag'\n                        role='presentation'\n                    >\n                        <a\n                            href='#'\n                            onClick={this.unflagPost}\n                        >\n                            <FormattedMessage\n                                id='rhs_root.mobile.unflag'\n                                defaultMessage='Unflag'\n                            />\n                        </a>\n                    </li>\n                );\n            } else {\n                dropdownContents.push(\n                    <li\n                        key='mobileFlag'\n                        role='presentation'\n                    >\n                        <a\n                            href='#'\n                            onClick={this.flagPost}\n                        >\n                            <FormattedMessage\n                                id='rhs_root.mobile.flag'\n                                defaultMessage='Flag'\n                            />\n                        </a>\n                    </li>\n                );\n            }\n        }\n\n        if (!isSystemMessage) {\n            dropdownContents.push(\n                <li\n                    key='rhs-root-permalink'\n                    role='presentation'\n                >\n                    <a\n                        href='#'\n                        onClick={this.handlePermalink}\n                    >\n                        <FormattedMessage\n                            id='rhs_comment.permalink'\n                            defaultMessage='Permalink'\n                        />\n                    </a>\n                </li>\n            );\n\n            if (post.is_pinned) {\n                dropdownContents.push(\n                    <li\n                        key='rhs-comment-unpin'\n                        role='presentation'\n                    >\n                        <a\n                            href='#'\n                            onClick={this.unpinPost}\n                        >\n                            <FormattedMessage\n                                id='rhs_root.unpin'\n                                defaultMessage='Un-pin from channel'\n                            />\n                        </a>\n                    </li>\n                );\n            } else {\n                dropdownContents.push(\n                    <li\n                        key='rhs-comment-pin'\n                        role='presentation'\n                    >\n                        <a\n                            href='#'\n                            onClick={this.pinPost}\n                        >\n                            <FormattedMessage\n                                id='rhs_root.pin'\n                                defaultMessage='Pin to channel'\n                            />\n                        </a>\n                    </li>\n                );\n            }\n        }\n\n        if (this.canDelete) {\n            dropdownContents.push(\n                <li\n                    role='presentation'\n                    key='delete-button'\n                >\n                    <a\n                        href='#'\n                        role='menuitem'\n                        onClick={(e) => {\n                            e.preventDefault();\n                            GlobalActions.showDeletePostModal(post, 0);\n                        }}\n                    >\n                        <FormattedMessage\n                            id='rhs_comment.del'\n                            defaultMessage='Delete'\n                        />\n                    </a>\n                </li>\n            );\n        }\n\n        if (this.canEdit) {\n            dropdownContents.push(\n                <li\n                    role='presentation'\n                    key='edit-button'\n                    className={this.canEdit ? '' : 'hide'}\n                >\n                    <a\n                        href='#'\n                        role='menuitem'\n                        data-toggle='modal'\n                        data-target='#edit_post'\n                        data-refocusid='#reply_textbox'\n                        data-title={Utils.localizeMessage('rhs_comment.comment', 'Comment')}\n                        data-message={post.message}\n                        data-postid={post.id}\n                        data-channelid={post.channel_id}\n                    >\n                        <FormattedMessage\n                            id='rhs_comment.edit'\n                            defaultMessage='Edit'\n                        />\n                    </a>\n                </li>\n            );\n        }\n\n        if (dropdownContents.length === 0) {\n            return '';\n        }\n\n        return (\n            <RhsDropdown dropdownContents={dropdownContents}/>\n        );\n    }\n\n    timeTag(post, timeOptions) {\n        return (\n            <time\n                className='post__time'\n                dateTime={Utils.getDateForUnixTicks(post.create_at).toISOString()}\n            >\n                {Utils.getDateForUnixTicks(post.create_at).toLocaleString('en', timeOptions)}\n            </time>\n        );\n    }\n\n    renderTimeTag(post, timeOptions) {\n        return Utils.isMobile() ?\n            this.timeTag(post, timeOptions) :\n            (\n                <Link\n                    to={`/${this.state.currentTeamDisplayName}/pl/${post.id}`}\n                    target='_blank'\n                    className='post__permalink'\n                >\n                    {this.timeTag(post, timeOptions)}\n                </Link>\n            );\n    }\n\n    emojiPickerClick() {\n        // set default offset\n        let reactOffset = 15;\n        const reactSelectorHeight = 360;\n        const reactionIconY = ReactDOM.findDOMNode(this).getBoundingClientRect().top;\n        const rhsMinHeight = 700;\n\n        const spaceAvail = rhsMinHeight - reactionIconY;\n        if (spaceAvail < reactSelectorHeight) {\n            reactOffset = (spaceAvail - reactSelectorHeight);\n        }\n        this.setState({showReactEmojiPicker: !this.state.showReactEmojiPicker, reactPickerOffset: reactOffset});\n    }\n\n    reactEmojiClick(emoji) {\n        this.setState({showReactEmojiPicker: false});\n        const emojiName = emoji.name || emoji.aliases[0];\n        addReaction(this.props.post.channel_id, this.props.post.id, emojiName);\n    }\n\n    render() {\n        const post = this.props.post;\n        const flagIcon = Constants.FLAG_ICON_SVG;\n        const mattermostLogo = Constants.MATTERMOST_ICON_SVG;\n\n        const isEphemeral = Utils.isPostEphemeral(post);\n        const isPending = post.state === Constants.POST_FAILED || post.state === Constants.POST_LOADING;\n        const isSystemMessage = PostUtils.isSystemMessage(post);\n\n        var currentUserCss = '';\n        if (this.props.currentUser.id === post.user_id) {\n            currentUserCss = 'current--user';\n        }\n\n        var timestamp = this.props.currentUser.last_picture_update;\n\n        let status = this.props.status;\n        if (post.props && post.props.from_webhook === 'true') {\n            status = null;\n        }\n\n        let botIndicator;\n        let userProfile = (\n            <UserProfile\n                user={this.props.user}\n                status={status}\n                isBusy={this.props.isBusy}\n            />\n        );\n\n        if (post.props && post.props.from_webhook) {\n            if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                userProfile = (\n                    <UserProfile\n                        user={this.props.user}\n                        overwriteName={post.props.override_username}\n                        disablePopover={true}\n                    />\n                );\n            } else {\n                userProfile = (\n                    <UserProfile\n                        user={this.props.user}\n                        disablePopover={true}\n                    />\n                );\n            }\n\n            botIndicator = <li className='col col__name bot-indicator'>{'BOT'}</li>;\n        } else if (isSystemMessage) {\n            userProfile = (\n                <UserProfile\n                    user={{}}\n                    overwriteName={\n                        <FormattedMessage\n                            id='post_info.system'\n                            defaultMessage='System'\n                        />\n                    }\n                    overwriteImage={Constants.SYSTEM_MESSAGE_PROFILE_IMAGE}\n                    disablePopover={true}\n                />\n            );\n        }\n\n        let loading;\n        let postClass = '';\n\n        if (post.state === Constants.POST_FAILED) {\n            postClass += ' post-fail';\n            loading = <PendingPostOptions post={this.props.post}/>;\n        } else if (post.state === Constants.POST_LOADING) {\n            postClass += ' post-waiting';\n            loading = (\n                <img\n                    className='post-loading-gif pull-right'\n                    src={loadingGif}\n                />\n            );\n        }\n\n        if (PostUtils.isEdited(this.props.post)) {\n            postClass += ' post--edited';\n        }\n\n        let systemMessageClass = '';\n        if (isSystemMessage) {\n            systemMessageClass = 'post--system';\n        }\n\n        let profilePic = (\n            <ProfilePicture\n                src={PostUtils.getProfilePicSrcForPost(post, timestamp)}\n                status={status}\n                width='36'\n                height='36'\n                user={this.props.user}\n                isBusy={this.props.isBusy}\n            />\n        );\n\n        if (post.props && post.props.from_webhook) {\n            profilePic = (\n                <ProfilePicture\n                    src={PostUtils.getProfilePicSrcForPost(post, timestamp)}\n                    width='36'\n                    height='36'\n                />\n            );\n        }\n\n        if (isSystemMessage) {\n            profilePic = (\n                <span\n                    className='icon'\n                    dangerouslySetInnerHTML={{__html: mattermostLogo}}\n                />\n            );\n        }\n\n        let compactClass = '';\n        if (this.props.compactDisplay) {\n            compactClass = 'post--compact';\n\n            if (post.props && post.props.from_webhook) {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                    />\n                );\n            } else {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                        status={status}\n                        user={this.props.user}\n                        isBusy={this.props.isBusy}\n                    />\n                );\n            }\n        }\n\n        const profilePicContainer = (<div className='post__img'>{profilePic}</div>);\n\n        let fileAttachment = null;\n        if (post.file_ids && post.file_ids.length > 0) {\n            fileAttachment = (\n                <FileAttachmentListContainer\n                    post={post}\n                    compactDisplay={this.props.compactDisplay}\n                />\n            );\n        }\n\n        let flag;\n        let flagFunc;\n        let flagVisible = '';\n        let flagTooltip = (\n            <Tooltip id='flagTooltip'>\n                <FormattedMessage\n                    id='flag_post.flag'\n                    defaultMessage='Flag for follow up'\n                />\n            </Tooltip>\n        );\n        if (this.props.isFlagged) {\n            flagVisible = 'visible';\n            flag = (\n                <span\n                    className='icon'\n                    dangerouslySetInnerHTML={{__html: flagIcon}}\n                />\n            );\n            flagFunc = this.unflagPost;\n            flagTooltip = (\n                <Tooltip id='flagTooltip'>\n                    <FormattedMessage\n                        id='flag_post.unflag'\n                        defaultMessage='Unflag'\n                    />\n                </Tooltip>\n            );\n        } else {\n            flag = (\n                <span\n                    className='icon'\n                    dangerouslySetInnerHTML={{__html: flagIcon}}\n                />\n            );\n            flagFunc = this.flagPost;\n        }\n\n        let flagTrigger;\n        if (!isEphemeral) {\n            flagTrigger = (\n                <OverlayTrigger\n                    key={'commentflagtooltipkey' + flagVisible}\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='top'\n                    overlay={flagTooltip}\n                >\n                    <a\n                        href='#'\n                        className={'flag-icon__container ' + flagVisible}\n                        onClick={flagFunc}\n                    >\n                        {flag}\n                    </a>\n                </OverlayTrigger>\n            );\n        }\n\n        let react;\n        let reactOverlay;\n\n        if (!isEphemeral && !isPending && !isSystemMessage && Utils.isFeatureEnabled(Constants.PRE_RELEASE_FEATURES.EMOJI_PICKER_PREVIEW)) {\n            react = (\n                <span>\n                    <a\n                        href='#'\n                        className='reacticon__container reaction'\n                        onClick={this.emojiPickerClick}\n                        ref={'rhs_reacticon_' + post.id}\n                    ><i className='fa fa-smile-o'/>\n                    </a>\n                </span>\n\n            );\n            reactOverlay = (\n                <Overlay\n                    id={'rhs_react_overlay_' + post.id}\n                    show={this.state.showReactEmojiPicker}\n                    placement='top'\n                    rootClose={true}\n                    container={this.refs['post_body_' + post.id]}\n                    onHide={() => this.setState({showReactEmojiPicker: false})}\n                    target={() => ReactDOM.findDOMNode(this.refs['rhs_reacticon_' + post.id])}\n\n                >\n                    <EmojiPicker\n                        onEmojiClick={this.reactEmojiClick}\n                        pickerLocation='react-rhs-comment'\n                        emojiOffset={this.state.reactPickerOffset}\n                    />\n                </Overlay>\n            );\n        }\n\n        let options;\n        if (isEphemeral) {\n            options = (\n                <li className='col col__remove'>\n                    {this.createRemovePostButton()}\n                </li>\n            );\n        } else if (!isSystemMessage) {\n            options = (\n                <li className='col col__reply'>\n                    {reactOverlay}\n                    {this.createDropdown(isSystemMessage)}\n                    {react}\n                </li>\n            );\n        }\n\n        let pinnedBadge;\n        if (post.is_pinned) {\n            pinnedBadge = (\n                <span className='post__pinned-badge'>\n                    <FormattedMessage\n                        id='post_info.pinned'\n                        defaultMessage='Pinned'\n                    />\n                </span>\n            );\n        }\n\n        const timeOptions = {\n            hour: '2-digit',\n            minute: '2-digit',\n            hour12: !this.props.useMilitaryTime\n        };\n\n        return (\n            <div\n                ref={'post_body_' + post.id}\n                className={'post post--thread ' + currentUserCss + ' ' + compactClass + ' ' + systemMessageClass}\n            >\n                <div className='post__content'>\n                    {profilePicContainer}\n                    <div>\n                        <ul className='post__header'>\n                            <li className='col col__name'>\n                                <strong>{userProfile}</strong>\n                            </li>\n                            {botIndicator}\n                            <li className='col'>\n                                {this.renderTimeTag(post, timeOptions)}\n                                {pinnedBadge}\n                                {flagTrigger}\n                            </li>\n                            {options}\n                        </ul>\n                        <div className='post__body' >\n                            <div className={postClass}>\n                                {loading}\n                                <PostMessageContainer post={post}/>\n                            </div>\n                            {fileAttachment}\n                            <ReactionListContainer post={post}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nRhsComment.propTypes = {\n    post: React.PropTypes.object,\n    user: React.PropTypes.object.isRequired,\n    currentUser: React.PropTypes.object.isRequired,\n    compactDisplay: React.PropTypes.bool,\n    useMilitaryTime: React.PropTypes.bool.isRequired,\n    isFlagged: React.PropTypes.bool,\n    status: React.PropTypes.string,\n    isBusy: React.PropTypes.bool\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_comment.jsx","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {Dropdown} from 'react-bootstrap';\nimport React from 'react';\n\nexport default class RhsDropdownMenu extends Dropdown.Menu {\n    constructor(props) { //eslint-disable-line no-useless-constructor\n        super(props);\n    }\n\n    render() {\n        return (\n            <div\n                className='dropdown-menu__content'\n                onClick={this.props.onClose}\n            >\n                {super.render()}\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_dropdown_menu.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport AppDispatcher from '../dispatcher/app_dispatcher.jsx';\nimport Constants from 'utils/constants.jsx';\nimport {Tooltip, OverlayTrigger} from 'react-bootstrap';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {getFlaggedPosts} from 'actions/post_actions.jsx';\n\nimport {FormattedMessage} from 'react-intl';\n\nconst ActionTypes = Constants.ActionTypes;\n\nimport React from 'react';\n\nexport default class RhsHeaderPost extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleClose = this.handleClose.bind(this);\n        this.toggleSize = this.toggleSize.bind(this);\n        this.handleBack = this.handleBack.bind(this);\n\n        this.state = {};\n    }\n    handleClose(e) {\n        e.preventDefault();\n        GlobalActions.emitCloseRightHandSide();\n        this.props.shrink();\n    }\n    toggleSize(e) {\n        e.preventDefault();\n        this.props.toggleSize();\n    }\n    handleBack(e) {\n        e.preventDefault();\n\n        if (this.props.fromSearch || this.props.isWebrtc) {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_SEARCH_TERM,\n                term: this.props.fromSearch,\n                do_search: true,\n                is_mention_search: this.props.isMentionSearch\n            });\n\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_POST_SELECTED,\n                postId: null\n            });\n        } else if (this.props.fromFlaggedPosts) {\n            getFlaggedPosts();\n        }\n    }\n    render() {\n        let back;\n        const closeSidebarTooltip = (\n            <Tooltip id='closeSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.closeSidebarTooltip'\n                    defaultMessage='Close Sidebar'\n                />\n            </Tooltip>\n        );\n\n        let backToResultsTooltip;\n        if (this.props.fromSearch) {\n            backToResultsTooltip = (\n                <Tooltip id='backToResultsTooltip'>\n                    <FormattedMessage\n                        id='rhs_header.backToResultsTooltip'\n                        defaultMessage='Back to Search Results'\n                    />\n                </Tooltip>\n            );\n        } else if (this.props.fromFlaggedPosts) {\n            backToResultsTooltip = (\n                <Tooltip id='backToResultsTooltip'>\n                    <FormattedMessage\n                        id='rhs_header.backToFlaggedTooltip'\n                        defaultMessage='Back to Flagged Posts'\n                    />\n                </Tooltip>\n            );\n        } else if (this.props.isWebrtc) {\n            backToResultsTooltip = (\n                <Tooltip id='backToResultsTooltip'>\n                    <FormattedMessage\n                        id='rhs_header.backToCallTooltip'\n                        defaultMessage='Back to Call'\n                    />\n                </Tooltip>\n            );\n        }\n\n        const expandSidebarTooltip = (\n            <Tooltip id='expandSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.expandSidebarTooltip'\n                    defaultMessage='Expand Sidebar'\n                />\n            </Tooltip>\n        );\n\n        const shrinkSidebarTooltip = (\n            <Tooltip id='shrinkSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.shrinkSidebarTooltip'\n                    defaultMessage='Shrink Sidebar'\n                />\n            </Tooltip>\n        );\n\n        if (this.props.fromSearch || this.props.fromFlaggedPosts || this.props.isWebrtc) {\n            back = (\n                <a\n                    href='#'\n                    onClick={this.handleBack}\n                    className='sidebar--right__back'\n                >\n                    <OverlayTrigger\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        placement='top'\n                        overlay={backToResultsTooltip}\n                    >\n                        <i className='fa fa-angle-left'/>\n                    </OverlayTrigger>\n                </a>\n            );\n        }\n\n        return (\n            <div className='sidebar--right__header'>\n                <span className='sidebar--right__title'>\n                    {back}\n                    <FormattedMessage\n                        id='rhs_header.details'\n                        defaultMessage='Message Details'\n                    />\n                </span>\n                <div className='pull-right'>\n                    <button\n                        type='button'\n                        className='sidebar--right__expand'\n                        aria-label='Expand'\n                        onClick={this.toggleSize}\n                    >\n                        <OverlayTrigger\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={expandSidebarTooltip}\n                        >\n                            <i className='fa fa-expand'/>\n                        </OverlayTrigger>\n                        <OverlayTrigger\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={shrinkSidebarTooltip}\n                        >\n                            <i className='fa fa-compress'/>\n                        </OverlayTrigger>\n                    </button>\n                    <button\n                        type='button'\n                        className='sidebar--right__close'\n                        aria-label='Close'\n                        onClick={this.handleClose}\n                    >\n\n                        <OverlayTrigger\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={closeSidebarTooltip}\n                        >\n                            <i className='fa fa-sign-out'/>\n                        </OverlayTrigger>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nRhsHeaderPost.defaultProps = {\n    isMentionSearch: false,\n    fromSearch: ''\n};\nRhsHeaderPost.propTypes = {\n    isMentionSearch: React.PropTypes.bool,\n    isWebrtc: React.PropTypes.bool,\n    fromSearch: React.PropTypes.string,\n    fromFlaggedPosts: React.PropTypes.bool,\n    toggleSize: React.PropTypes.func,\n    shrink: React.PropTypes.func\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_header_post.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport UserProfile from './user_profile.jsx';\nimport PostBodyAdditionalContent from 'components/post_view/components/post_body_additional_content.jsx';\nimport PostMessageContainer from 'components/post_view/components/post_message_container.jsx';\nimport FileAttachmentListContainer from './file_attachment_list_container.jsx';\nimport ProfilePicture from 'components/profile_picture.jsx';\nimport ReactionListContainer from 'components/post_view/components/reaction_list_container.jsx';\nimport RhsDropdown from 'components/rhs_dropdown.jsx';\n\nimport ChannelStore from 'stores/channel_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {flagPost, unflagPost, pinPost, unpinPost, addReaction} from 'actions/post_actions.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport * as PostUtils from 'utils/post_utils.jsx';\n\nimport EmojiPicker from 'components/emoji_picker/emoji_picker.jsx';\nimport ReactDOM from 'react-dom';\n\nimport Constants from 'utils/constants.jsx';\nimport DelayedAction from 'utils/delayed_action.jsx';\nimport {Tooltip, OverlayTrigger, Overlay} from 'react-bootstrap';\n\nimport {FormattedMessage} from 'react-intl';\n\nimport React from 'react';\nimport {Link} from 'react-router/es6';\n\nexport default class RhsRootPost extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handlePermalink = this.handlePermalink.bind(this);\n        this.flagPost = this.flagPost.bind(this);\n        this.unflagPost = this.unflagPost.bind(this);\n        this.pinPost = this.pinPost.bind(this);\n        this.unpinPost = this.unpinPost.bind(this);\n        this.reactEmojiClick = this.reactEmojiClick.bind(this);\n        this.emojiPickerClick = this.emojiPickerClick.bind(this);\n\n        this.canEdit = false;\n        this.canDelete = false;\n        this.editDisableAction = new DelayedAction(this.handleEditDisable);\n\n        this.state = {\n            currentTeamDisplayName: TeamStore.getCurrent().name,\n            width: '',\n            height: '',\n            showRHSEmojiPicker: false,\n            testStateObj: true\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    handlePermalink(e) {\n        e.preventDefault();\n        GlobalActions.showGetPostLinkModal(this.props.post);\n    }\n\n    handleEditDisable() {\n        this.canEdit = false;\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextProps.status !== this.props.status) {\n            return true;\n        }\n\n        if (nextProps.isBusy !== this.props.isBusy) {\n            return true;\n        }\n\n        if (nextProps.compactDisplay !== this.props.compactDisplay) {\n            return true;\n        }\n\n        if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n            return true;\n        }\n\n        if (nextProps.isFlagged !== this.props.isFlagged) {\n            return true;\n        }\n\n        if (nextProps.previewCollapsed !== this.props.previewCollapsed) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.post, this.props.post)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.user, this.props.user)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n            return true;\n        }\n\n        if (this.state.showRHSEmojiPicker !== nextState.showRHSEmojiPicker) {\n            return true;\n        }\n\n        return false;\n    }\n\n    flagPost(e) {\n        e.preventDefault();\n        flagPost(this.props.post.id);\n    }\n\n    unflagPost(e) {\n        e.preventDefault();\n        unflagPost(this.props.post.id);\n    }\n\n    timeTag(post, timeOptions) {\n        return (\n            <time\n                className='post__time'\n                dateTime={Utils.getDateForUnixTicks(post.create_at).toISOString()}\n            >\n                {Utils.getDateForUnixTicks(post.create_at).toLocaleString('en', timeOptions)}\n            </time>\n        );\n    }\n\n    renderTimeTag(post, timeOptions) {\n        return Utils.isMobile() ?\n            this.timeTag(post, timeOptions) :\n            (\n                <Link\n                    to={`/${this.state.currentTeamDisplayName}/pl/${post.id}`}\n                    target='_blank'\n                    className='post__permalink'\n                >\n                    {this.timeTag(post, timeOptions)}\n                </Link>\n            );\n    }\n\n    pinPost(e) {\n        e.preventDefault();\n        pinPost(this.props.post.channel_id, this.props.post.id);\n    }\n\n    unpinPost(e) {\n        e.preventDefault();\n        unpinPost(this.props.post.channel_id, this.props.post.id);\n    }\n\n    emojiPickerClick() {\n        this.setState({showRHSEmojiPicker: !this.state.showRHSEmojiPicker});\n    }\n\n    reactEmojiClick(emoji) {\n        const emojiName = emoji.name || emoji.aliases[0];\n        addReaction(this.props.post.channel_id, this.props.post.id, emojiName);\n        this.setState({showRHSEmojiPicker: false});\n    }\n\n    render() {\n        const post = this.props.post;\n        const user = this.props.user;\n        const mattermostLogo = Constants.MATTERMOST_ICON_SVG;\n        var timestamp = user ? user.last_picture_update : 0;\n        var channel = ChannelStore.get(post.channel_id);\n        const flagIcon = Constants.FLAG_ICON_SVG;\n\n        this.canDelete = PostUtils.canDeletePost(post);\n        this.canEdit = PostUtils.canEditPost(post, this.editDisableAction);\n\n        const isEphemeral = Utils.isPostEphemeral(post);\n        const isPending = post.state === Constants.POST_FAILED || post.state === Constants.POST_LOADING;\n        const isSystemMessage = PostUtils.isSystemMessage(post);\n\n        var type = 'Post';\n        if (post.root_id.length > 0) {\n            type = 'Comment';\n        }\n\n        var userCss = '';\n        if (UserStore.getCurrentId() === post.user_id) {\n            userCss = 'current--user';\n        }\n\n        var systemMessageClass = '';\n        if (isSystemMessage) {\n            systemMessageClass = 'post--system';\n        }\n\n        var channelName;\n        if (channel) {\n            if (channel.type === 'D') {\n                channelName = (\n                    <FormattedMessage\n                        id='rhs_root.direct'\n                        defaultMessage='Direct Message'\n                    />\n                );\n            } else {\n                channelName = channel.display_name;\n            }\n        }\n\n        let react;\n        let reactOverlay;\n\n        if (!isEphemeral && !isPending && !isSystemMessage && Utils.isFeatureEnabled(Constants.PRE_RELEASE_FEATURES.EMOJI_PICKER_PREVIEW)) {\n            react = (\n                <span>\n                    <a\n                        href='#'\n                        className='reacticon__container reaction'\n                        onClick={this.emojiPickerClick}\n                        ref='rhs_root_reacticon'\n                    ><i className='fa fa-smile-o'/>\n                    </a>\n                </span>\n\n            );\n            reactOverlay = (\n                <Overlay\n                    id='rhs_react_overlay'\n                    show={this.state.showRHSEmojiPicker}\n                    placement='bottom'\n                    rootClose={true}\n                    container={this}\n                    onHide={() => this.setState({showRHSEmojiPicker: false})}\n                    target={() => ReactDOM.findDOMNode(this.refs.rhs_root_reacticon)}\n\n                >\n                    <EmojiPicker\n                        onEmojiClick={this.reactEmojiClick}\n                        pickerLocation='react'\n                    />\n                </Overlay>\n            );\n        }\n\n        var dropdownContents = [];\n\n        if (Utils.isMobile()) {\n            if (this.props.isFlagged) {\n                dropdownContents.push(\n                    <li\n                        key='mobileFlag'\n                        role='presentation'\n                    >\n                        <a\n                            href='#'\n                            onClick={this.unflagPost}\n                        >\n                            <FormattedMessage\n                                id='rhs_root.mobile.unflag'\n                                defaultMessage='Unflag'\n                            />\n                        </a>\n                    </li>\n                );\n            } else {\n                dropdownContents.push(\n                    <li\n                        key='mobileFlag'\n                        role='presentation'\n                    >\n                        <a\n                            href='#'\n                            onClick={this.flagPost}\n                        >\n                            <FormattedMessage\n                                id='rhs_root.mobile.flag'\n                                defaultMessage='Flag'\n                            />\n                        </a>\n                    </li>\n                );\n            }\n        }\n\n        if (!isSystemMessage) {\n            dropdownContents.push(\n                <li\n                    key='rhs-root-permalink'\n                    role='presentation'\n                >\n                    <a\n                        href='#'\n                        onClick={this.handlePermalink}\n                    >\n                        <FormattedMessage\n                            id='rhs_root.permalink'\n                            defaultMessage='Permalink'\n                        />\n                    </a>\n                </li>\n            );\n\n            if (post.is_pinned) {\n                dropdownContents.push(\n                    <li\n                        key='rhs-root-unpin'\n                        role='presentation'\n                    >\n                        <a\n                            href='#'\n                            onClick={this.unpinPost}\n                        >\n                            <FormattedMessage\n                                id='rhs_root.unpin'\n                                defaultMessage='Un-pin from channel'\n                            />\n                        </a>\n                    </li>\n                );\n            } else {\n                dropdownContents.push(\n                    <li\n                        key='rhs-root-pin'\n                        role='presentation'\n                    >\n                        <a\n                            href='#'\n                            onClick={this.pinPost}\n                        >\n                            <FormattedMessage\n                                id='rhs_root.pin'\n                                defaultMessage='Pin to channel'\n                            />\n                        </a>\n                    </li>\n                );\n            }\n        }\n\n        if (this.canDelete) {\n            dropdownContents.push(\n                <li\n                    key='rhs-root-delete'\n                    role='presentation'\n                >\n                    <a\n                        href='#'\n                        role='menuitem'\n                        onClick={() => GlobalActions.showDeletePostModal(post, this.props.commentCount)}\n                    >\n                        <FormattedMessage\n                            id='rhs_root.del'\n                            defaultMessage='Delete'\n                        />\n                    </a>\n                </li>\n            );\n        }\n\n        if (this.canEdit) {\n            dropdownContents.push(\n                <li\n                    key='rhs-root-edit'\n                    role='presentation'\n                    className={this.canEdit ? '' : 'hide'}\n                >\n                    <a\n                        href='#'\n                        role='menuitem'\n                        data-toggle='modal'\n                        data-target='#edit_post'\n                        data-refocusid='#reply_textbox'\n                        data-title={type}\n                        data-message={post.message}\n                        data-postid={post.id}\n                        data-channelid={post.channel_id}\n                    >\n                        <FormattedMessage\n                            id='rhs_root.edit'\n                            defaultMessage='Edit'\n                        />\n                    </a>\n                </li>\n            );\n        }\n\n        var rootOptions = '';\n        if (dropdownContents.length > 0) {\n            rootOptions = (\n                <RhsDropdown dropdownContents={dropdownContents}/>\n            );\n        }\n\n        let fileAttachment = null;\n        if (post.file_ids && post.file_ids.length > 0) {\n            fileAttachment = (\n                <FileAttachmentListContainer\n                    post={post}\n                    compactDisplay={this.props.compactDisplay}\n                />\n            );\n        }\n\n        let userProfile = (\n            <UserProfile\n                user={user}\n                status={this.props.status}\n                isBusy={this.props.isBusy}\n            />\n        );\n        let botIndicator;\n\n        if (post.props && post.props.from_webhook) {\n            if (post.props.override_username && global.window.mm_config.EnablePostUsernameOverride === 'true') {\n                userProfile = (\n                    <UserProfile\n                        user={user}\n                        overwriteName={post.props.override_username}\n                        disablePopover={true}\n                    />\n                );\n            } else {\n                userProfile = (\n                    <UserProfile\n                        user={user}\n                        disablePopover={true}\n                    />\n                );\n            }\n\n            botIndicator = <li className='col col__name bot-indicator'>{'BOT'}</li>;\n        } else if (isSystemMessage) {\n            userProfile = (\n                <UserProfile\n                    user={{}}\n                    overwriteName={\n                        <FormattedMessage\n                            id='post_info.system'\n                            defaultMessage='System'\n                        />\n                    }\n                    overwriteImage={Constants.SYSTEM_MESSAGE_PROFILE_IMAGE}\n                    disablePopover={true}\n                />\n            );\n        }\n\n        let status = this.props.status;\n        if (post.props && post.props.from_webhook === 'true') {\n            status = null;\n        }\n\n        let profilePic = (\n            <ProfilePicture\n                src={PostUtils.getProfilePicSrcForPost(post, timestamp)}\n                status={status}\n                width='36'\n                height='36'\n                user={this.props.user}\n                isBusy={this.props.isBusy}\n            />\n        );\n\n        if (post.props && post.props.from_webhook) {\n            profilePic = (\n                <ProfilePicture\n                    src={PostUtils.getProfilePicSrcForPost(post, timestamp)}\n                    width='36'\n                    height='36'\n                />\n            );\n        }\n\n        if (isSystemMessage) {\n            profilePic = (\n                <span\n                    className='icon'\n                    dangerouslySetInnerHTML={{__html: mattermostLogo}}\n                />\n            );\n        }\n\n        let compactClass = '';\n        let postClass = '';\n        if (this.props.compactDisplay) {\n            compactClass = 'post--compact';\n\n            if (post.props && post.props.from_webhook) {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                    />\n                );\n            } else {\n                profilePic = (\n                    <ProfilePicture\n                        src=''\n                        status={status}\n                        user={this.props.user}\n                        isBusy={this.props.isBusy}\n                    />\n                );\n            }\n        }\n\n        if (PostUtils.isEdited(this.props.post)) {\n            postClass += ' post--edited';\n        }\n\n        const profilePicContainer = (<div className='post__img'>{profilePic}</div>);\n\n        let flag;\n        let flagFunc;\n        let flagVisible = '';\n        let flagTooltip = (\n            <Tooltip id='flagTooltip'>\n                <FormattedMessage\n                    id='flag_post.flag'\n                    defaultMessage='Flag for follow up'\n                />\n            </Tooltip>\n        );\n        if (this.props.isFlagged) {\n            flagVisible = 'visible';\n            flag = (\n                <span\n                    className='icon'\n                    dangerouslySetInnerHTML={{__html: flagIcon}}\n                />\n            );\n            flagFunc = this.unflagPost;\n            flagTooltip = (\n                <Tooltip id='flagTooltip'>\n                    <FormattedMessage\n                        id='flag_post.unflag'\n                        defaultMessage='Unflag'\n                    />\n                </Tooltip>\n            );\n        } else {\n            flag = (\n                <span\n                    className='icon'\n                    dangerouslySetInnerHTML={{__html: flagIcon}}\n                />\n            );\n            flagFunc = this.flagPost;\n        }\n\n        let pinnedBadge;\n        if (post.is_pinned) {\n            pinnedBadge = (\n                <span className='post__pinned-badge'>\n                    <FormattedMessage\n                        id='post_info.pinned'\n                        defaultMessage='Pinned'\n                    />\n                </span>\n            );\n        }\n\n        const timeOptions = {\n            hour: '2-digit',\n            minute: '2-digit',\n            hour12: !this.props.useMilitaryTime\n        };\n\n        return (\n            <div\n                id='thread--root'\n                className={'post post--root post--thread ' + userCss + ' ' + systemMessageClass + ' ' + compactClass}\n            >\n                <div className='post-right-channel__name'>{channelName}</div>\n                <div className='post__content'>\n                    {profilePicContainer}\n                    <div>\n                        <ul className='post__header'>\n                            <li className='col__name'>{userProfile}</li>\n                            {botIndicator}\n                            <li className='col'>\n                                {this.renderTimeTag(post, timeOptions)}\n                                {pinnedBadge}\n                                <OverlayTrigger\n                                    key={'rootpostflagtooltipkey' + flagVisible}\n                                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                                    placement='top'\n                                    overlay={flagTooltip}\n                                >\n                                    <a\n                                        href='#'\n                                        className={'flag-icon__container ' + flagVisible}\n                                        onClick={flagFunc}\n                                    >\n                                        {flag}\n                                    </a>\n                                </OverlayTrigger>\n                            </li>\n                            <li className='col col__reply'>\n                                {reactOverlay}\n                                {rootOptions}\n                                {react}\n                            </li>\n                        </ul>\n                        <div className='post__body'>\n                            <div className={postClass}>\n                                <PostBodyAdditionalContent\n                                    post={post}\n                                    message={<PostMessageContainer post={post}/>}\n                                    previewCollapsed={this.props.previewCollapsed}\n                                />\n                            </div>\n                            {fileAttachment}\n                            <ReactionListContainer post={post}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nRhsRootPost.defaultProps = {\n    commentCount: 0\n};\nRhsRootPost.propTypes = {\n    post: React.PropTypes.object.isRequired,\n    user: React.PropTypes.object.isRequired,\n    currentUser: React.PropTypes.object.isRequired,\n    commentCount: React.PropTypes.number,\n    compactDisplay: React.PropTypes.bool,\n    useMilitaryTime: React.PropTypes.bool.isRequired,\n    isFlagged: React.PropTypes.bool,\n    status: React.PropTypes.string,\n    previewCollapsed: React.PropTypes.string,\n    isBusy: React.PropTypes.bool\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_root_post.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport CreateComment from './create_comment.jsx';\nimport RhsHeaderPost from './rhs_header_post.jsx';\nimport RootPost from './rhs_root_post.jsx';\nimport Comment from './rhs_comment.jsx';\nimport FloatingTimestamp from './post_view/components/floating_timestamp.jsx';\nimport DateSeparator from './post_view/components/date_separator.jsx';\n\nimport PostStore from 'stores/post_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport DelayedAction from 'utils/delayed_action.jsx';\n\nimport Constants from 'utils/constants.jsx';\nconst Preferences = Constants.Preferences;\n\nimport $ from 'jquery';\nimport React from 'react';\nimport Scrollbars from 'react-custom-scrollbars';\n\nexport function renderView(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--view'\n        />);\n}\n\nexport function renderThumbHorizontal(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--horizontal'\n        />);\n}\n\nexport function renderThumbVertical(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--vertical'\n        />);\n}\n\nexport default class RhsThread extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.mounted = false;\n\n        this.onPostChange = this.onPostChange.bind(this);\n        this.onUserChange = this.onUserChange.bind(this);\n        this.forceUpdateInfo = this.forceUpdateInfo.bind(this);\n        this.onPreferenceChange = this.onPreferenceChange.bind(this);\n        this.onStatusChange = this.onStatusChange.bind(this);\n        this.onBusy = this.onBusy.bind(this);\n        this.handleResize = this.handleResize.bind(this);\n        this.handleScroll = this.handleScroll.bind(this);\n        this.handleScrollStop = this.handleScrollStop.bind(this);\n        this.scrollStopAction = new DelayedAction(this.handleScrollStop);\n\n        const state = this.getPosts();\n        state.windowWidth = Utils.windowWidth();\n        state.windowHeight = Utils.windowHeight();\n        state.profiles = JSON.parse(JSON.stringify(UserStore.getProfiles()));\n        state.compactDisplay = PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT;\n        state.flaggedPosts = PreferenceStore.getCategory(Constants.Preferences.CATEGORY_FLAGGED_POST);\n        state.statuses = Object.assign({}, UserStore.getStatuses());\n        state.previewsCollapsed = PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, 'false');\n        state.isBusy = WebrtcStore.isBusy();\n\n        this.state = {\n            ...state,\n            isScrolling: false,\n            topRhsPostCreateAt: 0\n        };\n    }\n\n    componentDidMount() {\n        PostStore.addSelectedPostChangeListener(this.onPostChange);\n        PostStore.addChangeListener(this.onPostChange);\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        UserStore.addChangeListener(this.onUserChange);\n        UserStore.addStatusesChangeListener(this.onStatusChange);\n        WebrtcStore.addBusyListener(this.onBusy);\n\n        this.scrollToBottom();\n        window.addEventListener('resize', this.handleResize);\n\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        PostStore.removeSelectedPostChangeListener(this.onPostChange);\n        PostStore.removeChangeListener(this.onPostChange);\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n        UserStore.removeChangeListener(this.onUserChange);\n        UserStore.removeStatusesChangeListener(this.onStatusChange);\n        WebrtcStore.removeBusyListener(this.onBusy);\n\n        window.removeEventListener('resize', this.handleResize);\n\n        this.mounted = false;\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const prevPostsArray = prevState.postsArray || [];\n        const curPostsArray = this.state.postsArray || [];\n\n        if (prevPostsArray.length >= curPostsArray.length) {\n            return;\n        }\n\n        const curLastPost = curPostsArray[curPostsArray.length - 1];\n\n        if (curLastPost.user_id === UserStore.getCurrentId()) {\n            this.scrollToBottom();\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (!Utils.areObjectsEqual(nextState.statuses, this.state.statuses)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.postsArray, this.state.postsArray)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.selected, this.state.selected)) {\n            return true;\n        }\n\n        if (nextState.compactDisplay !== this.state.compactDisplay) {\n            return true;\n        }\n\n        if (nextProps.useMilitaryTime !== this.props.useMilitaryTime) {\n            return true;\n        }\n\n        if (nextState.previewsCollapsed !== this.state.previewsCollapsed) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.flaggedPosts, this.state.flaggedPosts)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextState.profiles, this.state.profiles)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(nextProps.currentUser, this.props.currentUser)) {\n            return true;\n        }\n\n        if (nextState.isBusy !== this.state.isBusy) {\n            return true;\n        }\n\n        if (nextState.isScrolling !== this.state.isScrolling) {\n            return true;\n        }\n\n        if (nextState.topRhsPostCreateAt !== this.state.topRhsPostCreateAt) {\n            return true;\n        }\n\n        return false;\n    }\n\n    forceUpdateInfo() {\n        if (this.state.postList) {\n            for (var postId in this.state.postList.posts) {\n                if (this.refs[postId]) {\n                    this.refs[postId].forceUpdate();\n                }\n            }\n        }\n    }\n\n    handleResize() {\n        this.setState({\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight()\n        });\n    }\n\n    onPreferenceChange(category) {\n        let previewSuffix = '';\n        if (category === Preferences.CATEGORY_DISPLAY_SETTINGS) {\n            previewSuffix = '_' + Utils.generateId();\n        }\n\n        this.setState({\n            compactDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n            flaggedPosts: PreferenceStore.getCategory(Constants.Preferences.CATEGORY_FLAGGED_POST),\n            previewsCollapsed: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.COLLAPSE_DISPLAY, 'false') + previewSuffix\n        });\n        this.forceUpdateInfo();\n    }\n\n    onPostChange() {\n        if (this.mounted) {\n            this.setState(this.getPosts());\n        }\n    }\n\n    onStatusChange() {\n        this.setState({statuses: Object.assign({}, UserStore.getStatuses())});\n    }\n\n    onBusy(isBusy) {\n        this.setState({isBusy});\n    }\n\n    getPosts() {\n        const selected = PostStore.getSelectedPost();\n        const posts = PostStore.getSelectedPostThread();\n\n        const postsArray = [];\n\n        for (const id in posts) {\n            if (posts.hasOwnProperty(id)) {\n                const cpost = posts[id];\n                if (cpost.root_id === selected.id) {\n                    postsArray.push(cpost);\n                }\n            }\n        }\n\n        // sort failed posts to bottom, followed by pending, and then regular posts\n        postsArray.sort((a, b) => {\n            if ((a.state === Constants.POST_LOADING || a.state === Constants.POST_FAILED) && (b.state !== Constants.POST_LOADING && b.state !== Constants.POST_FAILED)) {\n                return 1;\n            }\n            if ((a.state !== Constants.POST_LOADING && a.state !== Constants.POST_FAILED) && (b.state === Constants.POST_LOADING || b.state === Constants.POST_FAILED)) {\n                return -1;\n            }\n\n            if (a.state === Constants.POST_LOADING && b.state === Constants.POST_FAILED) {\n                return -1;\n            }\n            if (a.state === Constants.POST_FAILED && b.state === Constants.POST_LOADING) {\n                return 1;\n            }\n\n            if (a.create_at < b.create_at) {\n                return -1;\n            }\n            if (a.create_at > b.create_at) {\n                return 1;\n            }\n            return 0;\n        });\n\n        return {postsArray, selected};\n    }\n\n    onUserChange() {\n        const profiles = JSON.parse(JSON.stringify(UserStore.getProfiles()));\n        this.setState({profiles});\n    }\n\n    scrollToBottom() {\n        if ($('.post-right__scroll')[0]) {\n            $('.post-right__scroll').parent().scrollTop($('.post-right__scroll')[0].scrollHeight);\n        }\n    }\n\n    updateFloatingTimestamp() {\n        // skip this in non-mobile view since that's when the timestamp is visible\n        if (!Utils.isMobile()) {\n            return;\n        }\n\n        if (this.state.postsArray) {\n            const childNodes = this.refs.rhspostlist.childNodes;\n            const viewPort = this.refs.rhspostlist.getBoundingClientRect();\n            let topRhsPostCreateAt = 0;\n            const offset = 100;\n\n            // determine the top rhs comment assuming that childNodes and postsArray are of same length\n            for (let i = 0; i < childNodes.length; i++) {\n                if ((childNodes[i].offsetTop + viewPort.top) - offset > 0) {\n                    topRhsPostCreateAt = this.state.postsArray[i].create_at;\n                    break;\n                }\n            }\n\n            if (topRhsPostCreateAt !== this.state.topRhsPostCreateAt) {\n                this.setState({\n                    topRhsPostCreateAt\n                });\n            }\n        }\n    }\n\n    handleScroll() {\n        this.updateFloatingTimestamp();\n\n        if (!this.state.isScrolling) {\n            this.setState({\n                isScrolling: true\n            });\n        }\n\n        this.scrollStopAction.fireAfter(Constants.SCROLL_DELAY);\n    }\n\n    handleScrollStop() {\n        this.setState({\n            isScrolling: false\n        });\n    }\n\n    render() {\n        const postsArray = this.state.postsArray;\n        const selected = this.state.selected;\n        const profiles = this.state.profiles || {};\n        const rootPostDay = Utils.getDateForUnixTicks(selected.create_at);\n        let previousPostDay = rootPostDay;\n\n        if (postsArray == null || selected == null) {\n            return (\n                <div/>\n            );\n        }\n\n        let profile;\n        if (UserStore.getCurrentId() === selected.user_id) {\n            profile = this.props.currentUser;\n        } else {\n            profile = profiles[selected.user_id];\n        }\n\n        let isRootFlagged = false;\n        if (this.state.flaggedPosts) {\n            isRootFlagged = this.state.flaggedPosts.get(selected.id) === 'true';\n        }\n\n        let rootStatus = 'offline';\n        if (this.state.statuses) {\n            rootStatus = this.state.statuses[selected.user_id] || 'offline';\n        }\n\n        const commentsLists = [];\n        for (let i = 0; i < postsArray.length; i++) {\n            const comPost = postsArray[i];\n            let p;\n            if (UserStore.getCurrentId() === comPost.user_id) {\n                p = UserStore.getCurrentUser();\n            } else {\n                p = profiles[comPost.user_id];\n            }\n\n            let isFlagged = false;\n            if (this.state.flaggedPosts) {\n                isFlagged = this.state.flaggedPosts.get(comPost.id) === 'true';\n            }\n\n            let status = 'offline';\n            if (this.state.statuses && p && p.id) {\n                status = this.state.statuses[p.id] || 'offline';\n            }\n\n            const keyPrefix = comPost.id ? comPost.id : comPost.pending_post_id;\n\n            const currentPostDay = Utils.getDateForUnixTicks(comPost.create_at);\n\n            if (currentPostDay.toDateString() !== previousPostDay.toDateString()) {\n                previousPostDay = currentPostDay;\n                commentsLists.push(\n                    <DateSeparator\n                        date={currentPostDay}\n                    />);\n            }\n\n            commentsLists.push(\n                <div key={keyPrefix + 'commentKey'}>\n                    <Comment\n                        ref={comPost.id}\n                        post={comPost}\n                        user={p}\n                        currentUser={this.props.currentUser}\n                        compactDisplay={this.state.compactDisplay}\n                        useMilitaryTime={this.props.useMilitaryTime}\n                        isFlagged={isFlagged}\n                        status={status}\n                        isBusy={this.state.isBusy}\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <div className='sidebar-right__body'>\n                <FloatingTimestamp\n                    isScrolling={this.state.isScrolling}\n                    isMobile={Utils.isMobile()}\n                    createAt={this.state.topRhsPostCreateAt}\n                    isRhsPost={true}\n                />\n                <RhsHeaderPost\n                    fromFlaggedPosts={this.props.fromFlaggedPosts}\n                    fromSearch={this.props.fromSearch}\n                    isWebrtc={this.props.isWebrtc}\n                    isMentionSearch={this.props.isMentionSearch}\n                    toggleSize={this.props.toggleSize}\n                    shrink={this.props.shrink}\n                />\n                <Scrollbars\n                    autoHide={true}\n                    autoHideTimeout={500}\n                    autoHideDuration={500}\n                    renderThumbHorizontal={renderThumbHorizontal}\n                    renderThumbVertical={renderThumbVertical}\n                    renderView={renderView}\n                    onScroll={this.handleScroll}\n                >\n                    <div\n                        ref='post-right__scroll'\n                        className='post-right__scroll'\n                    >\n                        <DateSeparator\n                            date={rootPostDay.toDateString()}\n                        />\n                        <RootPost\n                            ref={selected.id}\n                            post={selected}\n                            commentCount={postsArray.length}\n                            user={profile}\n                            currentUser={this.props.currentUser}\n                            compactDisplay={this.state.compactDisplay}\n                            useMilitaryTime={this.props.useMilitaryTime}\n                            isFlagged={isRootFlagged}\n                            status={rootStatus}\n                            previewCollapsed={this.state.previewsCollapsed}\n                            isBusy={this.state.isBusy}\n                        />\n                        <div\n                            ref='rhspostlist'\n                            className='post-right-comments-container'\n                        >\n                            {commentsLists}\n                        </div>\n                        <div className='post-create__container'>\n                            <CreateComment\n                                channelId={selected.channel_id}\n                                rootId={selected.id}\n                                latestPostId={postsArray.length > 0 ? postsArray[postsArray.length - 1].id : selected.id}\n                            />\n                        </div>\n                    </div>\n                </Scrollbars>\n            </div>\n        );\n    }\n}\n\nRhsThread.defaultProps = {\n    fromSearch: '',\n    isMentionSearch: false\n};\n\nRhsThread.propTypes = {\n    fromSearch: React.PropTypes.string,\n    fromFlaggedPosts: React.PropTypes.bool,\n    isWebrtc: React.PropTypes.bool,\n    isMentionSearch: React.PropTypes.bool,\n    currentUser: React.PropTypes.object.isRequired,\n    useMilitaryTime: React.PropTypes.bool.isRequired,\n    toggleSize: React.PropTypes.func,\n    shrink: React.PropTypes.func\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/rhs_thread.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport SearchResultsHeader from './search_results_header.jsx';\nimport SearchResultsItem from './search_results_item.jsx';\n\nimport ChannelStore from 'stores/channel_store.jsx';\nimport SearchStore from 'stores/search_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport Constants from 'utils/constants.jsx';\nconst Preferences = Constants.Preferences;\n\nimport $ from 'jquery';\nimport React from 'react';\nimport {FormattedMessage, FormattedHTMLMessage} from 'react-intl';\n\nfunction getStateFromStores() {\n    const results = JSON.parse(JSON.stringify(SearchStore.getSearchResults()));\n\n    const channels = new Map();\n\n    if (results && results.order) {\n        const channelIds = results.order.map((postId) => results.posts[postId].channel_id);\n        for (const id of channelIds) {\n            if (channels.has(id)) {\n                continue;\n            }\n\n            channels.set(id, ChannelStore.get(id));\n        }\n    }\n\n    return {\n        results,\n        channels,\n        searchTerm: SearchStore.getSearchTerm(),\n        flaggedPosts: PreferenceStore.getCategory(Constants.Preferences.CATEGORY_FLAGGED_POST)\n    };\n}\n\nexport default class SearchResults extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.mounted = false;\n\n        this.onChange = this.onChange.bind(this);\n        this.onUserChange = this.onUserChange.bind(this);\n        this.onPreferenceChange = this.onPreferenceChange.bind(this);\n        this.onBusy = this.onBusy.bind(this);\n        this.resize = this.resize.bind(this);\n        this.onPreferenceChange = this.onPreferenceChange.bind(this);\n        this.onStatusChange = this.onStatusChange.bind(this);\n        this.handleResize = this.handleResize.bind(this);\n\n        const state = getStateFromStores();\n        state.windowWidth = Utils.windowWidth();\n        state.windowHeight = Utils.windowHeight();\n        state.profiles = JSON.parse(JSON.stringify(UserStore.getProfiles()));\n        state.compactDisplay = PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT;\n        state.isBusy = WebrtcStore.isBusy();\n        state.statuses = Object.assign({}, UserStore.getStatuses());\n        this.state = state;\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n\n        SearchStore.addSearchChangeListener(this.onChange);\n        ChannelStore.addChangeListener(this.onChange);\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        UserStore.addChangeListener(this.onUserChange);\n        UserStore.addStatusesChangeListener(this.onStatusChange);\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        WebrtcStore.addBusyListener(this.onBusy);\n\n        this.resize();\n        window.addEventListener('resize', this.handleResize);\n        if (!Utils.isMobile()) {\n            $('.sidebar--right .search-items-container').perfectScrollbar();\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (!Utils.areObjectsEqual(nextState.statuses, this.state.statuses)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(this.props, nextProps)) {\n            return true;\n        }\n\n        if (!Utils.areObjectsEqual(this.state, nextState)) {\n            return true;\n        }\n\n        if (nextState.compactDisplay !== this.state.compactDisplay) {\n            return true;\n        }\n\n        if (nextState.isBusy !== this.state.isBusy) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n\n        SearchStore.removeSearchChangeListener(this.onChange);\n        ChannelStore.removeChangeListener(this.onChange);\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n        UserStore.removeChangeListener(this.onUserChange);\n        UserStore.removeStatusesChangeListener(this.onStatusChange);\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n        WebrtcStore.removeBusyListener(this.onBusy);\n\n        window.removeEventListener('resize', this.handleResize);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.searchTerm !== prevState.searchTerm) {\n            this.resize();\n        }\n    }\n\n    handleResize() {\n        this.setState({\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight()\n        });\n    }\n\n    onPreferenceChange() {\n        this.setState({\n            compactDisplay: PreferenceStore.get(Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n            flaggedPosts: PreferenceStore.getCategory(Constants.Preferences.CATEGORY_FLAGGED_POST)\n        });\n    }\n\n    onChange() {\n        if (this.mounted) {\n            this.setState(getStateFromStores());\n        }\n    }\n\n    onUserChange() {\n        this.setState({profiles: JSON.parse(JSON.stringify(UserStore.getProfiles()))});\n    }\n\n    onBusy(isBusy) {\n        this.setState({isBusy});\n    }\n\n    onStatusChange() {\n        this.setState({statuses: Object.assign({}, UserStore.getStatuses())});\n    }\n\n    resize() {\n        $('#search-items-container').scrollTop(0);\n    }\n\n    render() {\n        var results = this.state.results;\n        var noResults = (!results || !results.order || !results.order.length);\n        const searchTerm = this.state.searchTerm;\n        const profiles = this.state.profiles || {};\n        const flagIcon = Constants.FLAG_ICON_SVG;\n\n        var ctls = null;\n\n        if (this.props.isFlaggedPosts && noResults) {\n            ctls = (\n                <div className='sidebar--right__subheader'>\n                    <ul>\n                        <li>\n                            <FormattedHTMLMessage\n                                id='search_results.usageFlag1'\n                                defaultMessage=\"You haven't flagged any messages yet.\"\n                            />\n                        </li>\n                        <li>\n                            <FormattedHTMLMessage\n                                id='search_results.usageFlag2'\n                                defaultMessage='You can add a flag to messages and comments by clicking the '\n                            />\n                            <span\n                                className='usage__icon'\n                                dangerouslySetInnerHTML={{__html: flagIcon}}\n                            />\n                            <FormattedHTMLMessage\n                                id='search_results.usageFlag3'\n                                defaultMessage=' icon next to the timestamp.'\n                            />\n                        </li>\n                        <li>\n                            <FormattedHTMLMessage\n                                id='search_results.usageFlag4'\n                                defaultMessage='Flags are a way to mark messages for follow up. Your flags are personal, and cannot be seen by other users.'\n                            />\n                        </li>\n                    </ul>\n                </div>\n            );\n        } else if (this.props.isPinnedPosts && noResults) {\n            ctls = (\n                <div className='sidebar--right__subheader'>\n                    <ul>\n                        <li>\n                            <FormattedHTMLMessage\n                                id='search_results.usagePin1'\n                                defaultMessage='There are no pinned messages yet.'\n                            />\n                        </li>\n                        <li>\n                            <FormattedHTMLMessage\n                                id='search_results.usagePin2'\n                                defaultMessage='All members of this channel can pin important or useful messages.'\n                            />\n                        </li>\n                        <li>\n                            <FormattedHTMLMessage\n                                id='search_results.usagePin3'\n                                defaultMessage='Pinned messages are visible to all channel members.'\n                            />\n                        </li>\n                        <li>\n                            <FormattedHTMLMessage\n                                id='search_results.usagePin4'\n                                defaultMessage={'To pin a message: Go to the message that you want to pin and click [...] > \"Pin to channel\".'}\n                            />\n                        </li>\n                    </ul>\n                </div>\n            );\n        } else if (!searchTerm && noResults) {\n            ctls = (\n                <div className='sidebar--right__subheader'>\n                    <FormattedHTMLMessage\n                        id='search_results.usage'\n                        defaultMessage='<ul><li>Use <b>\"quotation marks\"</b> to search for phrases</li><li>Use <b>from:</b> to find posts from specific users and <b>in:</b> to find posts in specific channels</li></ul>'\n                    />\n                </div>\n            );\n        } else if (noResults) {\n            ctls =\n            (\n                <div className='sidebar--right__subheader'>\n                    <h4>\n                        <FormattedMessage\n                            id='search_results.noResults'\n                            defaultMessage='No results found. Try again?'\n                        />\n                    </h4>\n                    <FormattedHTMLMessage\n                        id='search_results.because'\n                        defaultMessage='<ul>\n                        <li>If you&#39;re searching a partial phrase (ex. searching \"rea\", looking for \"reach\" or \"reaction\"), append a * to your search term.</li>\n                        <li>Two letter searches and common words like \"this\", \"a\" and \"is\" won&#39;t appear in search results, due to the excessive results returned.</li>\n                    </ul>'\n                    />\n                </div>\n            );\n        } else {\n            ctls = results.order.map(function mymap(id) {\n                const post = results.posts[id];\n                let profile;\n                if (UserStore.getCurrentId() === post.user_id) {\n                    profile = UserStore.getCurrentUser();\n                } else {\n                    profile = profiles[post.user_id];\n                }\n\n                let status = 'offline';\n                if (this.state.statuses) {\n                    status = this.state.statuses[post.user_id] || 'offline';\n                }\n\n                let isFlagged = false;\n                if (this.state.flaggedPosts) {\n                    isFlagged = this.state.flaggedPosts.get(post.id) === 'true';\n                }\n                return (\n                    <SearchResultsItem\n                        key={post.id}\n                        channel={this.state.channels.get(post.channel_id)}\n                        compactDisplay={this.state.compactDisplay}\n                        post={post}\n                        user={profile}\n                        term={searchTerm}\n                        isMentionSearch={this.props.isMentionSearch}\n                        isFlaggedSearch={this.props.isFlaggedPosts}\n                        useMilitaryTime={this.props.useMilitaryTime}\n                        shrink={this.props.shrink}\n                        isFlagged={isFlagged}\n                        isBusy={this.state.isBusy}\n                        status={status}\n                    />\n                );\n            }, this);\n        }\n\n        return (\n            <div className='sidebar-right__body'>\n                <SearchResultsHeader\n                    isMentionSearch={this.props.isMentionSearch}\n                    toggleSize={this.props.toggleSize}\n                    shrink={this.props.shrink}\n                    isFlaggedPosts={this.props.isFlaggedPosts}\n                    isPinnedPosts={this.props.isPinnedPosts}\n                    channelDisplayName={this.props.channelDisplayName}\n                />\n                <div\n                    id='search-items-container'\n                    className='search-items-container'\n                >\n                    {ctls}\n                </div>\n            </div>\n        );\n    }\n}\n\nSearchResults.propTypes = {\n    isMentionSearch: React.PropTypes.bool,\n    useMilitaryTime: React.PropTypes.bool.isRequired,\n    toggleSize: React.PropTypes.func,\n    shrink: React.PropTypes.func,\n    isFlaggedPosts: React.PropTypes.bool,\n    isPinnedPosts: React.PropTypes.bool,\n    channelDisplayName: React.PropTypes.string.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/search_results.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport Constants from 'utils/constants.jsx';\nimport {Tooltip, OverlayTrigger} from 'react-bootstrap';\nimport * as GlobalActions from 'actions/global_actions.jsx';\n\nimport {FormattedMessage} from 'react-intl';\n\nimport React from 'react';\n\nexport default class SearchResultsHeader extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleClose = this.handleClose.bind(this);\n        this.toggleSize = this.toggleSize.bind(this);\n    }\n\n    handleClose(e) {\n        e.preventDefault();\n\n        GlobalActions.toggleSideBarAction(false);\n\n        this.props.shrink();\n    }\n\n    toggleSize(e) {\n        e.preventDefault();\n        this.props.toggleSize();\n    }\n\n    render() {\n        var title = (\n            <FormattedMessage\n                id='search_header.results'\n                defaultMessage='Search Results'\n            />\n        );\n\n        const closeSidebarTooltip = (\n            <Tooltip id='closeSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.closeSidebarTooltip'\n                    defaultMessage='Close Sidebar'\n                />\n            </Tooltip>\n        );\n\n        const expandSidebarTooltip = (\n            <Tooltip id='expandSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.expandSidebarTooltip'\n                    defaultMessage='Expand Sidebar'\n                />\n            </Tooltip>\n        );\n\n        const shrinkSidebarTooltip = (\n            <Tooltip id='shrinkSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.shrinkSidebarTooltip'\n                    defaultMessage='Shrink Sidebar'\n                />\n            </Tooltip>\n        );\n\n        if (this.props.isMentionSearch) {\n            title = (\n                <FormattedMessage\n                    id='search_header.title2'\n                    defaultMessage='Recent Mentions'\n                />\n            );\n        } else if (this.props.isFlaggedPosts) {\n            title = (\n                <FormattedMessage\n                    id='search_header.title3'\n                    defaultMessage='Flagged Posts'\n                />\n            );\n        } else if (this.props.isPinnedPosts) {\n            title = (\n                <FormattedMessage\n                    id='search_header.title4'\n                    defaultMessage='Pinned posts in {channelDisplayName}'\n                    values={{\n                        channelDisplayName: this.props.channelDisplayName\n                    }}\n                />\n            );\n        }\n\n        return (\n            <div className='sidebar--right__header'>\n                <span className='sidebar--right__title'>{title}</span>\n                <div className='pull-right'>\n                    <button\n                        type='button'\n                        className='sidebar--right__expand'\n                        aria-label='Expand'\n                        onClick={this.toggleSize}\n                    >\n                        <OverlayTrigger\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={expandSidebarTooltip}\n                        >\n                            <i className='fa fa-expand'/>\n                        </OverlayTrigger>\n                        <OverlayTrigger\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={shrinkSidebarTooltip}\n                        >\n                            <i className='fa fa-compress'/>\n                        </OverlayTrigger>\n                    </button>\n                    <button\n                        type='button'\n                        className='sidebar--right__close'\n                        aria-label='Close'\n                        title='Close'\n                        onClick={this.handleClose}\n                    >\n                        <OverlayTrigger\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={closeSidebarTooltip}\n                        >\n                            <i className='fa fa-sign-out'/>\n                        </OverlayTrigger>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nSearchResultsHeader.propTypes = {\n    isMentionSearch: React.PropTypes.bool,\n    toggleSize: React.PropTypes.func,\n    shrink: React.PropTypes.func,\n    isFlaggedPosts: React.PropTypes.bool,\n    isPinnedPosts: React.PropTypes.bool,\n    channelDisplayName: React.PropTypes.string.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/search_results_header.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\nimport PostMessageContainer from 'components/post_view/components/post_message_container.jsx';\nimport UserProfile from './user_profile.jsx';\nimport FileAttachmentListContainer from './file_attachment_list_container.jsx';\nimport ProfilePicture from './profile_picture.jsx';\n\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport AppDispatcher from '../dispatcher/app_dispatcher.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {flagPost, unflagPost} from 'actions/post_actions.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport * as PostUtils from 'utils/post_utils.jsx';\n\nimport Constants from 'utils/constants.jsx';\nimport {Tooltip, OverlayTrigger} from 'react-bootstrap';\nconst ActionTypes = Constants.ActionTypes;\n\nimport React from 'react';\nimport {FormattedMessage, FormattedDate} from 'react-intl';\nimport {browserHistory, Link} from 'react-router/es6';\n\nexport default class SearchResultsItem extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleFocusRHSClick = this.handleFocusRHSClick.bind(this);\n        this.shrinkSidebar = this.shrinkSidebar.bind(this);\n        this.unflagPost = this.unflagPost.bind(this);\n        this.flagPost = this.flagPost.bind(this);\n\n        this.state = {\n            currentTeamDisplayName: TeamStore.getCurrent().name,\n            width: '',\n            height: ''\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', () => {\n            Utils.updateWindowDimensions(this);\n        });\n    }\n\n    hideSidebar() {\n        $('.sidebar--right').removeClass('move--left');\n    }\n\n    shrinkSidebar() {\n        setTimeout(() => {\n            this.props.shrink();\n        });\n    }\n\n    handleFocusRHSClick(e) {\n        e.preventDefault();\n        GlobalActions.emitPostFocusRightHandSideFromSearch(this.props.post, this.props.isMentionSearch);\n    }\n\n    flagPost(e) {\n        e.preventDefault();\n        flagPost(this.props.post.id);\n    }\n\n    unflagPost(e) {\n        e.preventDefault();\n        unflagPost(this.props.post.id);\n    }\n\n    timeTag(post) {\n        return (\n            <time\n                className='search-item-time'\n                dateTime={Utils.getDateForUnixTicks(post.create_at).toISOString()}\n            >\n                <FormattedDate\n                    value={post.create_at}\n                    hour12={!this.props.useMilitaryTime}\n                    hour='2-digit'\n                    minute='2-digit'\n                />\n            </time>\n        );\n    }\n\n    renderTimeTag(post) {\n        return Utils.isMobile() ?\n            this.timeTag(post) :\n            (\n                <Link\n                    to={`/${this.state.currentTeamDisplayName}/pl/${post.id}`}\n                    target='_blank'\n                    className='post__permalink'\n                >\n                    {this.timeTag(post)}\n                </Link>\n            );\n    }\n\n    render() {\n        let channelName = null;\n        const channel = this.props.channel;\n        const timestamp = UserStore.getCurrentUser().last_picture_update;\n        const user = this.props.user || {};\n        const post = this.props.post;\n        const flagIcon = Constants.FLAG_ICON_SVG;\n\n        if (channel) {\n            channelName = channel.display_name;\n            if (channel.type === 'D') {\n                channelName = (\n                    <FormattedMessage\n                        id='search_item.direct'\n                        defaultMessage='Direct Message (with {username})'\n                        values={{\n                            username: Utils.displayUsernameForUser(Utils.getDirectTeammate(channel.id))\n                        }}\n                    />\n                );\n            }\n        }\n\n        let overrideUsername;\n        let disableProfilePopover = false;\n        if (post.props &&\n                post.props.from_webhook &&\n                post.props.override_username &&\n                global.window.mm_config.EnablePostUsernameOverride === 'true') {\n            overrideUsername = post.props.override_username;\n            disableProfilePopover = true;\n        }\n\n        let botIndicator;\n        if (post.props && post.props.from_webhook) {\n            botIndicator = <li className='bot-indicator'>{Constants.BOT_NAME}</li>;\n        }\n\n        const profilePic = (\n            <ProfilePicture\n                src={PostUtils.getProfilePicSrcForPost(post, timestamp)}\n                user={this.props.user}\n                status={this.props.status}\n                isBusy={this.props.isBusy}\n            />\n\n        );\n\n        let compactClass = '';\n        const profilePicContainer = (<div className='post__img'>{profilePic}</div>);\n        if (this.props.compactDisplay) {\n            compactClass = 'post--compact';\n        }\n\n        let fileAttachment = null;\n        if (post.file_ids && post.file_ids.length > 0) {\n            fileAttachment = (\n                <FileAttachmentListContainer\n                    post={post}\n                    compactDisplay={this.props.compactDisplay}\n                />\n            );\n        }\n\n        let message;\n        let flagContent;\n        let rhsControls;\n        if (post.state === Constants.POST_DELETED) {\n            message = (\n                <p>\n                    <FormattedMessage\n                        id='post_body.deleted'\n                        defaultMessage='(message deleted)'\n                    />\n                </p>\n            );\n        } else {\n            let flag;\n            let flagFunc;\n            let flagVisible = '';\n            let flagTooltip = (\n                <Tooltip id='flagTooltip'>\n                    <FormattedMessage\n                        id='flag_post.flag'\n                        defaultMessage='Flag for follow up'\n                    />\n                </Tooltip>\n            );\n\n            if (this.props.isFlagged) {\n                flagVisible = 'visible';\n                flagTooltip = (\n                    <Tooltip id='flagTooltip'>\n                        <FormattedMessage\n                            id='flag_post.unflag'\n                            defaultMessage='Unflag'\n                        />\n                    </Tooltip>\n                );\n                flagFunc = this.unflagPost;\n                flag = (\n                    <span\n                        className='icon'\n                        dangerouslySetInnerHTML={{__html: flagIcon}}\n                    />\n                );\n            } else {\n                flag = (\n                    <span\n                        className='icon'\n                        dangerouslySetInnerHTML={{__html: flagIcon}}\n                    />\n                );\n                flagFunc = this.flagPost;\n            }\n\n            flagContent = (\n                <OverlayTrigger\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='top'\n                    overlay={flagTooltip}\n                >\n                    <a\n                        href='#'\n                        className={'flag-icon__container ' + flagVisible}\n                        onClick={flagFunc}\n                    >\n                        {flag}\n                    </a>\n                </OverlayTrigger>\n            );\n\n            rhsControls = (\n                <li className='col__controls'>\n                    <a\n                        href='#'\n                        className='comment-icon__container search-item__comment'\n                        onClick={this.handleFocusRHSClick}\n                    >\n                        <span\n                            className='comment-icon'\n                            dangerouslySetInnerHTML={{__html: Constants.REPLY_ICON}}\n                        />\n                    </a>\n                    <a\n                        onClick={\n                            () => {\n                                if (Utils.isMobile()) {\n                                    AppDispatcher.handleServerAction({\n                                        type: ActionTypes.RECEIVED_SEARCH,\n                                        results: null\n                                    });\n\n                                    AppDispatcher.handleServerAction({\n                                        type: ActionTypes.RECEIVED_SEARCH_TERM,\n                                        term: null,\n                                        do_search: false,\n                                        is_mention_search: false\n                                    });\n\n                                    AppDispatcher.handleServerAction({\n                                        type: ActionTypes.RECEIVED_POST_SELECTED,\n                                        postId: null\n                                    });\n\n                                    this.hideSidebar();\n                                }\n                                this.shrinkSidebar();\n                                browserHistory.push(TeamStore.getCurrentTeamRelativeUrl() + '/pl/' + post.id);\n                            }\n                        }\n                        className='search-item__jump'\n                    >\n                        <FormattedMessage\n                            id='search_item.jump'\n                            defaultMessage='Jump'\n                        />\n                    </a>\n                </li>\n            );\n\n            message = (\n                <PostMessageContainer\n                    post={post}\n                    options={{\n                        searchTerm: this.props.term,\n                        mentionHighlight: this.props.isMentionSearch\n                    }}\n                />\n            );\n        }\n\n        let pinnedBadge;\n        if (post.is_pinned) {\n            pinnedBadge = (\n                <span className='post__pinned-badge'>\n                    <FormattedMessage\n                        id='post_info.pinned'\n                        defaultMessage='Pinned'\n                    />\n                </span>\n            );\n        }\n\n        return (\n            <div className='search-item__container'>\n                <div className='date-separator'>\n                    <hr className='separator__hr'/>\n                    <div className='separator__text'>\n                        <FormattedDate\n                            value={post.create_at}\n                            day='numeric'\n                            month='long'\n                            year='numeric'\n                        />\n                    </div>\n                </div>\n                <div\n                    className={'post post--thread ' + compactClass}\n                >\n                    <div className='search-channel__name'>{channelName}</div>\n                    <div className='post__content'>\n                        {profilePicContainer}\n                        <div>\n                            <ul className='post__header'>\n                                <li className='col col__name'><strong>\n                                    <UserProfile\n                                        user={user}\n                                        overwriteName={overrideUsername}\n                                        disablePopover={disableProfilePopover}\n                                        status={this.props.status}\n                                        isBusy={this.props.isBusy}\n                                    />\n                                </strong></li>\n                                {botIndicator}\n                                <li className='col'>\n                                    {this.renderTimeTag(post)}\n                                    {pinnedBadge}\n                                    {flagContent}\n                                </li>\n                                {rhsControls}\n                            </ul>\n                            <div className='search-item-snippet post__body'>\n                                {message}\n                                {fileAttachment}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nSearchResultsItem.propTypes = {\n    post: React.PropTypes.object,\n    user: React.PropTypes.object,\n    channel: React.PropTypes.object,\n    compactDisplay: React.PropTypes.bool,\n    isMentionSearch: React.PropTypes.bool,\n    isFlaggedSearch: React.PropTypes.bool,\n    term: React.PropTypes.string,\n    useMilitaryTime: React.PropTypes.bool.isRequired,\n    shrink: React.PropTypes.func,\n    isFlagged: React.PropTypes.bool,\n    isBusy: React.PropTypes.bool,\n    status: React.PropTypes.string\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/search_results_item.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport React from 'react';\n\nexport default class SettingsUpload extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.doFileSelect = this.doFileSelect.bind(this);\n        this.doSubmit = this.doSubmit.bind(this);\n\n        this.state = {\n            clientError: this.props.clientError,\n            serverError: this.props.serverError,\n            filename: ''\n        };\n    }\n\n    componentWillReceiveProps() {\n        this.setState({\n            clientError: this.props.clientError,\n            serverError: this.props.serverError\n        });\n    }\n\n    doFileSelect(e) {\n        e.preventDefault();\n        var filename = $(e.target).val();\n        if (filename.substring(3, 11) === 'fakepath') {\n            filename = filename.substring(12);\n        }\n        this.setState({\n            clientError: '',\n            serverError: '',\n            filename\n        });\n    }\n\n    doSubmit(e) {\n        e.preventDefault();\n        var inputnode = ReactDOM.findDOMNode(this.refs.uploadinput);\n        if (inputnode.files && inputnode.files[0]) {\n            this.props.submit(inputnode.files[0]);\n        } else {\n            this.setState({clientError: true});\n        }\n    }\n\n    render() {\n        let clientError = null;\n        if (this.state.clientError) {\n            clientError = (\n                <div className='file-status'>\n                    <FormattedMessage\n                        id='setting_upload.noFile'\n                        defaultMessage='No file selected.'\n                    />\n                </div>\n            );\n        }\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = (\n                <div className='file-status'>{this.state.serverError}</div>\n            );\n        }\n        let fileNameText = null;\n        let submitButtonClass = 'btn btn-sm btn-primary disabled';\n        if (this.state.filename) {\n            fileNameText = (\n                <div className='file-status file-name'>{this.state.filename}</div>\n            );\n            submitButtonClass = 'btn btn-sm btn-primary';\n        }\n\n        return (\n            <ul className='section-max'>\n                <li className='col-sm-12 section-title'>{this.props.title}</li>\n                <li className='col-sm-offset-3 col-sm-9'>{this.props.helpText}</li>\n                <li className='col-sm-offset-3 col-sm-9'>\n                    <ul className='setting-list'>\n                        <li className='setting-list-item'>\n                            <span className='btn btn-sm btn-primary btn-file sel-btn'>\n                                <FormattedMessage\n                                    id='setting_upload.select'\n                                    defaultMessage='Select file'\n                                />\n                                <input\n                                    ref='uploadinput'\n                                    accept={this.props.fileTypesAccepted}\n                                    type='file'\n                                    onChange={this.doFileSelect}\n                                />\n                            </span>\n                            <a\n                                className={submitButtonClass}\n                                onClick={this.doSubmit}\n                            >\n                                <FormattedMessage\n                                    id='setting_upload.import'\n                                    defaultMessage='Import'\n                                />\n                            </a>\n                            {fileNameText}\n                            {serverError}\n                            {clientError}\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        );\n    }\n}\n\nSettingsUpload.propTypes = {\n    title: React.PropTypes.string.isRequired,\n    submit: React.PropTypes.func.isRequired,\n    fileTypesAccepted: React.PropTypes.string.isRequired,\n    clientError: React.PropTypes.string,\n    serverError: React.PropTypes.string,\n    helpText: React.PropTypes.object\n};\n\n\n// WEBPACK FOOTER //\n// ./components/setting_upload.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport SearchResults from './search_results.jsx';\nimport RhsThread from './rhs_thread.jsx';\nimport SearchBox from './search_bar.jsx';\nimport FileUploadOverlay from './file_upload_overlay.jsx';\nimport SearchStore from 'stores/search_store.jsx';\nimport PostStore from 'stores/post_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport {getFlaggedPosts, getPinnedPosts} from 'actions/post_actions.jsx';\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport Constants from 'utils/constants.jsx';\n\nimport React, {PropTypes} from 'react';\n\nexport default class SidebarRight extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.plScrolledToBottom = true;\n\n        this.onPreferenceChange = this.onPreferenceChange.bind(this);\n        this.onSelectedChange = this.onSelectedChange.bind(this);\n        this.onPostPinnedChange = this.onPostPinnedChange.bind(this);\n        this.onSearchChange = this.onSearchChange.bind(this);\n        this.onUserChange = this.onUserChange.bind(this);\n        this.onShowSearch = this.onShowSearch.bind(this);\n        this.onShrink = this.onShrink.bind(this);\n        this.toggleSize = this.toggleSize.bind(this);\n\n        this.doStrangeThings = this.doStrangeThings.bind(this);\n\n        this.state = {\n            searchVisible: SearchStore.getSearchResults() !== null,\n            isMentionSearch: SearchStore.getIsMentionSearch(),\n            isFlaggedPosts: SearchStore.getIsFlaggedPosts(),\n            isPinnedPosts: SearchStore.getIsPinnedPosts(),\n            postRightVisible: Boolean(PostStore.getSelectedPost()),\n            expanded: false,\n            fromSearch: false,\n            currentUser: UserStore.getCurrentUser(),\n            useMilitaryTime: PreferenceStore.getBool(Constants.Preferences.CATEGORY_DISPLAY_SETTINGS, Constants.Preferences.USE_MILITARY_TIME, false)\n        };\n    }\n\n    componentDidMount() {\n        SearchStore.addSearchChangeListener(this.onSearchChange);\n        PostStore.addSelectedPostChangeListener(this.onSelectedChange);\n        PostStore.addPostPinnedChangeListener(this.onPostPinnedChange);\n        SearchStore.addShowSearchListener(this.onShowSearch);\n        UserStore.addChangeListener(this.onUserChange);\n        PreferenceStore.addChangeListener(this.onPreferenceChange);\n        this.doStrangeThings();\n    }\n\n    componentWillUnmount() {\n        SearchStore.removeSearchChangeListener(this.onSearchChange);\n        PostStore.removeSelectedPostChangeListener(this.onSelectedChange);\n        PostStore.removePostPinnedChangeListener(this.onPostPinnedChange);\n        SearchStore.removeShowSearchListener(this.onShowSearch);\n        UserStore.removeChangeListener(this.onUserChange);\n        PreferenceStore.removeChangeListener(this.onPreferenceChange);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return !Utils.areObjectsEqual(nextState, this.state);\n    }\n\n    componentWillUpdate(nextProps, nextState) {\n        const isOpen = this.state.searchVisible || this.state.postRightVisible;\n        const willOpen = nextState.searchVisible || nextState.postRightVisible;\n\n        if (!isOpen && willOpen) {\n            trackEvent('ui', 'ui_rhs_opened');\n        }\n\n        if (isOpen !== willOpen) {\n            PostStore.jumpPostsViewSidebarOpen();\n        }\n\n        if (!isOpen && willOpen) {\n            this.setState({\n                expanded: false\n            });\n        }\n    }\n\n    doStrangeThings() {\n        // We should have a better way to do this stuff\n        // Hence the function name.\n        $('.app__body .inner-wrap').removeClass('.move--right');\n        $('.app__body .inner-wrap').addClass('move--left');\n        $('.app__body .sidebar--left').removeClass('move--right');\n        $('.multi-teams .team-sidebar').removeClass('move--right');\n        $('.app__body .sidebar--right').addClass('move--left');\n\n        //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n        if (!this.state.searchVisible && !this.state.postRightVisible) {\n            $('.app__body .inner-wrap').removeClass('move--left').removeClass('move--right');\n            $('.app__body .sidebar--right').removeClass('move--left');\n            return (\n                <div/>\n            );\n        }\n\n        /*setTimeout(() => {\n            $('.sidebar__overlay').fadeOut('200', () => {\n                $('.sidebar__overlay').remove();\n            });\n            }, 500);*/\n        return null;\n    }\n\n    componentDidUpdate() {\n        const isOpen = this.state.searchVisible || this.state.postRightVisible;\n        WebrtcStore.emitRhsChanged(isOpen);\n        this.doStrangeThings();\n    }\n\n    onPreferenceChange() {\n        if (this.state.isFlaggedPosts) {\n            getFlaggedPosts();\n        }\n\n        this.setState({\n            useMilitaryTime: PreferenceStore.getBool(Constants.Preferences.CATEGORY_DISPLAY_SETTINGS, Constants.Preferences.USE_MILITARY_TIME, false)\n        });\n    }\n\n    onSelectedChange(fromSearch, fromFlaggedPosts) {\n        this.setState({\n            postRightVisible: Boolean(PostStore.getSelectedPost()),\n            fromSearch,\n            fromFlaggedPosts\n        });\n    }\n\n    onPostPinnedChange() {\n        if (this.props.channel && this.state.isPinnedPosts) {\n            getPinnedPosts(this.props.channel.id);\n        }\n    }\n\n    onShrink() {\n        this.setState({\n            expanded: false\n        });\n    }\n\n    onSearchChange() {\n        this.setState({\n            searchVisible: SearchStore.getSearchResults() !== null,\n            isMentionSearch: SearchStore.getIsMentionSearch(),\n            isFlaggedPosts: SearchStore.getIsFlaggedPosts(),\n            isPinnedPosts: SearchStore.getIsPinnedPosts()\n        });\n    }\n\n    onUserChange() {\n        this.setState({\n            currentUser: UserStore.getCurrentUser()\n        });\n    }\n\n    onShowSearch() {\n        if (!this.state.searchVisible) {\n            this.setState({\n                searchVisible: true\n            });\n        }\n    }\n\n    toggleSize() {\n        this.setState({expanded: !this.state.expanded});\n    }\n\n    render() {\n        let content = null;\n        let expandedClass = '';\n\n        if (this.state.expanded) {\n            expandedClass = 'sidebar--right--expanded';\n        }\n\n        var currentId = UserStore.getCurrentId();\n        var searchForm = null;\n        if (currentId) {\n            searchForm = <SearchBox isFocus={this.state.searchVisible && Utils.isMobile()}/>;\n        }\n\n        const channel = this.props.channel;\n\n        let channelDisplayName = '';\n        if (channel) {\n            if (channel.type === Constants.DM_CHANNEL || channel.type === Constants.GM_CHANNEL) {\n                channelDisplayName = Utils.localizeMessage('rhs_root.direct', 'Direct Message');\n            } else {\n                channelDisplayName = channel.display_name;\n            }\n        }\n\n        if (this.state.searchVisible) {\n            content = (\n                <div className='sidebar--right__content'>\n                    <div className='search-bar__container sidebar--right__search-header'>{searchForm}</div>\n                    <SearchResults\n                        isMentionSearch={this.state.isMentionSearch}\n                        isFlaggedPosts={this.state.isFlaggedPosts}\n                        isPinnedPosts={this.state.isPinnedPosts}\n                        useMilitaryTime={this.state.useMilitaryTime}\n                        toggleSize={this.toggleSize}\n                        shrink={this.onShrink}\n                        channelDisplayName={channelDisplayName}\n                    />\n                </div>\n            );\n        } else if (this.state.postRightVisible) {\n            content = (\n                <div className='post-right__container'>\n                    <FileUploadOverlay overlayType='right'/>\n                    <div className='search-bar__container sidebar--right__search-header'>{searchForm}</div>\n                    <RhsThread\n                        fromFlaggedPosts={this.state.fromFlaggedPosts}\n                        fromSearch={this.state.fromSearch}\n                        isWebrtc={WebrtcStore.isBusy()}\n                        isMentionSearch={this.state.isMentionSearch}\n                        currentUser={this.state.currentUser}\n                        useMilitaryTime={this.state.useMilitaryTime}\n                        toggleSize={this.toggleSize}\n                        shrink={this.onShrink}\n                    />\n                </div>\n            );\n        }\n\n        if (!content) {\n            expandedClass = '';\n        }\n\n        return (\n            <div\n                className={'sidebar--right ' + expandedClass}\n                id='sidebar-right'\n            >\n                <div\n                    onClick={this.onShrink}\n                    className='sidebar--right__bg'\n                />\n                <div className='sidebar-right-container'>\n                    {content}\n                </div>\n            </div>\n        );\n    }\n}\n\nSidebarRight.propTypes = {\n    channel: PropTypes.object\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_right.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\nimport TeamMembersModal from './team_members_modal.jsx';\nimport ToggleModalButton from './toggle_modal_button.jsx';\nimport UserSettingsModal from './user_settings/user_settings_modal.jsx';\nimport AboutBuildModal from './about_build_modal.jsx';\nimport AddUsersToTeam from './add_users_to_team.jsx';\n\nimport UserStore from 'stores/user_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport SearchStore from 'stores/search_store.jsx';\nimport PreferenceStore from 'stores/preference_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {getFlaggedPosts} from 'actions/post_actions.jsx';\nimport * as UserAgent from 'utils/user_agent.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport {Constants, WebrtcActionTypes} from 'utils/constants.jsx';\n\nconst ActionTypes = Constants.ActionTypes;\nconst Preferences = Constants.Preferences;\nconst TutorialSteps = Constants.TutorialSteps;\n\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router/es6';\nimport {createMenuTip} from 'components/tutorial/tutorial_tip.jsx';\n\nimport React from 'react';\n\nexport default class SidebarRightMenu extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleAboutModal = this.handleAboutModal.bind(this);\n        this.showAddUsersToTeamModal = this.showAddUsersToTeamModal.bind(this);\n        this.hideAddUsersToTeamModal = this.hideAddUsersToTeamModal.bind(this);\n        this.searchMentions = this.searchMentions.bind(this);\n        this.aboutModalDismissed = this.aboutModalDismissed.bind(this);\n        this.getFlagged = this.getFlagged.bind(this);\n\n        const state = this.getStateFromStores();\n        state.showUserSettingsModal = false;\n        state.showAboutModal = false;\n        state.showAddUsersToTeamModal = false;\n\n        this.state = state;\n    }\n\n    handleClick(e) {\n        if (WebrtcStore.isBusy()) {\n            WebrtcStore.emitChanged({action: WebrtcActionTypes.IN_PROGRESS});\n            e.preventDefault();\n        }\n    }\n\n    handleAboutModal() {\n        this.setState({showAboutModal: true});\n    }\n\n    aboutModalDismissed() {\n        this.setState({showAboutModal: false});\n    }\n\n    showAddUsersToTeamModal(e) {\n        e.preventDefault();\n\n        this.setState({\n            showAddUsersToTeamModal: true,\n            showDropdown: false\n        });\n    }\n\n    hideAddUsersToTeamModal() {\n        this.setState({\n            showAddUsersToTeamModal: false\n        });\n    }\n\n    getFlagged(e) {\n        e.preventDefault();\n        getFlaggedPosts();\n        this.hideSidebars();\n    }\n\n    componentDidMount() {\n        TeamStore.addChangeListener(this.onChange);\n        PreferenceStore.addChangeListener(this.onChange);\n    }\n\n    componentWillUnmount() {\n        TeamStore.removeChangeListener(this.onChange);\n        PreferenceStore.removeChangeListener(this.onChange);\n    }\n\n    getStateFromStores() {\n        const tutorialStep = PreferenceStore.getInt(Preferences.TUTORIAL_STEP, UserStore.getCurrentId(), 999);\n\n        return {\n            currentUser: UserStore.getCurrentUser(),\n            teamMembers: TeamStore.getMyTeamMembers(),\n            teamListings: TeamStore.getTeamListings(),\n            showTutorialTip: tutorialStep === TutorialSteps.MENU_POPOVER && Utils.isMobile()\n        };\n    }\n\n    onChange() {\n        this.setState(this.getStateFromStores());\n    }\n\n    searchMentions(e) {\n        e.preventDefault();\n        const user = this.state.currentUser;\n        if (SearchStore.isMentionSearch) {\n            GlobalActions.toggleSideBarAction(false);\n        } else {\n            GlobalActions.emitSearchMentionsEvent(user);\n            this.hideSidebars();\n        }\n    }\n\n    closeLeftSidebar() {\n        if (Utils.isMobile()) {\n            setTimeout(() => {\n                document.querySelector('.app__body .inner-wrap').classList.remove('move--right');\n                document.querySelector('.app__body .sidebar--left').classList.remove('move--right');\n            });\n        }\n    }\n\n    openRightSidebar() {\n        if (Utils.isMobile()) {\n            setTimeout(() => {\n                document.querySelector('.app__body .inner-wrap').classList.add('move--left-small');\n                document.querySelector('.app__body .sidebar--menu').classList.add('move--left');\n            });\n        }\n    }\n\n    hideSidebars() {\n        if (Utils.isMobile()) {\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_SEARCH,\n                results: null\n            });\n\n            AppDispatcher.handleServerAction({\n                type: ActionTypes.RECEIVED_POST_SELECTED,\n                postId: null\n            });\n\n            document.querySelector('.app__body .inner-wrap').classList.remove('move--right', 'move--left', 'move--left-small');\n            document.querySelector('.app__body .sidebar--left').classList.remove('move--right');\n            document.querySelector('.app__body .sidebar--right').classList.remove('move--left');\n            document.querySelector('.app__body .sidebar--menu').classList.remove('move--left');\n        }\n    }\n\n    render() {\n        const currentUser = UserStore.getCurrentUser();\n        let teamLink;\n        let inviteLink;\n        let addUserToTeamLink;\n        let teamSettingsLink;\n        let manageLink;\n        let consoleLink;\n        let joinAnotherTeamLink;\n        let isAdmin = false;\n        let isSystemAdmin = false;\n\n        if (currentUser != null) {\n            isAdmin = TeamStore.isTeamAdminForCurrentTeam() || UserStore.isSystemAdminForCurrentUser();\n            isSystemAdmin = UserStore.isSystemAdminForCurrentUser();\n\n            inviteLink = (\n                <li>\n                    <a\n                        href='#'\n                        onClick={GlobalActions.showInviteMemberModal}\n                    >\n                        <i className='icon fa fa-user-plus'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.inviteNew'\n                            defaultMessage='Send Email Invite'\n                        />\n                    </a>\n                </li>\n            );\n\n            addUserToTeamLink = (\n                <li>\n                    <a\n                        id='addUsersToTeam'\n                        href='#'\n                        onClick={this.showAddUsersToTeamModal}\n                    >\n                        <i className='icon fa fa-user-plus'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.addMemberToTeam'\n                            defaultMessage='Add Members to Team'\n                        />\n                    </a>\n                </li>\n            );\n\n            if (this.props.teamType === 'O') {\n                teamLink = (\n                    <li>\n                        <a\n                            href='#'\n                            onClick={GlobalActions.showGetTeamInviteLinkModal}\n                        >\n                            <i className='icon fa fa-link'/>\n                            <FormattedMessage\n                                id='sidebar_right_menu.teamLink'\n                                defaultMessage='Get Team Invite Link'\n                            />\n                        </a>\n                    </li>\n                );\n            }\n\n            if (global.window.mm_license.IsLicensed === 'true') {\n                if (global.window.mm_config.RestrictTeamInvite === Constants.PERMISSIONS_SYSTEM_ADMIN && !isSystemAdmin) {\n                    teamLink = null;\n                    inviteLink = null;\n                    addUserToTeamLink = null;\n                } else if (global.window.mm_config.RestrictTeamInvite === Constants.PERMISSIONS_TEAM_ADMIN && !isAdmin) {\n                    teamLink = null;\n                    inviteLink = null;\n                    addUserToTeamLink = null;\n                }\n            }\n\n            let moreTeams = false;\n            const isAlreadyMember = this.state.teamMembers.reduce((result, item) => {\n                result[item.team_id] = true;\n                return result;\n            }, {});\n\n            for (const id in this.state.teamListings) {\n                if (this.state.teamListings.hasOwnProperty(id) && !isAlreadyMember[id]) {\n                    moreTeams = true;\n                    break;\n                }\n            }\n\n            if (moreTeams) {\n                joinAnotherTeamLink = (\n                    <li key='joinTeam_li'>\n                        <Link to='/select_team'>\n                            <i className='icon fa fa-plus-square'/>\n                            <FormattedMessage\n                                id='navbar_dropdown.join'\n                                defaultMessage='Join Another Team'\n                            />\n                        </Link>\n                    </li>\n                );\n            }\n        }\n\n        manageLink = (\n            <li>\n                <ToggleModalButton dialogType={TeamMembersModal}>\n                    <i className='icon fa fa-users'/>\n                    <FormattedMessage\n                        id='sidebar_right_menu.viewMembers'\n                        defaultMessage='View Members'\n                    />\n                </ToggleModalButton>\n            </li>\n        );\n\n        if (isAdmin) {\n            teamSettingsLink = (\n                <li>\n                    <a\n                        href='#'\n                        data-toggle='modal'\n                        data-target='#team_settings'\n                    >\n                        <i className='icon fa fa-globe'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.teamSettings'\n                            defaultMessage='Team Settings'\n                        />\n                    </a>\n                </li>\n            );\n            manageLink = (\n                <li>\n                    <ToggleModalButton\n                        dialogType={TeamMembersModal}\n                        dialogProps={{isAdmin}}\n                    >\n                        <i className='icon fa fa-users'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.manageMembers'\n                            defaultMessage='Manage Members'\n                        />\n                    </ToggleModalButton>\n                </li>\n            );\n        }\n\n        if (isSystemAdmin && !Utils.isMobile()) {\n            consoleLink = (\n                <li>\n                    <Link\n                        to={'/admin_console'}\n                        onClick={this.handleClick}\n                    >\n                        <i className='icon fa fa-wrench'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.console'\n                            defaultMessage='System Console'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        var siteName = '';\n        if (global.window.mm_config.SiteName != null) {\n            siteName = global.window.mm_config.SiteName;\n        }\n        var teamDisplayName = siteName;\n        if (this.props.teamDisplayName) {\n            teamDisplayName = this.props.teamDisplayName;\n        }\n\n        let helpLink = null;\n        if (global.window.mm_config.HelpLink) {\n            helpLink = (\n                <li>\n                    <Link\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={global.window.mm_config.HelpLink}\n                    >\n                        <i className='icon fa fa-question'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.help'\n                            defaultMessage='Help'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let reportLink = null;\n        if (global.window.mm_config.ReportAProblemLink) {\n            reportLink = (\n                <li>\n                    <Link\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={global.window.mm_config.ReportAProblemLink}\n                    >\n                        <i className='icon fa fa-phone'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.report'\n                            defaultMessage='Report a Problem'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let tutorialTip = null;\n        if (this.state.showTutorialTip) {\n            tutorialTip = createMenuTip((e) => e.preventDefault(), true);\n            this.closeLeftSidebar();\n            this.openRightSidebar();\n        }\n\n        let nativeAppLink = null;\n        if (global.window.mm_config.AppDownloadLink && !UserAgent.isMobileApp()) {\n            nativeAppLink = (\n                <li>\n                    <Link\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        to={global.window.mm_config.AppDownloadLink}\n                    >\n                        <i className='icon fa fa-mobile'/>\n                        <FormattedMessage\n                            id='sidebar_right_menu.nativeApps'\n                            defaultMessage='Download Apps'\n                        />\n                    </Link>\n                </li>\n            );\n        }\n\n        let addUsersToTeamModal;\n        if (this.state.showAddUsersToTeamModal) {\n            addUsersToTeamModal = (\n                <AddUsersToTeam\n                    onModalDismissed={this.hideAddUsersToTeamModal}\n                />\n            );\n        }\n\n        let teamDivider = null;\n        if (teamSettingsLink || manageLink || joinAnotherTeamLink) {\n            teamDivider = <li className='divider'/>;\n        }\n\n        let consoleDivider = null;\n        if (consoleLink) {\n            consoleDivider = <li className='divider'/>;\n        }\n\n        return (\n            <div\n                className='sidebar--menu'\n                id='sidebar-menu'\n            >\n                <div className='team__header theme'>\n                    <Link\n                        className='team__name'\n                        to='/channels/town-square'\n                    >\n                        {teamDisplayName}\n                    </Link>\n                </div>\n\n                <div className='nav-pills__container'>\n                    {tutorialTip}\n                    <ul className='nav nav-pills nav-stacked'>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={this.searchMentions}\n                            >\n                                <i className='icon mentions'>{'@'}</i>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.recentMentions'\n                                    defaultMessage='Recent Mentions'\n                                />\n                            </a>\n                        </li>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={this.getFlagged}\n                            >\n                                <i className='icon fa fa-flag'/>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.flagged'\n                                    defaultMessage='Flagged Posts'\n                                />\n                            </a>\n                        </li>\n                        <li className='divider'/>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={() => this.setState({showUserSettingsModal: true})}\n                            >\n                                <i className='icon fa fa-cog'/>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.accountSettings'\n                                    defaultMessage='Account Settings'\n                                />\n                            </a>\n                        </li>\n                        <li className='divider'/>\n                        {inviteLink}\n                        {teamLink}\n                        {addUserToTeamLink}\n                        {teamDivider}\n                        {teamSettingsLink}\n                        {manageLink}\n                        {joinAnotherTeamLink}\n                        {consoleDivider}\n                        {consoleLink}\n                        <li className='divider'/>\n                        {helpLink}\n                        {reportLink}\n                        {nativeAppLink}\n                        <li>\n                            <a\n                                href='#'\n                                onClick={this.handleAboutModal}\n                            >\n                                <i className='icon fa fa-info'/>\n                                <FormattedMessage\n                                    id='navbar_dropdown.about'\n                                    defaultMessage='About Mattermost'\n                                />\n                            </a>\n                        </li>\n                        <li className='divider'/>\n                        <li>\n                            <a\n                                href='#'\n                                onClick={() => GlobalActions.emitUserLoggedOutEvent()}\n                            >\n                                <i className='icon fa fa-sign-out'/>\n                                <FormattedMessage\n                                    id='sidebar_right_menu.logout'\n                                    defaultMessage='Logout'\n                                />\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <UserSettingsModal\n                    show={this.state.showUserSettingsModal}\n                    onModalDismissed={() => this.setState({showUserSettingsModal: false})}\n                />\n                <AboutBuildModal\n                    show={this.state.showAboutModal}\n                    onModalDismissed={this.aboutModalDismissed}\n                />\n                {addUsersToTeamModal}\n            </div>\n        );\n    }\n}\n\nSidebarRightMenu.propTypes = {\n    teamType: React.PropTypes.string,\n    teamDisplayName: React.PropTypes.string\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/sidebar_right_menu.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport Suggestion from './suggestion.jsx';\nimport Provider from './provider.jsx';\n\nimport ChannelStore from 'stores/channel_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport {autocompleteUsers} from 'actions/user_actions.jsx';\nimport Client from 'client/web_client.jsx';\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\nimport {Constants, ActionTypes} from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport {sortChannelsByDisplayName, buildGroupChannelName} from 'utils/channel_utils.jsx';\n\nimport React from 'react';\n\nclass SwitchChannelSuggestion extends Suggestion {\n    render() {\n        const {item, isSelection} = this.props;\n\n        let className = 'mentions__name';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        let displayName = item.display_name;\n        let icon = null;\n        if (item.type === Constants.OPEN_CHANNEL) {\n            icon = <div className='status'><i className='fa fa-globe'/></div>;\n        } else if (item.type === Constants.PRIVATE_CHANNEL) {\n            icon = <div className='status'><i className='fa fa-lock'/></div>;\n        } else if (item.type === Constants.GM_CHANNEL) {\n            displayName = buildGroupChannelName(item.id);\n            icon = <div className='status status--group'>{UserStore.getProfileListInChannel(item.id, true).length}</div>;\n        } else {\n            icon = (\n                <div className='pull-left'>\n                    <img\n                        className='mention__image'\n                        src={Client.getUsersRoute() + '/' + item.id + '/image?time=' + item.last_picture_update}\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <div\n                onClick={this.handleClick}\n                className={className}\n            >\n                {icon}\n                {displayName}\n            </div>\n        );\n    }\n}\n\nexport default class SwitchChannelProvider extends Provider {\n    handlePretextChanged(suggestionId, channelPrefix) {\n        if (channelPrefix) {\n            this.startNewRequest(channelPrefix);\n\n            const allChannels = ChannelStore.getAll();\n            const channels = [];\n\n            autocompleteUsers(\n                channelPrefix,\n                (users) => {\n                    if (this.shouldCancelDispatch(channelPrefix)) {\n                        return;\n                    }\n\n                    const currentId = UserStore.getCurrentId();\n\n                    for (const id of Object.keys(allChannels)) {\n                        const channel = allChannels[id];\n                        if (channel.display_name.toLowerCase().indexOf(channelPrefix.toLowerCase()) !== -1) {\n                            const newChannel = Object.assign({}, channel);\n                            if (newChannel.type === Constants.GM_CHANNEL) {\n                                newChannel.name = buildGroupChannelName(newChannel.id);\n                            }\n                            channels.push(newChannel);\n                        }\n                    }\n\n                    const userMap = {};\n                    for (let i = 0; i < users.length; i++) {\n                        const user = users[i];\n                        let displayName = `@${user.username} `;\n\n                        if (user.id === currentId) {\n                            continue;\n                        }\n\n                        if ((user.first_name || user.last_name) && user.nickname) {\n                            displayName += `- ${Utils.getFullName(user)} (${user.nickname})`;\n                        } else if (user.nickname) {\n                            displayName += `- (${user.nickname})`;\n                        } else if (user.first_name || user.last_name) {\n                            displayName += `- ${Utils.getFullName(user)}`;\n                        }\n\n                        const newChannel = {\n                            display_name: displayName,\n                            name: user.username,\n                            id: user.id,\n                            update_at: user.update_at,\n                            type: Constants.DM_CHANNEL\n                        };\n                        channels.push(newChannel);\n                        userMap[user.id] = user;\n                    }\n\n                    const channelNames = channels.\n                        sort(sortChannelsByDisplayName).\n                        map((channel) => channel.name);\n\n                    AppDispatcher.handleServerAction({\n                        type: ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,\n                        id: suggestionId,\n                        matchedPretext: channelPrefix,\n                        terms: channelNames,\n                        items: channels,\n                        component: SwitchChannelSuggestion\n                    });\n\n                    AppDispatcher.handleServerAction({\n                        type: ActionTypes.RECEIVED_PROFILES,\n                        profiles: userMap\n                    });\n                }\n            );\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/suggestion/switch_channel_provider.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\nimport SettingItemMin from './setting_item_min.jsx';\nimport SettingItemMax from './setting_item_max.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport Constants from 'utils/constants.jsx';\n\nimport {FormattedMessage} from 'react-intl';\nimport {updateTeam} from 'actions/team_actions.jsx';\n\nimport React from 'react';\n\nclass GeneralTab extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateSection = this.updateSection.bind(this);\n        this.handleNameSubmit = this.handleNameSubmit.bind(this);\n        this.handleInviteIdSubmit = this.handleInviteIdSubmit.bind(this);\n        this.handleOpenInviteSubmit = this.handleOpenInviteSubmit.bind(this);\n        this.handleDescriptionSubmit = this.handleDescriptionSubmit.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.onUpdateNameSection = this.onUpdateNameSection.bind(this);\n        this.updateName = this.updateName.bind(this);\n        this.updateDescription = this.updateDescription.bind(this);\n        this.onUpdateDescriptionSection = this.onUpdateDescriptionSection.bind(this);\n        this.onUpdateInviteIdSection = this.onUpdateInviteIdSection.bind(this);\n        this.updateInviteId = this.updateInviteId.bind(this);\n        this.onUpdateOpenInviteSection = this.onUpdateOpenInviteSection.bind(this);\n        this.handleOpenInviteRadio = this.handleOpenInviteRadio.bind(this);\n        this.handleGenerateInviteId = this.handleGenerateInviteId.bind(this);\n\n        this.state = this.setupInitialState(props);\n    }\n\n    updateSection(section) {\n        if ($('.section-max').length) {\n            $('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n        }\n        this.setState(this.setupInitialState(this.props));\n        this.props.updateSection(section);\n    }\n\n    setupInitialState(props) {\n        const team = props.team;\n\n        return {\n            name: team.display_name,\n            invite_id: team.invite_id,\n            allow_open_invite: team.allow_open_invite,\n            description: team.description,\n            serverError: '',\n            clientError: ''\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            name: nextProps.team.display_name,\n            description: nextProps.team.description,\n            invite_id: nextProps.team.invite_id,\n            allow_open_invite: nextProps.team.allow_open_invite\n        });\n    }\n\n    handleGenerateInviteId(e) {\n        e.preventDefault();\n\n        var newId = '';\n        for (var i = 0; i < 32; i++) {\n            newId += Math.floor(Math.random() * 16).toString(16);\n        }\n\n        this.setState({invite_id: newId});\n    }\n\n    handleOpenInviteRadio(openInvite) {\n        this.setState({allow_open_invite: openInvite});\n    }\n\n    handleOpenInviteSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n\n        var data = this.props.team;\n        data.allow_open_invite = this.state.allow_open_invite;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    handleNameSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n        let valid = true;\n\n        const name = this.state.name.trim();\n        if (name) {\n            state.clientError = '';\n        } else {\n            state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n            valid = false;\n        }\n\n        this.setState(state);\n\n        if (!valid) {\n            return;\n        }\n\n        var data = this.props.team;\n        data.display_name = this.state.name;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    handleInviteIdSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n        let valid = true;\n\n        const inviteId = this.state.invite_id.trim();\n        if (inviteId) {\n            state.clientError = '';\n        } else {\n            state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n            valid = false;\n        }\n\n        this.setState(state);\n\n        if (!valid) {\n            return;\n        }\n\n        var data = this.props.team;\n        data.invite_id = this.state.invite_id;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    handleClose() {\n        this.updateSection('');\n    }\n\n    handleDescriptionSubmit(e) {\n        e.preventDefault();\n\n        var state = {serverError: '', clientError: ''};\n        let valid = true;\n\n        const description = this.state.description.trim();\n        if (description === this.props.team.description) {\n            state.clientError = Utils.localizeMessage('general_tab.chooseDescription', 'Please choose a new description for your team');\n            valid = false;\n        } else {\n            state.clientError = '';\n        }\n\n        this.setState(state);\n\n        if (!valid) {\n            return;\n        }\n\n        var data = this.props.team;\n        data.description = this.state.description;\n        updateTeam(data,\n            () => {\n                this.updateSection('');\n            },\n            (err) => {\n                state.serverError = err.message;\n                this.setState(state);\n            }\n        );\n    }\n\n    componentDidMount() {\n        $('#team_settings').on('hidden.bs.modal', this.handleClose);\n    }\n\n    componentWillUnmount() {\n        $('#team_settings').off('hidden.bs.modal', this.handleClose);\n    }\n\n    onUpdateNameSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'name') {\n            this.updateSection('');\n        } else {\n            this.updateSection('name');\n        }\n    }\n\n    onUpdateDescriptionSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'description') {\n            this.updateSection('');\n        } else {\n            this.updateSection('description');\n        }\n    }\n\n    onUpdateInviteIdSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'invite_id') {\n            this.updateSection('');\n        } else {\n            this.updateSection('invite_id');\n        }\n    }\n\n    onUpdateOpenInviteSection(e) {\n        e.preventDefault();\n        if (this.props.activeSection === 'open_invite') {\n            this.updateSection('');\n        } else {\n            this.updateSection('open_invite');\n        }\n    }\n\n    updateName(e) {\n        this.setState({name: e.target.value});\n    }\n\n    updateDescription(e) {\n        this.setState({description: e.target.value});\n    }\n\n    updateInviteId(e) {\n        this.setState({invite_id: e.target.value});\n    }\n\n    render() {\n        let clientError = null;\n        let serverError = null;\n        if (this.state.clientError) {\n            clientError = this.state.clientError;\n        }\n        if (this.state.serverError) {\n            serverError = this.state.serverError;\n        }\n\n        let openInviteSection;\n        if (this.props.activeSection === 'open_invite') {\n            const inputs = [\n                <div key='userOpenInviteOptions'>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='teamOpenInvite'\n                                name='userOpenInviteOptions'\n                                type='radio'\n                                defaultChecked={this.state.allow_open_invite}\n                                onChange={this.handleOpenInviteRadio.bind(this, true)}\n                            />\n                            <FormattedMessage\n                                id='general_tab.yes'\n                                defaultMessage='Yes'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='teamOpenInviteNo'\n                                name='userOpenInviteOptions'\n                                type='radio'\n                                defaultChecked={!this.state.allow_open_invite}\n                                onChange={this.handleOpenInviteRadio.bind(this, false)}\n                            />\n                            <FormattedMessage\n                                id='general_tab.no'\n                                defaultMessage='No'\n                            />\n                        </label>\n                        <br/>\n                    </div>\n                    <div>\n                        <br/>\n                        <FormattedMessage\n                            id='general_tab.openInviteDesc'\n                            defaultMessage='When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team.'\n                        />\n                    </div>\n                </div>\n            ];\n\n            openInviteSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team')}\n                    inputs={inputs}\n                    submit={this.handleOpenInviteSubmit}\n                    server_error={serverError}\n                    updateSection={this.onUpdateOpenInviteSection}\n                />\n            );\n        } else {\n            let describe = '';\n            if (this.state.allow_open_invite === true) {\n                describe = Utils.localizeMessage('general_tab.yes', 'Yes');\n            } else {\n                describe = Utils.localizeMessage('general_tab.no', 'No');\n            }\n\n            openInviteSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team')}\n                    describe={describe}\n                    updateSection={this.onUpdateOpenInviteSection}\n                />\n            );\n        }\n\n        let inviteSection;\n\n        if (this.props.activeSection === 'invite_id') {\n            const inputs = [];\n\n            inputs.push(\n                <div key='teamInviteSetting'>\n                    <div className='row'>\n                        <label className='col-sm-5 control-label visible-xs-block'/>\n                        <div className='col-sm-12'>\n                            <input\n                                id='teamInviteId'\n                                className='form-control'\n                                type='text'\n                                onChange={this.updateInviteId}\n                                value={this.state.invite_id}\n                                maxLength='32'\n                            />\n                            <div className='padding-top x2'>\n                                <a\n                                    id='teamInviteIdRegenerate'\n                                    href='#'\n                                    onClick={this.handleGenerateInviteId}\n                                >\n                                    <FormattedMessage\n                                        id='general_tab.regenerate'\n                                        defaultMessage='Regenerate'\n                                    />\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                    <div className='setting-list__hint'>\n                        <FormattedMessage\n                            id='general_tab.codeLongDesc'\n                            defaultMessage='The Invite Code is used as part of the URL in the team invitation link created by {getTeamInviteLink} in the main menu. Regenerating creates a new team invitation link and invalidates the previous link.'\n                            values={{\n                                getTeamInviteLink: (\n                                    <strong>\n                                        <FormattedMessage\n                                            id='general_tab.getTeamInviteLink'\n                                            defaultMessage='Get Team Invite Link'\n                                        />\n                                    </strong>\n                                )\n                            }}\n                        />\n                    </div>\n                </div>\n            );\n\n            inviteSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.codeTitle', 'Invite Code')}\n                    inputs={inputs}\n                    submit={this.handleInviteIdSubmit}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={this.onUpdateInviteIdSection}\n                />\n            );\n        } else {\n            inviteSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.codeTitle', 'Invite Code')}\n                    describe={Utils.localizeMessage('general_tab.codeDesc', \"Click 'Edit' to regenerate Invite Code.\")}\n                    updateSection={this.onUpdateInviteIdSection}\n                />\n            );\n        }\n\n        let nameSection;\n\n        if (this.props.activeSection === 'name') {\n            const inputs = [];\n\n            let teamNameLabel = (\n                <FormattedMessage\n                    id='general_tab.teamName'\n                    defaultMessage='Team Name'\n                />\n            );\n            if (Utils.isMobile()) {\n                teamNameLabel = '';\n            }\n\n            inputs.push(\n                <div\n                    key='teamNameSetting'\n                    className='form-group'\n                >\n                    <label className='col-sm-5 control-label'>{teamNameLabel}</label>\n                    <div className='col-sm-7'>\n                        <input\n                            id='teamName'\n                            className='form-control'\n                            type='text'\n                            maxLength={Constants.MAX_TEAMNAME_LENGTH.toString()}\n                            onChange={this.updateName}\n                            value={this.state.name}\n                        />\n                    </div>\n                </div>\n            );\n\n            const nameExtraInfo = <span>{Utils.localizeMessage('general_tab.teamNameInfo', 'Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar.')}</span>;\n\n            nameSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.teamName', 'Team Name')}\n                    inputs={inputs}\n                    submit={this.handleNameSubmit}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={this.onUpdateNameSection}\n                    extraInfo={nameExtraInfo}\n                />\n            );\n        } else {\n            var describe = this.state.name;\n\n            nameSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.teamName', 'Team Name')}\n                    describe={describe}\n                    updateSection={this.onUpdateNameSection}\n                />\n            );\n        }\n\n        let descriptionSection;\n\n        if (this.props.activeSection === 'description') {\n            const inputs = [];\n\n            let teamDescriptionLabel = (\n                <FormattedMessage\n                    id='general_tab.teamDescription'\n                    defaultMessage='Team Description'\n                />\n            );\n            if (Utils.isMobile()) {\n                teamDescriptionLabel = '';\n            }\n\n            inputs.push(\n                <div\n                    key='teamDescriptionSetting'\n                    className='form-group'\n                >\n                    <label className='col-sm-5 control-label'>{teamDescriptionLabel}</label>\n                    <div className='col-sm-7'>\n                        <input\n                            id='teamDescription'\n                            className='form-control'\n                            type='text'\n                            maxLength={Constants.MAX_TEAMDESCRIPTION_LENGTH.toString()}\n                            onChange={this.updateDescription}\n                            value={this.state.description}\n                        />\n                    </div>\n                </div>\n            );\n\n            const descriptionExtraInfo = <span>{Utils.localizeMessage('general_tab.teamDescriptionInfo', 'Team description provides additional information to help users select the right team. Maximum of 50 characters.')}</span>;\n\n            descriptionSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.teamDescription', 'Team Description')}\n                    inputs={inputs}\n                    submit={this.handleDescriptionSubmit}\n                    server_error={serverError}\n                    client_error={clientError}\n                    updateSection={this.onUpdateDescriptionSection}\n                    extraInfo={descriptionExtraInfo}\n                />\n            );\n        } else {\n            let describemsg = '';\n            if (this.state.description) {\n                describemsg = this.state.description;\n            } else {\n                describemsg = (\n                    <FormattedMessage\n                        id='general_tab.emptyDescription'\n                        defaultMessage=\"Click 'Edit' to add a team description.\"\n                    />\n                );\n            }\n\n            descriptionSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.teamDescription', 'Team Description')}\n                    describe={describemsg}\n                    updateSection={this.onUpdateDescriptionSection}\n                />\n            );\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        id='closeButton'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                    >\n                        <span aria-hidden='true'>\n                            {''}\n                        </span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i className='fa fa-angle-left'/>\n                        </div>\n                        <FormattedMessage\n                            id='general_tab.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h4>\n                </div>\n                <div\n                    ref='wrapper'\n                    className='user-settings'\n                >\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='general_tab.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {nameSection}\n                    <div className='divider-light'/>\n                    {descriptionSection}\n                    <div className='divider-light'/>\n                    {openInviteSection}\n                    <div className='divider-light'/>\n                    {inviteSection}\n                    <div className='divider-dark'/>\n                </div>\n            </div>\n        );\n    }\n}\n\nGeneralTab.propTypes = {\n    updateSection: React.PropTypes.func.isRequired,\n    team: React.PropTypes.object.isRequired,\n    activeSection: React.PropTypes.string.isRequired\n};\n\nexport default GeneralTab;\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_general_tab.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport * as utils from 'utils/utils.jsx';\nimport SettingUpload from './setting_upload.jsx';\n\nimport {intlShape, injectIntl, defineMessages, FormattedMessage} from 'react-intl';\n\nconst holders = defineMessages({\n    importSlack: {\n        id: 'team_import_tab.importSlack',\n        defaultMessage: 'Import from Slack (Beta)'\n    }\n});\n\nimport React from 'react';\n\nclass TeamImportTab extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onImportFailure = this.onImportFailure.bind(this);\n        this.onImportSuccess = this.onImportSuccess.bind(this);\n        this.doImportSlack = this.doImportSlack.bind(this);\n\n        this.state = {\n            status: 'ready',\n            link: ''\n        };\n    }\n\n    onImportFailure(e, err, res) {\n        this.setState({status: 'fail', link: 'data:application/octet-stream;charset=utf-8,' + encodeURIComponent(res.text)});\n    }\n\n    onImportSuccess(data, res) {\n        this.setState({status: 'done', link: 'data:application/octet-stream;charset=utf-8,' + encodeURIComponent(res.text)});\n    }\n\n    doImportSlack(file) {\n        this.setState({status: 'in-progress', link: ''});\n        utils.importSlack(file, this.onImportSuccess, this.onImportFailure);\n    }\n\n    render() {\n        const {formatMessage} = this.props.intl;\n        var uploadDocsLink = (\n            <a\n                href='https://docs.mattermost.com/administration/migrating.html#migrating-from-slack'\n                target='_blank'\n                rel='noopener noreferrer'\n            >\n                <FormattedMessage\n                    id='team_import_tab.importHelpDocsLink'\n                    defaultMessage='documentation'\n                />\n            </a>\n        );\n\n        var uploadExportInstructions = (\n            <strong>\n                <FormattedMessage\n                    id='team_import_tab.importHelpExportInstructions'\n                    defaultMessage='Slack > Team Settings > Import/Export Data > Export > Start Export'\n                />\n            </strong>\n        );\n\n        var uploadExporterLink = (\n            <a\n                href='https://github.com/grundleborg/slack-advanced-exporter'\n                target='_blank'\n                rel='noopener noreferrer'\n            >\n                <FormattedMessage\n                    id='team_import_tab.importHelpExporterLink'\n                    defaultMessage='Slack Advanced Exporter'\n                />\n            </a>\n        );\n\n        var uploadHelpText = (\n            <div>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine1'\n                        defaultMessage=\"Slack import to Mattermost supports importing of messages in your Slack team's public channels.\"\n                    />\n                </p>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine2'\n                        defaultMessage='To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.'\n                        values={{\n                            exportInstructions: uploadExportInstructions,\n                            uploadDocsLink\n                        }}\n                    />\n                </p>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine3'\n                        defaultMessage='To import posts with attached files, see {slackAdvancedExporterLink} for details.'\n                        values={{\n                            slackAdvancedExporterLink: uploadExporterLink\n                        }}\n                    />\n                </p>\n            </div>\n        );\n\n        var uploadSection = (\n            <SettingUpload\n                title={formatMessage(holders.importSlack)}\n                submit={this.doImportSlack}\n                helpText={uploadHelpText}\n                fileTypesAccepted='.zip'\n            />\n        );\n\n        var messageSection;\n        switch (this.state.status) {\n\n        case 'ready':\n            messageSection = '';\n            break;\n        case 'in-progress':\n            messageSection = (\n                <p className='confirm-import alert alert-warning'><i className='fa fa-spinner fa-pulse'/>\n                    <FormattedMessage\n                        id='team_import_tab.importing'\n                        defaultMessage=' Importing...'\n                    />\n                </p>\n            );\n            break;\n        case 'done':\n            messageSection = (\n                <p className='confirm-import alert alert-success'>\n                    <i className='fa fa-check'/>\n                    <FormattedMessage\n                        id='team_import_tab.successful'\n                        defaultMessage=' Import successful: '\n                    />\n                    <a\n                        href={this.state.link}\n                        download='MattermostImportSummary.txt'\n                    >\n                        <FormattedMessage\n                            id='team_import_tab.summary'\n                            defaultMessage='View Summary'\n                        />\n                    </a>\n                </p>\n        );\n            break;\n        case 'fail':\n            messageSection = (\n                <p className='confirm-import alert alert-warning'>\n                    <i className='fa fa-warning'/>\n                    <FormattedMessage\n                        id='team_import_tab.failure'\n                        defaultMessage=' Import failure: '\n                    />\n                    <a\n                        href={this.state.link}\n                        download='MattermostImportSummary.txt'\n                    >\n                        <FormattedMessage\n                            id='team_import_tab.summary'\n                            defaultMessage='View Summary'\n                        />\n                    </a>\n                </p>\n            );\n            break;\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                    >\n                        <span aria-hidden='true'>{''}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <i className='fa fa-angle-left'/>\n                        </div>\n                        <FormattedMessage\n                            id='team_import_tab.import'\n                            defaultMessage='Import'\n                        />\n                    </h4>\n                </div>\n                <div\n                    ref='wrapper'\n                    className='user-settings'\n                >\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='team_import_tab.import'\n                            defaultMessage='Import'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {uploadSection}\n                    <div className='divider-dark'/>\n                    {messageSection}\n                </div>\n            </div>\n        );\n    }\n}\n\nTeamImportTab.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(TeamImportTab);\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_import_tab.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport TeamStore from 'stores/team_store.jsx';\nimport ImportTab from './team_import_tab.jsx';\nimport GeneralTab from './team_general_tab.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport React from 'react';\n\nexport default class TeamSettings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n\n        this.state = {team: TeamStore.getCurrent()};\n    }\n    componentDidMount() {\n        TeamStore.addChangeListener(this.onChange);\n    }\n    componentWillUnmount() {\n        TeamStore.removeChangeListener(this.onChange);\n    }\n    onChange() {\n        var team = TeamStore.getCurrent();\n\n        if (!Utils.areObjectsEqual(this.state.team, team)) {\n            this.setState({team});\n        }\n    }\n    render() {\n        if (!this.state.team) {\n            return null;\n        }\n        var result;\n        switch (this.props.activeTab) {\n        case 'general':\n            result = (\n                <div>\n                    <GeneralTab\n                        team={this.state.team}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                    />\n                </div>\n            );\n            break;\n        case 'import':\n            result = (\n                <div>\n                    <ImportTab\n                        team={this.state.team}\n                        activeSection={this.props.activeSection}\n                        updateSection={this.props.updateSection}\n                    />\n                </div>\n            );\n            break;\n        default:\n            result = (\n                <div/>\n            );\n            break;\n        }\n        return result;\n    }\n}\n\nTeamSettings.defaultProps = {\n    activeTab: '',\n    activeSection: ''\n};\n\nTeamSettings.propTypes = {\n    activeTab: React.PropTypes.string.isRequired,\n    activeSection: React.PropTypes.string.isRequired,\n    updateSection: React.PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_settings.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\nimport ReactDOM from 'react-dom';\nimport SettingsSidebar from './settings_sidebar.jsx';\nimport TeamSettings from './team_settings.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport {intlShape, injectIntl, defineMessages, FormattedMessage} from 'react-intl';\n\nconst holders = defineMessages({\n    generalTab: {\n        id: 'team_settings_modal.generalTab',\n        defaultMessage: 'General'\n    },\n    importTab: {\n        id: 'team_settings_modal.importTab',\n        defaultMessage: 'Import'\n    }\n});\n\nimport React from 'react';\n\nclass TeamSettingsModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateTab = this.updateTab.bind(this);\n        this.updateSection = this.updateSection.bind(this);\n\n        this.state = {\n            activeTab: 'general',\n            activeSection: ''\n        };\n    }\n    componentDidMount() {\n        const modal = $(ReactDOM.findDOMNode(this.refs.modal));\n\n        modal.on('click', '.modal-back', function handleBackClick() {\n            $(this).closest('.modal-dialog').removeClass('display--content');\n            $(this).closest('.modal-dialog').find('.settings-table .nav li.active').removeClass('active');\n        });\n        modal.on('click', '.modal-header .close', () => {\n            setTimeout(() => {\n                $('.modal-dialog.display--content').removeClass('display--content');\n            }, 500);\n        });\n\n        if (!Utils.isMobile()) {\n            $('.settings-modal .settings-content').perfectScrollbar();\n        }\n    }\n    updateTab(tab) {\n        this.setState({activeTab: tab, activeSection: ''});\n        if (!Utils.isMobile()) {\n            $('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n        }\n    }\n    updateSection(section) {\n        if ($('.section-max').length) {\n            $('.settings-modal .modal-body').scrollTop(0).perfectScrollbar('update');\n        }\n        this.setState({activeSection: section});\n    }\n    render() {\n        const {formatMessage} = this.props.intl;\n        const tabs = [];\n        tabs.push({name: 'general', uiName: formatMessage(holders.generalTab), icon: 'icon fa fa-cog'});\n        tabs.push({name: 'import', uiName: formatMessage(holders.importTab), icon: 'icon fa fa-upload'});\n\n        return (\n            <div\n                className='modal fade'\n                ref='modal'\n                id='team_settings'\n                role='dialog'\n                tabIndex='-1'\n                aria-hidden='true'\n            >\n                <div className='modal-dialog settings-modal'>\n                    <div className='modal-content'>\n                        <div className='modal-header'>\n                            <button\n                                type='button'\n                                className='close'\n                                data-dismiss='modal'\n                                aria-label='Close'\n                            >\n                                <span aria-hidden='true'>\n                                    {''}\n                                </span>\n                            </button>\n                            <h4\n                                className='modal-title'\n                                ref='title'\n                            >\n                                <FormattedMessage\n                                    id='team_settings_modal.title'\n                                    defaultMessage='Team Settings'\n                                />\n                            </h4>\n                        </div>\n                        <div className='modal-body settings-modal__body'>\n                            <div className='settings-table'>\n                                <div className='settings-links'>\n                                    <SettingsSidebar\n                                        tabs={tabs}\n                                        activeTab={this.state.activeTab}\n                                        updateTab={this.updateTab}\n                                    />\n                                </div>\n                                <div className='settings-content minimize-settings'>\n                                    <TeamSettings\n                                        activeTab={this.state.activeTab}\n                                        activeSection={this.state.activeSection}\n                                        updateSection={this.updateSection}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nTeamSettingsModal.propTypes = {\n    intl: intlShape.isRequired\n};\n\nexport default injectIntl(TeamSettingsModal);\n\n\n\n// WEBPACK FOOTER //\n// ./components/team_settings_modal.jsx","// Copyright (c) 2015 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport ModalStore from 'stores/modal_store.jsx';\nimport {Modal} from 'react-bootstrap';\n\nimport Constants from 'utils/constants.jsx';\n\nimport {FormattedMessage} from 'react-intl';\n\nconst ActionTypes = Constants.ActionTypes;\n\nimport React from 'react';\n\nexport default class ImportThemeModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateShow = this.updateShow.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n\n        this.state = {\n            value: '',\n            inputError: '',\n            show: false,\n            callback: null\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n    }\n\n    updateShow(show, args) {\n        this.setState({\n            show,\n            callback: args.callback\n        });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n\n        const text = this.state.value;\n\n        if (!this.isInputValid(text)) {\n            this.setState({\n                inputError: (\n                    <FormattedMessage\n                        id='user.settings.import_theme.submitError'\n                        defaultMessage='Invalid format, please try copying and pasting in again.'\n                    />\n                )\n            });\n            return;\n        }\n\n        const colors = text.split(',');\n        const theme = {type: 'custom'};\n\n        theme.sidebarBg = colors[0];\n        theme.sidebarText = colors[5];\n        theme.sidebarUnreadText = colors[5];\n        theme.sidebarTextHoverBg = colors[4];\n        theme.sidebarTextActiveBorder = colors[2];\n        theme.sidebarTextActiveColor = colors[3];\n        theme.sidebarHeaderBg = colors[1];\n        theme.sidebarHeaderTextColor = colors[5];\n        theme.onlineIndicator = colors[6];\n        theme.awayIndicator = '#E0B333';\n        theme.mentionBj = colors[7];\n        theme.mentionColor = '#ffffff';\n        theme.centerChannelBg = '#ffffff';\n        theme.centerChannelColor = '#333333';\n        theme.newMessageSeparator = '#F80';\n        theme.linkColor = '#2389d7';\n        theme.buttonBg = '#26a970';\n        theme.buttonColor = '#ffffff';\n        theme.mentionHighlightBg = '#fff2bb';\n        theme.mentionHighlightLink = '#2f81b7';\n        theme.codeTheme = 'github';\n\n        this.state.callback(theme);\n        this.setState({\n            show: false,\n            callback: null\n        });\n    }\n\n    isInputValid(text) {\n        if (text.length === 0) {\n            return false;\n        }\n\n        if (text.indexOf(' ') !== -1) {\n            return false;\n        }\n\n        if (text.length > 0 && text.indexOf(',') === -1) {\n            return false;\n        }\n\n        if (text.length > 0) {\n            const colors = text.split(',');\n\n            if (colors.length !== 8) {\n                return false;\n            }\n\n            for (let i = 0; i < colors.length; i++) {\n                if (colors[i].length !== 7 && colors[i].length !== 4) {\n                    return false;\n                }\n\n                if (colors[i].charAt(0) !== '#') {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    handleChange(e) {\n        const value = e.target.value;\n        this.setState({value});\n\n        if (this.isInputValid(value)) {\n            this.setState({inputError: null});\n        } else {\n            this.setState({\n                inputError: (\n                    <FormattedMessage\n                        id='user.settings.import_theme.submitError'\n                        defaultMessage='Invalid format, please try copying and pasting in again.'\n                    />\n                )\n            });\n        }\n    }\n\n    render() {\n        return (\n            <span>\n                <Modal\n                    show={this.state.show}\n                    onHide={() => this.setState({show: false})}\n                >\n                    <Modal.Header closeButton={true}>\n                        <Modal.Title>\n                            <FormattedMessage\n                                id='user.settings.import_theme.importHeader'\n                                defaultMessage='Import Slack Theme'\n                            />\n                        </Modal.Title>\n                    </Modal.Header>\n                    <form\n                        role='form'\n                        className='form-horizontal'\n                    >\n                        <Modal.Body>\n                            <p>\n                                <FormattedMessage\n                                    id='user.settings.import_theme.importBody'\n                                    defaultMessage='To import a theme, go to a Slack team and look for Preferences -> Sidebar Theme. Open the custom theme option, copy the theme color values and paste them here:'\n                                />\n                            </p>\n                            <div className='form-group less'>\n                                <div className='col-sm-12'>\n                                    <input\n                                        id='themeVector'\n                                        type='text'\n                                        className='form-control'\n                                        value={this.state.value}\n                                        onChange={this.handleChange}\n                                    />\n                                    <div className='input__help'>\n                                        {this.state.inputError}\n                                    </div>\n                                </div>\n                            </div>\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <button\n                                id='cancelButton'\n                                type='button'\n                                className='btn btn-default'\n                                onClick={() => this.setState({show: false})}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.import_theme.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                            <button\n                                id='submitButton'\n                                onClick={this.handleSubmit}\n                                type='submit'\n                                className='btn btn-primary'\n                                tabIndex='3'\n                            >\n                                <FormattedMessage\n                                    id='user.settings.import_theme.submit'\n                                    defaultMessage='Submit'\n                                />\n                            </button>\n                        </Modal.Footer>\n                    </form>\n                </Modal>\n            </span>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/user_settings/import_theme_modal.jsx","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport Constants from 'utils/constants.jsx';\n\nimport {Tooltip, OverlayTrigger} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport React from 'react';\n\nexport default class WebrtcHeader extends React.Component {\n    render() {\n        const title = (\n            <FormattedMessage\n                id='webrtc.header'\n                defaultMessage='Call with {username}'\n                values={{\n                    username: this.props.username\n                }}\n            />\n        );\n\n        const closeSidebarTooltip = (\n            <Tooltip id='closeSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.closeTooltip'\n                    defaultMessage='Close Sidebar'\n                />\n            </Tooltip>\n        );\n\n        const expandSidebarTooltip = (\n            <Tooltip id='expandSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.expandTooltip'\n                    defaultMessage='Expand Sidebar'\n                />\n            </Tooltip>\n        );\n\n        const shrinkSidebarTooltip = (\n            <Tooltip id='shrinkSidebarTooltip'>\n                <FormattedMessage\n                    id='rhs_header.expandTooltip'\n                    defaultMessage='Shrink Sidebar'\n                />\n            </Tooltip>\n        );\n\n        return (\n            <div className='sidebar--right__header'>\n                <span className='sidebar--right__title'>{title}</span>\n                <div className='pull-right'>\n                    <button\n                        type='button'\n                        className='sidebar--right__expand'\n                        aria-label='Expand'\n                        onClick={this.props.toggleSize}\n                    >\n                        <OverlayTrigger\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={expandSidebarTooltip}\n                        >\n                            <i className='fa fa-expand'/>\n                        </OverlayTrigger>\n                        <OverlayTrigger\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={shrinkSidebarTooltip}\n                        >\n                            <i className='fa fa-compress'/>\n                        </OverlayTrigger>\n                    </button>\n                    <button\n                        type='button'\n                        className='sidebar--right__close'\n                        aria-label='Close'\n                        title='Close'\n                        onClick={this.props.onClose}\n                    >\n                        <OverlayTrigger\n                            delayShow={Constants.OVERLAY_TIME_DELAY}\n                            placement='top'\n                            overlay={closeSidebarTooltip}\n                        >\n                            <i className='fa fa-sign-out'/>\n                        </OverlayTrigger>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nWebrtcHeader.propTypes = {\n    username: React.PropTypes.string.isRequired,\n    onClose: React.PropTypes.func.isRequired,\n    toggleSize: React.PropTypes.func\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/components/webrtc_header.jsx","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport Client from 'client/web_client.jsx';\nimport WebSocketClient from 'client/web_websocket_client.jsx';\n\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport * as WebrtcActions from 'actions/webrtc_actions.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport {Constants, WebrtcActionTypes} from 'utils/constants.jsx';\n\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\n\nimport ring from 'images/ring.mp3';\n\nconst PreReleaseFeatures = Constants.PRE_RELEASE_FEATURES;\n\nexport default class WebrtcNotification extends React.Component {\n    constructor() {\n        super();\n\n        this.mounted = false;\n\n        this.closeNotification = this.closeNotification.bind(this);\n        this.onIncomingCall = this.onIncomingCall.bind(this);\n        this.onCancelCall = this.onCancelCall.bind(this);\n        this.onRhs = this.onRhs.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.handleAnswer = this.handleAnswer.bind(this);\n        this.handleTimeout = this.handleTimeout.bind(this);\n        this.stopRinging = this.stopRinging.bind(this);\n        this.closeRightHandSide = this.closeRightHandSide.bind(this);\n\n        this.state = {\n            userCalling: null,\n            rhsOpened: false\n        };\n    }\n\n    componentDidMount() {\n        WebrtcStore.addNotifyListener(this.onIncomingCall);\n        WebrtcStore.addChangedListener(this.onCancelCall);\n        WebrtcStore.addRhsChangedListener(this.onRhs);\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        WebrtcStore.removeNotifyListener(this.onIncomingCall);\n        WebrtcStore.removeChangedListener(this.onCancelCall);\n        WebrtcStore.removeRhsChangedListener(this.onRhs);\n        if (this.refs.ring) {\n            this.refs.ring.removeListener('ended', this.handleTimeout);\n        }\n        this.mounted = false;\n    }\n\n    componentDidUpdate() {\n        if (this.state.userCalling) {\n            this.refs.ring.addEventListener('ended', this.handleTimeout);\n        }\n    }\n\n    closeNotification() {\n        this.setState({\n            userCalling: null\n        });\n    }\n\n    stopRinging() {\n        if (this.refs.ring) {\n            this.refs.ring.pause();\n            this.refs.ring.currentTime = 0;\n        }\n        this.setState({userCalling: null});\n    }\n\n    closeRightHandSide(e) {\n        e.preventDefault();\n        GlobalActions.emitCloseRightHandSide();\n    }\n\n    onIncomingCall(incoming) {\n        if (this.mounted) {\n            const userId = incoming.from_user_id;\n            const userMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n            const featureEnabled = Utils.isFeatureEnabled(PreReleaseFeatures.WEBRTC_PREVIEW);\n\n            if (featureEnabled) {\n                if (WebrtcStore.isBusy()) {\n                    WebSocketClient.sendMessage('webrtc', {\n                        action: WebrtcActionTypes.BUSY,\n                        from_user_id: UserStore.getCurrentId(),\n                        to_user_id: userId\n                    });\n                    this.stopRinging();\n                } else if (userMedia) {\n                    WebrtcStore.setVideoCallWith(userId);\n                    this.setState({\n                        userCalling: UserStore.getProfile(userId)\n                    });\n                } else {\n                    WebSocketClient.sendMessage('webrtc', {\n                        action: WebrtcActionTypes.UNSUPPORTED,\n                        from_user_id: UserStore.getCurrentId(),\n                        to_user_id: userId\n                    });\n                    this.stopRinging();\n                }\n            } else {\n                WebSocketClient.sendMessage('webrtc', {\n                    action: WebrtcActionTypes.DISABLED,\n                    from_user_id: UserStore.getCurrentId(),\n                    to_user_id: userId\n                });\n                this.stopRinging();\n            }\n        }\n    }\n\n    onCancelCall(message) {\n        if (message && message.action !== WebrtcActionTypes.CANCEL) {\n            return;\n        } else if (message && message.action === WebrtcActionTypes.CANCEL && this.state.userCalling && message.from_user_id !== this.state.userCalling.id) {\n            return;\n        }\n\n        WebrtcStore.setVideoCallWith(null);\n        this.closeNotification();\n    }\n\n    onRhs(rhsOpened) {\n        this.setState({rhsOpened});\n    }\n\n    handleTimeout() {\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.NO_ANSWER,\n            from_user_id: UserStore.getCurrentId(),\n            to_user_id: this.state.userCalling.id\n        });\n\n        this.onCancelCall();\n    }\n\n    handleAnswer(e) {\n        if (e) {\n            e.preventDefault();\n        }\n\n        const caller = this.state.userCalling;\n        if (caller) {\n            const callerId = caller.id;\n            const currentUserId = UserStore.getCurrentId();\n            const message = {\n                action: WebrtcActionTypes.ANSWER,\n                from_user_id: currentUserId,\n                to_user_id: callerId\n            };\n\n            GlobalActions.emitCloseRightHandSide();\n            WebrtcActions.initWebrtc(callerId, false);\n            WebSocketClient.sendMessage('webrtc', message);\n\n            // delay till next tick (this will give time to listen for events\n            setTimeout(() => {\n                //we switch from and to user to handle the event locally\n                message.from_user_id = callerId;\n                message.to_user_id = currentUserId;\n                WebrtcActions.handle(message);\n            }, 0);\n\n            this.closeNotification();\n        }\n    }\n\n    handleClose(e) {\n        if (e) {\n            e.preventDefault();\n        }\n        if (this.state.userCalling) {\n            WebSocketClient.sendMessage('webrtc', {\n                action: WebrtcActionTypes.DECLINE,\n                from_user_id: UserStore.getCurrentId(),\n                to_user_id: this.state.userCalling.id\n            });\n        }\n\n        this.onCancelCall();\n    }\n\n    render() {\n        const user = this.state.userCalling;\n        if (user) {\n            const username = Utils.displayUsername(user.id);\n            const profileImgSrc = Client.getUsersRoute() + '/' + user.id + '/image?time=' + (user.last_picture_update || new Date().getTime());\n            const profileImg = (\n                <img\n                    className='user-popover__image'\n                    src={profileImgSrc}\n                    height='128'\n                    width='128'\n                    key='user-popover-image'\n                />\n            );\n            const answerBtn = (\n                <svg\n                    className='webrtc-icons__pickup'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={this.handleAnswer}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.notification.answer'\n                                defaultMessage='Answer'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='translate(-10,-10)'\n                        fill='#fff'\n                        d='M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    />\n                </svg>\n            );\n\n            const rejectBtn = (\n                <svg\n                    className='webrtc-icons__cancel'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={this.handleClose}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.notification.decline'\n                                defaultMessage='Decline'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='scale(0.7), translate(11,10)'\n                        d='M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z'\n                        fill='white'\n                    />\n                </svg>\n            );\n\n            const msg = (\n                <div>\n                    <FormattedMessage\n                        id='webrtc.notification.incoming_call'\n                        defaultMessage='{username} is calling you.'\n                        values={{\n                            username\n                        }}\n                    />\n                    <div\n                        className='webrtc-buttons webrtc-icons active'\n                        style={{marginTop: '5px'}}\n                    >\n                        {answerBtn}\n                        {rejectBtn}\n                    </div>\n                </div>\n            );\n\n            return (\n                <div className='webrtc-notification'>\n                    <audio\n                        ref='ring'\n                        src={ring}\n                        autoPlay={true}\n                    />\n                    <div>\n                        {profileImg}\n                    </div>\n                    {msg}\n                </div>\n            );\n        } else if (this.state.rhsOpened && WebrtcStore.isBusy()) {\n            return (\n                <div\n                    className='webrtc__notification--rhs'\n                    onClick={this.closeRightHandSide}\n                >\n                    <i className='fa fa-phone'/>\n                    <FormattedMessage\n                        id='webrtc.notification.returnToCall'\n                        defaultMessage='Return to ongoing call with {username}'\n                        values={{\n                            username: Utils.displayUsername(WebrtcStore.getVideoCallWith())\n                        }}\n                    />\n                </div>\n            );\n        }\n\n        return <div/>;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/components/webrtc_notification.jsx","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport $ from 'jquery';\n\nimport WebrtcController from '../webrtc_controller.jsx';\nimport UserStore from 'stores/user_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport React from 'react';\n\nexport default class SidebarRight extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.plScrolledToBottom = true;\n\n        this.onShrink = this.onShrink.bind(this);\n        this.toggleSize = this.toggleSize.bind(this);\n        this.onInitializeVideoCall = this.onInitializeVideoCall.bind(this);\n\n        this.doStrangeThings = this.doStrangeThings.bind(this);\n\n        this.state = {\n            expanded: false,\n            currentUser: UserStore.getCurrentUser(),\n            videoCallVisible: false,\n            isCaller: false,\n            videoCallWithUserId: null\n        };\n    }\n\n    componentDidMount() {\n        WebrtcStore.addInitListener(this.onInitializeVideoCall);\n        this.doStrangeThings();\n    }\n\n    componentWillUnmount() {\n        WebrtcStore.removeInitListener(this.onInitializeVideoCall);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return !Utils.areObjectsEqual(nextState, this.state);\n    }\n\n    doStrangeThings() {\n        // We should have a better way to do this stuff\n        // Hence the function name.\n        $('.app__body .inner-wrap').removeClass('move--right');\n        $('.app__body .inner-wrap').addClass('webrtc--show');\n        $('.app__body .sidebar--left').removeClass('move--right');\n        $('.multi-teams .team-sidebar').removeClass('move--right');\n        $('.app__body .webrtc').addClass('webrtc--show');\n\n        //$('.sidebar--right').prepend('<div class=\"sidebar__overlay\"></div>');\n        if (!this.state.videoCallVisible) {\n            $('.app__body .inner-wrap').removeClass('webrtc--show').removeClass('move--right');\n            $('.app__body .webrtc').removeClass('webrtc--show');\n            return (\n                <div/>\n            );\n        }\n        return null;\n    }\n\n    componentDidUpdate() {\n        this.doStrangeThings();\n    }\n\n    onShrink() {\n        this.setState({expanded: false});\n    }\n\n    toggleSize(e) {\n        if (e) {\n            e.preventDefault();\n        }\n        this.setState({expanded: !this.state.expanded});\n    }\n\n    onInitializeVideoCall(userId, isCaller) {\n        let expanded = this.state.expanded;\n        if (userId === null) {\n            expanded = false;\n        }\n        this.setState({\n            videoCallVisible: (userId !== null),\n            isCaller,\n            videoCallWithUserId: userId,\n            expanded\n        });\n\n        if (userId !== null) {\n            this.forceUpdate();\n        }\n    }\n\n    render() {\n        let content = null;\n        let expandedClass = '';\n\n        if (this.state.expanded) {\n            expandedClass = 'sidebar--right--expanded';\n        }\n\n        if (this.state.videoCallVisible) {\n            content = (\n                <WebrtcController\n                    currentUser={this.state.currentUser}\n                    userId={this.state.videoCallWithUserId}\n                    isCaller={this.state.isCaller}\n                    expanded={this.state.expanded}\n                    toggleSize={this.toggleSize}\n                />\n            );\n        }\n\n        return (\n            <div\n                className={'sidebar--right webrtc ' + expandedClass}\n                id='sidebar-webrtc'\n            >\n                <div\n                    onClick={this.onShrink}\n                    className='sidebar--right__bg'\n                />\n                <div className='sidebar-right-container'>\n                    {content}\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/components/webrtc_sidebar.jsx","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport UserStore from 'stores/user_store.jsx';\nimport ChannelStore from 'stores/channel_store.jsx';\nimport WebrtcStore from 'stores/webrtc_store.jsx';\n\nimport Client from 'client/web_client.jsx';\nimport WebSocketClient from 'client/web_websocket_client.jsx';\nimport Janus from 'janus';\n\nimport SearchBox from '../search_bar.jsx';\nimport WebrtcHeader from './components/webrtc_header.jsx';\nimport ConnectingScreen from 'components/loading_screen.jsx';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport * as WebrtcActions from 'actions/webrtc_actions.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\nimport {Constants, UserStatuses, WebrtcActionTypes} from 'utils/constants.jsx';\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport ring from 'images/ring.mp3';\n\nconst VIDEO_WIDTH = 640;\nconst VIDEO_HEIGHT = 360;\nconst MIN_ASPECT = 1.777;\nconst MAX_ASPECT = 1.778;\nconst ALREADY_REGISTERED_ERROR = 477;\nconst USERNAME_TAKEN = 476;\n\nexport default class WebrtcController extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.mounted = false;\n        this.localMedia = null;\n        this.session = null;\n        this.videocall = null;\n\n        this.handleResize = this.handleResize.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.close = this.close.bind(this);\n        this.clearError = this.clearError.bind(this);\n\n        this.getLocalMedia = this.getLocalMedia.bind(this);\n        this.stopMediaStream = this.stopMediaStream.bind(this);\n        this.previewVideo = this.previewVideo.bind(this);\n        this.stopRinging = this.stopRinging.bind(this);\n\n        this.handleMakeOffer = this.handleMakeOffer.bind(this);\n        this.handleCancelOffer = this.handleCancelOffer.bind(this);\n        this.handleWebrtcEvent = this.handleWebrtcEvent.bind(this);\n        this.handleVideoCallEvent = this.handleVideoCallEvent.bind(this);\n        this.handleRemoteStream = this.handleRemoteStream.bind(this);\n\n        this.onStatusChange = this.onStatusChange.bind(this);\n        this.onCallDeclined = this.onCallDeclined.bind(this);\n        this.onUnsupported = this.onUnsupported.bind(this);\n        this.onNoAnswer = this.onNoAnswer.bind(this);\n        this.onBusy = this.onBusy.bind(this);\n        this.onDisabled = this.onDisabled.bind(this);\n        this.onFailed = this.onFailed.bind(this);\n        this.onCancelled = this.onCancelled.bind(this);\n        this.onConnectCall = this.onConnectCall.bind(this);\n\n        this.onSessionCreated = this.onSessionCreated.bind(this);\n        this.onSessionError = this.onSessionError.bind(this);\n\n        this.doCall = this.doCall.bind(this);\n        this.doAnswer = this.doAnswer.bind(this);\n        this.doHangup = this.doHangup.bind(this);\n        this.doCleanup = this.doCleanup.bind(this);\n\n        this.renderButtons = this.renderButtons.bind(this);\n        this.onToggleVideo = this.onToggleVideo.bind(this);\n        this.onToggleAudio = this.onToggleAudio.bind(this);\n        this.onToggleRemoteMute = this.onToggleRemoteMute.bind(this);\n        this.toggleIcons = this.toggleIcons.bind(this);\n\n        const currentUser = UserStore.getCurrentUser();\n        const remoteUser = UserStore.getProfile(props.userId);\n        const remoteUserImage = Client.getUsersRoute() + '/' + remoteUser.id + '/image?time=' + remoteUser.last_picture_update;\n\n        this.state = {\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight(),\n            channelId: ChannelStore.getCurrentId(),\n            currentUser,\n            currentUserImage: Client.getUsersRoute() + '/' + currentUser.id + '/image?time=' + currentUser.last_picture_update,\n            remoteUserImage,\n            localMediaLoaded: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error: null,\n            errorType: '',\n            ended: null\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.handleResize);\n        WebrtcStore.addChangedListener(this.handleWebrtcEvent);\n        UserStore.addStatusesChangeListener(this.onStatusChange);\n\n        this.mounted = true;\n        this.previewVideo();\n\n        if (this.props.isCaller) {\n            this.handleMakeOffer();\n        }\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleResize);\n        WebrtcStore.removeChangedListener(this.handleWebrtcEvent);\n        UserStore.removeStatusesChangeListener(this.onStatusChange);\n        this.mounted = false;\n        this.close();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if ((nextProps.currentUser !== this.props.currentUser) ||\n            (nextProps.userId !== this.props.userId) ||\n            (nextProps.isCaller !== this.props.isCaller)) {\n            const remoteUser = UserStore.getProfile(nextProps.userId);\n            const remoteUserImage = Client.getUsersRoute() + '/' + remoteUser.id + '/image?time=' + remoteUser.last_picture_update;\n            this.setState({\n                error: null,\n                remoteUserImage\n            });\n        }\n\n        if (nextProps.isCaller && nextProps.expanded === this.props.expanded) {\n            this.startCall = true;\n        }\n    }\n\n    componentDidUpdate() {\n        if (this.props.isCaller && this.startCall) {\n            this.startCall = false;\n            this.handleMakeOffer();\n        }\n    }\n\n    handleResize() {\n        this.setState({\n            windowWidth: Utils.windowWidth(),\n            windowHeight: Utils.windowHeight()\n        });\n    }\n\n    clearError() {\n        setTimeout(() => {\n            this.setState({error: null, ended: null, errorType: ''});\n        }, Constants.WEBRTC_CLEAR_ERROR_DELAY);\n    }\n\n    getLocalMedia(constraints, element, callback) {\n        const media = constraints || {audio: true, video: true};\n        navigator.mediaDevices.getUserMedia(media).\n        then((stream) => {\n            if (element) {\n                element.srcObject = stream;\n            }\n\n            if (callback && typeof callback === 'function') {\n                callback(null, stream);\n            }\n        }).\n        catch((error) => {\n            callback(error);\n        });\n    }\n\n    stopMediaStream(stream) {\n        const tracks = stream.getTracks();\n        tracks.forEach((track) => {\n            track.stop();\n        });\n    }\n\n    previewVideo() {\n        if (this.mounted) {\n            if (this.localMedia) {\n                this.setState({\n                    localMediaLoaded: true,\n                    error: null\n                });\n                this.localMedia.enabled = true;\n            } else {\n                this.getLocalMedia(\n                    {\n                        audio: true,\n                        video: {\n                            minAspectRatio: MIN_ASPECT,\n                            maxAspectRatio: MAX_ASPECT,\n                            width: VIDEO_WIDTH,\n                            height: VIDEO_HEIGHT\n                        }\n                    },\n                    this.refs['local-video'],\n                    (error, stream) => {\n                        if (error) {\n                            this.setState({\n                                error: (\n                                    <FormattedMessage\n                                        id='webrtc.mediaError'\n                                        defaultMessage='Unable to access Camera and Microphone'\n                                    />\n                                )\n                            });\n                            return;\n                        }\n                        this.localMedia = stream;\n                        this.setState({\n                            localMediaLoaded: true\n                        });\n                    });\n            }\n        }\n    }\n\n    stopRinging() {\n        if (this.refs.ring) {\n            this.refs.ring.pause();\n            this.refs.ring.currentTime = 0;\n        }\n    }\n\n    handleMakeOffer() {\n        if (UserStore.getStatus(this.props.userId) === UserStatuses.OFFLINE) {\n            this.onStatusChange();\n        } else {\n            const connectingMsg = (\n                <FormattedMessage\n                    id='calling_screen'\n                    defaultMessage='Calling'\n                />\n            );\n\n            this.setState({\n                isCalling: true,\n                isAnswering: false,\n                callInProgress: false,\n                error: null,\n                ended: null,\n                connectingMsg\n            });\n\n            WebrtcStore.setVideoCallWith(this.props.userId);\n\n            const user = this.state.currentUser;\n            WebSocketClient.sendMessage('webrtc', {\n                action: WebrtcActionTypes.NOTIFY,\n                from_user_id: user.id,\n                to_user_id: this.props.userId\n            });\n        }\n    }\n\n    handleCancelOffer() {\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error: null,\n            ended: null\n        });\n\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.CANCEL,\n            from_user_id: user.id,\n            to_user_id: this.props.userId\n        });\n\n        this.doCleanup();\n    }\n\n    handleWebrtcEvent(message) {\n        switch (message.action) {\n        case WebrtcActionTypes.DECLINE:\n            this.onCallDeclined();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.UNSUPPORTED:\n            this.onUnsupported();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.BUSY:\n            this.onBusy();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.NO_ANSWER:\n            this.onNoAnswer();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.FAILED:\n            this.onFailed();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.ANSWER:\n            this.onConnectCall();\n            break;\n        case WebrtcActionTypes.CANCEL:\n            this.onCancelled();\n            this.clearError();\n            break;\n        case WebrtcActionTypes.MUTED:\n            this.onToggleRemoteMute(message);\n            break;\n        case WebrtcActionTypes.IN_PROGRESS:\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id='webrtc.inProgress'\n                        defaultMessage='You have a call in progress. Please hang up first.'\n                    />\n                ),\n                errorType: ' warning'\n            });\n            this.clearError();\n            break;\n        case WebrtcActionTypes.DISABLED:\n            this.onDisabled();\n            this.clearError();\n            break;\n        }\n    }\n\n    handleVideoCallEvent(msg, jsep) {\n        const result = msg.result;\n\n        if (result) {\n            const event = result.event;\n            switch (event) {\n            case 'registered':\n                if (this.state.isCalling) {\n                    this.doCall();\n                }\n                break;\n            case 'incomingcall':\n                this.doAnswer(jsep);\n                break;\n            case 'accepted':\n                this.stopRinging();\n\n                if (jsep) {\n                    this.videocall.handleRemoteJsep({jsep});\n                }\n                break;\n            case 'hangup':\n                this.doHangup(false);\n                break;\n            }\n        } else {\n            const errorCode = msg.error_code;\n            if (errorCode !== ALREADY_REGISTERED_ERROR && errorCode !== USERNAME_TAKEN) {\n                this.doHangup(true);\n            } else if (this.state.isCalling) {\n                this.doCall();\n            }\n        }\n    }\n\n    handleRemoteStream(stream) {\n        // attaching stream to where they belong\n        this.refs['main-video'].srcObject = stream;\n\n        let isRemotePaused = false;\n        let isRemoteMuted = false;\n        const videoTracks = stream.getVideoTracks();\n        const audioTracks = stream.getAudioTracks();\n        if (!videoTracks || videoTracks.length === 0 || videoTracks[0].muted || !videoTracks[0].enabled) {\n            isRemotePaused = true;\n        }\n\n        if (!audioTracks || audioTracks.length === 0 || audioTracks[0].muted || !audioTracks[0].enabled) {\n            isRemoteMuted = true;\n        }\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: true,\n            isMuted: false,\n            isPaused: false,\n            error: null,\n            ended: null,\n            isRemotePaused,\n            isRemoteMuted\n        });\n        this.toggleIcons();\n    }\n\n    handleClose(e) {\n        e.preventDefault();\n        if (this.state.callInProgress) {\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id='webrtc.inProgress'\n                        defaultMessage='You have a call in progress. Please hang up first.'\n                    />\n                ),\n                errorType: ' warning'\n            });\n        } else if (this.state.isCalling) {\n            this.handleCancelOffer();\n            this.close();\n        } else {\n            this.close();\n        }\n    }\n\n    close() {\n        this.doCleanup();\n\n        if (this.session) {\n            this.session.destroy();\n            this.session = null;\n        }\n\n        if (this.localMedia) {\n            this.stopMediaStream(this.localMedia);\n            this.localMedia = null;\n        }\n\n        WebrtcActions.initWebrtc(null, false);\n    }\n\n    onStatusChange() {\n        const status = UserStore.getStatus(this.props.userId);\n\n        if (status === UserStatuses.OFFLINE) {\n            const error = (\n                <FormattedMessage\n                    id='webrtc.offline'\n                    defaultMessage='{username} is offline'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n\n            if (this.state.isCalling || this.state.isAnswering) {\n                this.setState({\n                    isCalling: false,\n                    isAnswering: false,\n                    callInProgress: false,\n                    error\n                });\n            } else {\n                this.setState({\n                    error\n                });\n            }\n        } else if (status !== UserStatuses.OFFLINE && this.state.error) {\n            this.setState({\n                error: null,\n                ended: null\n            });\n        }\n    }\n\n    onCallDeclined() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.declined'\n                    defaultMessage='Your call has been declined by {username}'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onUnsupported() {\n        if (this.mounted) {\n            this.stopRinging();\n\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id='webrtc.unsupported'\n                        defaultMessage='Call to {username} not successful. Their client does not support video calls.'\n                        values={{\n                            username: Utils.displayUsername(this.props.userId)\n                        }}\n                    />\n                ),\n                callInProgress: false,\n                isCalling: false,\n                isAnswering: false\n            });\n        }\n\n        this.doCleanup();\n    }\n\n    onNoAnswer() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.noAnswer'\n                    defaultMessage='{username} is not answering the call'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onBusy() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.busy'\n                    defaultMessage='{username} is busy'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onDisabled() {\n        let error = null;\n\n        if (this.state.isCalling) {\n            error = (\n                <FormattedMessage\n                    id='webrtc.disabled'\n                    defaultMessage='{username} has WebRTC disabled, and cannot receive calls. To enable the feature, they must go to Account Settings > Advanced > Preview pre-release features and turn on WebRTC.'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            );\n        }\n\n        this.stopRinging();\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            error\n        });\n\n        this.doCleanup();\n    }\n\n    onFailed() {\n        trackEvent('api', 'api_users_webrtc_failed');\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            error: (\n                <FormattedMessage\n                    id='webrtc.failed'\n                    defaultMessage='There was a problem connecting the video call'\n                />\n            )\n        });\n\n        this.stopRinging();\n\n        this.doCleanup();\n    }\n\n    onCancelled() {\n        if (this.mounted && this.state.isAnswering) {\n            this.stopRinging();\n            this.setState({\n                isCalling: false,\n                isAnswering: false,\n                callInProgress: false,\n                error: (\n                    <FormattedMessage\n                        id='webrtc.cancelled'\n                        defaultMessage='{username} cancelled the call'\n                        values={{\n                            username: Utils.displayUsername(this.props.userId)\n                        }}\n                    />\n                )\n            });\n        }\n\n        this.doCleanup();\n    }\n\n    onConnectCall() {\n        WebrtcActions.webrtcToken(\n            (info) => {\n                const connectingMsg = (\n                    <FormattedMessage\n                        id='connecting_screen'\n                        defaultMessage='Connecting'\n                    />\n                );\n\n                this.setState({isAnswering: !this.state.isCalling, connectingMsg});\n                if (this.session) {\n                    this.onSessionCreated();\n                } else {\n                    const iceServers = [];\n\n                    if (info.stun_uri) {\n                        iceServers.push({\n                            urls: [info.stun_uri]\n                        });\n                    }\n\n                    if (info.turn_uri) {\n                        iceServers.push({\n                            urls: [info.turn_uri],\n                            username: info.turn_username,\n                            credential: info.turn_password\n                        });\n                    }\n\n                    Janus.init({debug: global.mm_config.EnableDeveloper === 'true'});\n                    this.session = new Janus({\n                        server: info.gateway_url,\n                        iceServers,\n                        token: info.token,\n                        success: this.onSessionCreated,\n                        error: this.onSessionError\n                    });\n                }\n            },\n            () => {\n                this.onSessionError();\n            });\n    }\n\n    onSessionCreated() {\n        if (this.videocall) {\n            this.doCall();\n        } else {\n            this.session.attach({\n                plugin: 'janus.plugin.videocall',\n                success: (plugin) => {\n                    this.videocall = plugin;\n                    this.videocall.send({message: {request: 'register', username: this.state.currentUser.id}});\n                },\n                error: this.onSessionError,\n                onmessage: this.handleVideoCallEvent,\n                onremotestream: this.handleRemoteStream\n            });\n        }\n    }\n\n    onSessionError() {\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.FAILED,\n            from_user_id: user.id,\n            to_user_id: this.props.userId\n        });\n\n        this.onFailed();\n    }\n\n    doCall() {\n        // delay call so receiver has time to register\n        setTimeout(() => {\n            this.videocall.createOffer({\n                stream: this.localMedia,\n                success: (jsep) => {\n                    const body = {request: 'call', username: this.props.userId};\n                    this.videocall.send({message: body, jsep});\n                },\n                error: () => {\n                    this.doHangup(true);\n                }\n            });\n        }, Constants.WEBRTC_TIME_DELAY);\n    }\n\n    doAnswer(jsep) {\n        trackEvent('api', 'api_users_webrtc_start');\n        this.videocall.createAnswer({\n            jsep,\n            stream: this.localMedia,\n            success: (jsepSuccess) => {\n                const body = {request: 'accept'};\n                this.videocall.send({message: body, jsep: jsepSuccess});\n            },\n            error: () => {\n                this.doHangup(true);\n            }\n        });\n    }\n\n    doHangup(error, manual) {\n        trackEvent('api', 'api_users_webrtc_end');\n        if (this.videocall && this.state.callInProgress) {\n            this.videocall.send({message: {request: 'hangup'}});\n            this.videocall.hangup();\n            this.toggleIcons();\n\n            if (this.localMedia) {\n                this.localMedia.getVideoTracks()[0].enabled = true;\n                this.localMedia.getAudioTracks()[0].enabled = true;\n            }\n        }\n\n        if (error) {\n            this.onSessionError();\n            return this.doCleanup();\n        }\n\n        WebrtcStore.setVideoCallWith(null);\n        WebrtcStore.emitRhsChanged(false);\n\n        if (manual) {\n            return this.close();\n        }\n\n        this.setState({\n            isCalling: false,\n            isAnswering: false,\n            callInProgress: false,\n            isPaused: false,\n            isMuted: false,\n            isRemotePaused: false,\n            isRemoteMuted: false,\n            error: null,\n            ended: (\n                <FormattedMessage\n                    id='webrtc.callEnded'\n                    defaultMessage='Call with {username} ended.'\n                    values={{\n                        username: Utils.displayUsername(this.props.userId)\n                    }}\n                />\n            )\n        });\n        this.clearError();\n        return this.doCleanup();\n    }\n\n    doCleanup() {\n        WebrtcStore.setVideoCallWith(null);\n\n        if (this.videocall) {\n            this.videocall.detach();\n            this.videocall = null;\n        }\n    }\n\n    onToggleVideo() {\n        const shouldPause = !this.state.isPaused;\n        if (shouldPause) {\n            this.videocall.unmuteVideo();\n        } else {\n            this.videocall.muteVideo();\n        }\n\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.MUTED,\n            from_user_id: user.id,\n            to_user_id: this.props.userId,\n            type: 'video',\n            mute: shouldPause\n        });\n\n        this.setState({\n            isPaused: shouldPause,\n            error: null,\n            ended: null\n        });\n    }\n\n    onToggleAudio() {\n        const shouldMute = !this.state.isMuted;\n        if (shouldMute) {\n            this.videocall.unmuteAudio();\n        } else {\n            this.videocall.muteAudio();\n        }\n\n        const user = this.state.currentUser;\n        WebSocketClient.sendMessage('webrtc', {\n            action: WebrtcActionTypes.MUTED,\n            from_user_id: user.id,\n            to_user_id: this.props.userId,\n            type: 'audio',\n            mute: shouldMute\n        });\n\n        this.setState({\n            isMuted: shouldMute,\n            error: null,\n            ended: null\n        });\n    }\n\n    onToggleRemoteMute(message) {\n        if (message.type === 'video') {\n            this.setState({\n                isRemotePaused: message.mute\n            });\n        } else {\n            this.setState({isRemoteMuted: message.mute, error: null, ended: null});\n        }\n    }\n\n    toggleIcons() {\n        const icons = this.refs.icons;\n        if (icons) {\n            icons.classList.toggle('hidden');\n            icons.classList.toggle('active');\n        }\n    }\n\n    renderButtons() {\n        let buttons;\n        if (this.state.isCalling) {\n            buttons = (\n                <svg\n                    id='cancel'\n                    className='webrtc-icons__cancel'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={() => this.handleCancelOffer()}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.cancel'\n                                defaultMessage='Cancel Call'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='scale(0.8), translate(6,10)'\n                        d='M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z'\n                        fill='white'\n                    />\n                </svg>\n            );\n        } else if (!this.state.callInProgress && this.state.localMediaLoaded) {\n            buttons = (\n                <svg\n                    id='call'\n                    className='webrtc-icons__call'\n                    xmlns='http://www.w3.org/2000/svg'\n                    width='48'\n                    height='48'\n                    viewBox='-10 -10 68 68'\n                    onClick={() => this.handleMakeOffer()}\n                    disabled={UserStore.getStatus(this.props.userId) === 'offline'}\n                >\n                    <circle\n                        cx='24'\n                        cy='24'\n                        r='34'\n                    >\n                        <title>\n                            <FormattedMessage\n                                id='webrtc.call'\n                                defaultMessage='Call'\n                            />\n                        </title>\n                    </circle>\n                    <path\n                        transform='translate(-10,-10)'\n                        fill='#fff'\n                        d='M29.854,37.627c1.723,1.904 3.679,3.468 5.793,4.684l3.683,-3.334c0.469,-0.424 1.119,-0.517 1.669,-0.302c1.628,0.63 3.331,1.021 5.056,1.174c0.401,0.026 0.795,0.199 1.09,0.525c0.295,0.326 0.433,0.741 0.407,1.153l-0.279,5.593c-0.02,0.418 -0.199,0.817 -0.525,1.112c-0.326,0.296 -0.741,0.434 -1.159,0.413c-6.704,-0.504 -13.238,-3.491 -18.108,-8.87c-4.869,-5.38 -7.192,-12.179 -7.028,-18.899c0.015,-0.413 0.199,-0.817 0.526,-1.113c0.326,-0.295 0.74,-0.433 1.153,-0.407l5.593,0.279c0.407,0.02 0.812,0.193 1.107,0.519c0.29,0.32 0.428,0.735 0.413,1.137c-0.018,1.732 0.202,3.464 0.667,5.147c0.159,0.569 0.003,1.207 -0.466,1.631l-3.683,3.334c1.005,2.219 2.368,4.32 4.091,6.224Z'\n                    />\n                </svg>\n            );\n        } else if (this.state.callInProgress) {\n            const onClass = 'on';\n            const offClass = 'off';\n            let audioOnClass = offClass;\n            let audioOffClass = onClass;\n            let videoOnClass = offClass;\n            let videoOffClass = onClass;\n\n            let audioTitle = (\n                <FormattedMessage\n                    id='webrtc.mute_audio'\n                    defaultMessage='Mute'\n                />\n            );\n\n            let videoTitle = (\n                <FormattedMessage\n                    id='webrtc.pause_video'\n                    defaultMessage='Turn off Video'\n                />\n            );\n\n            if (this.state.isMuted) {\n                audioOnClass = onClass;\n                audioOffClass = offClass;\n                audioTitle = (\n                    <FormattedMessage\n                        id='webrtc.unmute_audio'\n                        defaultMessage='Unmute'\n                    />\n                );\n            }\n\n            if (this.state.isPaused) {\n                videoOnClass = onClass;\n                videoOffClass = offClass;\n                videoTitle = (\n                    <FormattedMessage\n                        id='webrtc.unpause_video'\n                        defaultMessage='Turn on Video'\n                    />\n                );\n            }\n\n            buttons = (\n                <div\n                    ref='icons'\n                    className='webrtc-icons hidden'\n                >\n\n                    <svg\n                        id='mute-audio'\n                        className='webrtc-icons__call'\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='48'\n                        height='48'\n                        viewBox='-10 -10 68 68'\n                        onClick={() => this.onToggleAudio()}\n                    >\n                        <circle\n                            cx='24'\n                            cy='24'\n                            r='34'\n                        >\n                            <title>{audioTitle}</title>\n                        </circle>\n                        <path\n                            className={audioOnClass}\n                            transform='scale(0.6), translate(17,18)'\n                            d='M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z'\n                            fill='white'\n                        />\n                        <path\n                            className={audioOffClass}\n                            transform='scale(0.6), translate(17,18)'\n                            d='M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z'\n                            fill='white'\n                        />\n                    </svg>\n\n                    <svg\n                        id='mute-video'\n                        className='webrtc-icons__call'\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='48'\n                        height='48'\n                        viewBox='-10 -10 68 68'\n                        onClick={() => this.onToggleVideo()}\n                    >\n                        <circle\n                            cx='24'\n                            cy='24'\n                            r='34'\n                        >\n                            <title>{videoTitle}</title>\n                        </circle>\n                        <path\n                            className={videoOnClass}\n                            transform='scale(0.6), translate(17,16)'\n                            d='M40 8H15.64l8 8H28v4.36l1.13 1.13L36 16v12.36l7.97 7.97L44 36V12c0-2.21-1.79-4-4-4zM4.55 2L2 4.55l4.01 4.01C4.81 9.24 4 10.52 4 12v24c0 2.21 1.79 4 4 4h29.45l4 4L44 41.46 4.55 2zM12 16h1.45L28 30.55V32H12V16z'\n                            fill='white'\n                        />\n                        <path\n                            className={videoOffClass}\n                            transform='scale(0.6), translate(17,16)'\n                            d='M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm-4 24l-8-6.4V32H12V16h16v6.4l8-6.4v16z'\n                            fill='white'\n                        />\n                    </svg>\n\n                    <svg\n                        id='hangup'\n                        className='webrtc-icons__cancel'\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='48'\n                        height='48'\n                        viewBox='-10 -10 68 68'\n                        onClick={() => this.doHangup(false, true)}\n                    >\n                        <circle\n                            cx='24'\n                            cy='24'\n                            r='34'\n                        >\n                            <title>\n                                <FormattedMessage\n                                    id='webrtc.hangup'\n                                    defaultMessage='Hang up'\n                                />\n                            </title>\n                        </circle>\n                        <path\n                            transform='scale(0.7), translate(11,10)'\n                            d='M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z'\n                            fill='white'\n                        />\n                    </svg>\n\n                </div>\n            );\n        }\n\n        return buttons;\n    }\n\n    render() {\n        const currentId = UserStore.getCurrentId();\n        const remoteImage = (<img src={this.state.remoteUserImage}/>);\n        let localImage;\n        let localVideoHidden = '';\n        let remoteVideoHidden = 'hidden';\n        let error;\n        let remoteMute;\n        let localImageHidden = 'webrtc__local-image hidden';\n        let remoteImageHidden = 'webrtc__remote-image';\n\n        if (this.state.error) {\n            error = (\n                <div className='webrtc__error'>\n                    <div className='form-group has-error'>\n                        <label className={'control-label' + this.state.errorType}>{this.state.error}</label>\n                    </div>\n                </div>\n            );\n        } else if (this.state.ended) {\n            error = (\n                <div className='webrtc__error'>\n                    <div className='form-group'>\n                        <label className='control-label'>{this.state.ended}</label>\n                    </div>\n                </div>\n            );\n        }\n\n        if (this.state.isRemoteMuted) {\n            remoteMute = (\n                <div className='webrtc__remote-mute'>\n                    <svg\n                        xmlns='http://www.w3.org/2000/svg'\n                        width='60'\n                        height='60'\n                        viewBox='-10 -10 68 68'\n                    >\n                        <path\n                            className='off'\n                            transform='scale(0.6), translate(17,18)'\n                            d='M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z'\n                            fill='white'\n                        />\n                        <path\n                            className='on'\n                            transform='scale(0.6), translate(17,18)'\n                            d='M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z'\n                            fill='white'\n                        />\n                    </svg>\n                </div>\n            );\n        }\n\n        let searchForm;\n        if (currentId != null) {\n            searchForm = <SearchBox/>;\n        }\n\n        const buttons = this.renderButtons();\n        const calling = this.state.isCalling;\n        let connecting;\n        let audio;\n        if (calling || this.state.isAnswering) {\n            if (calling) {\n                audio = (\n                    <audio\n                        ref='ring'\n                        src={ring}\n                        autoPlay={true}\n                    />\n                );\n            }\n\n            connecting = (\n                <div className='connecting'>\n                    <ConnectingScreen\n                        position='absolute'\n                        message={this.state.connectingMsg}\n                    />\n                    {audio}\n                </div>\n            );\n        }\n\n        if (this.state.callInProgress) {\n            if (this.state.isPaused) {\n                localVideoHidden = 'hidden';\n                localImageHidden = 'webrtc__local-image';\n                localImage = (<img src={this.state.currentUserImage}/>);\n            }\n\n            if (this.state.isRemotePaused) {\n                remoteVideoHidden = 'hidden';\n                remoteImageHidden = 'webrtc__remote-image';\n            } else {\n                remoteVideoHidden = '';\n                remoteImageHidden = 'webrtc__remote-image hidden';\n            }\n        }\n\n        return (\n            <div className='post-right__container'>\n                <div className='search-bar__container sidebar--right__search-header'>{searchForm}</div>\n                <div className='sidebar-right__body'>\n                    <WebrtcHeader\n                        username={Utils.displayUsername(this.props.userId)}\n                        onClose={this.handleClose}\n                        toggleSize={this.props.toggleSize}\n                    />\n                    <div className='post-right__scroll'>\n                        <div id='videos'>\n                            {remoteMute}\n                            <div\n                                id='main-video'\n                                className={remoteVideoHidden}\n                                autoPlay={true}\n                            >\n                                <video\n                                    ref='main-video'\n                                    autoPlay={true}\n                                />\n                            </div>\n                            <div\n                                id='local-video'\n                                className={localVideoHidden}\n                            >\n                                <video\n                                    ref='local-video'\n                                    autoPlay={true}\n                                    muted={true}\n                                />\n                            </div>\n                            <div className={remoteImageHidden}>\n                                {remoteImage}\n                            </div>\n                            <div className={localImageHidden}>\n                                {localImage}\n                            </div>\n                        </div>\n                        {error}\n                        {connecting}\n                        <div className='webrtc-buttons'>\n                            {buttons}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nWebrtcController.propTypes = {\n    currentUser: React.PropTypes.object,\n    userId: React.PropTypes.string.isRequired,\n    isCaller: React.PropTypes.bool.isRequired,\n    expanded: React.PropTypes.bool.isRequired,\n    toggleSize: React.PropTypes.func\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/webrtc/webrtc_controller.jsx","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/* The following list is defined in React's core */\nvar IS_UNITLESS = {\n  animationIterationCount: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridColumn: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n\n  // SVG-related properties\n  fillOpacity: true,\n  stopOpacity: true,\n  strokeDashoffset: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nmodule.exports = function(name, value) {\n  if(typeof value === 'number' && !IS_UNITLESS[ name ]) {\n    return value + 'px';\n  } else {\n    return value;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/add-px-to-style/index.js\n// module id = 2068\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*! iNoBounce - v0.1.0\n* https://github.com/lazd/iNoBounce/\n* Copyright (c) 2013 Larry Davis <lazdnet@gmail.com>; Licensed BSD */\n(function(global) {\n\t// Stores the Y position where the touch started\n\tvar startY = 0;\n\n\t// Store enabled status\n\tvar enabled = false;\n\n\tvar handleTouchmove = function(evt) {\n\t\t// Get the element that was scrolled upon\n\t\tvar el = evt.target;\n\n\t\t// Check all parent elements for scrollability\n\t\twhile (el !== document.body) {\n\t\t\t// Get some style properties\n\t\t\tvar style = window.getComputedStyle(el);\n\n\t\t\tif (!style) {\n\t\t\t\t// If we've encountered an element we can't compute the style for, get out\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Ignore range input element\n\t\t\tif (el.nodeName === 'INPUT' && el.getAttribute('type') === 'range') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar scrolling = style.getPropertyValue('-webkit-overflow-scrolling');\n\t\t\tvar overflowY = style.getPropertyValue('overflow-y');\n\t\t\tvar height = parseInt(style.getPropertyValue('height'), 10);\n\n\t\t\t// Determine if the element should scroll\n\t\t\tvar isScrollable = scrolling === 'touch' && (overflowY === 'auto' || overflowY === 'scroll');\n\t\t\tvar canScroll = el.scrollHeight > el.offsetHeight;\n\n\t\t\tif (isScrollable && canScroll) {\n\t\t\t\t// Get the current Y position of the touch\n\t\t\t\tvar curY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\n\t\t\t\t// Determine if the user is trying to scroll past the top or bottom\n\t\t\t\t// In this case, the window will bounce, so we have to prevent scrolling completely\n\t\t\t\tvar isAtTop = (startY <= curY && el.scrollTop === 0);\n\t\t\t\tvar isAtBottom = (startY >= curY && el.scrollHeight - el.scrollTop === height);\n\n\t\t\t\t// Stop a bounce bug when at the bottom or top of the scrollable element\n\t\t\t\tif (isAtTop || isAtBottom) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t// No need to continue up the DOM, we've done our job\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Test the next parent\n\t\t\tel = el.parentNode;\n\t\t}\n\n\t\t// Stop the bouncing -- no parents are scrollable\n\t\tevt.preventDefault();\n\t};\n\n\tvar handleTouchstart = function(evt) {\n\t\t// Store the first Y position of the touch\n\t\tstartY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\t};\n\n\tvar enable = function() {\n\t\t// Listen to a couple key touch events\n\t\twindow.addEventListener('touchstart', handleTouchstart, false);\n\t\twindow.addEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = true;\n\t};\n\n\tvar disable = function() {\n\t\t// Stop listening\n\t\twindow.removeEventListener('touchstart', handleTouchstart, false);\n\t\twindow.removeEventListener('touchmove', handleTouchmove, false);\n\t\tenabled = false;\n\t};\n\n\tvar isEnabled = function() {\n\t\treturn enabled;\n\t};\n\n\t// Enable by default if the browser supports -webkit-overflow-scrolling\n\t// Test this by setting the property with JavaScript on an element that exists in the DOM\n\t// Then, see if the property is reflected in the computed style\n\tvar testDiv = document.createElement('div');\n\tdocument.documentElement.appendChild(testDiv);\n\ttestDiv.style.WebkitOverflowScrolling = 'touch';\n\tvar scrollSupport = 'getComputedStyle' in window && window.getComputedStyle(testDiv)['-webkit-overflow-scrolling'] === 'touch';\n\tdocument.documentElement.removeChild(testDiv);\n\n\tif (scrollSupport) {\n\t\tenable();\n\t}\n\n\t// A module to support enabling/disabling iNoBounce\n\tvar iNoBounce = {\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tisEnabled: isEnabled\n\t};\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\t// Node.js Support\n\t\tmodule.exports = iNoBounce;\n\t}\n\tif (typeof global.define === 'function') {\n\t\t// AMD Support\n\t\t(function(define) {\n\t\t\tdefine('iNoBounce', [], function() { return iNoBounce; });\n\t\t}(global.define));\n\t}\n\telse {\n\t\t// Browser support\n\t\tglobal.iNoBounce = iNoBounce;\n\t}\n}(this));\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/inobounce/inobounce.js\n// module id = 2163\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/performance-now/lib/performance-now.js\n// module id = 2169\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\nvar div = null\nvar prefixes = [ 'Webkit', 'Moz', 'O', 'ms' ]\n\nmodule.exports = function prefixStyle (prop) {\n  // re-use a dummy div\n  if (!div) {\n    div = document.createElement('div')\n  }\n\n  var style = div.style\n\n  // prop exists without prefix\n  if (prop in style) {\n    return prop\n  }\n\n  // borderRadius -> BorderRadius\n  var titleCase = prop.charAt(0).toUpperCase() + prop.slice(1)\n\n  // find the vendor-prefixed prop\n  for (var i = prefixes.length; i >= 0; i--) {\n    var name = prefixes[i] + titleCase\n    // e.g. WebkitBorderRadius or webkitBorderRadius\n    if (name in style) {\n      return name\n    }\n  }\n\n  return false\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prefix-style/index.js\n// module id = 2170\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\nvar now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raf/index.js\n// module id = 2174\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.renderViewDefault = renderViewDefault;\nexports.renderTrackHorizontalDefault = renderTrackHorizontalDefault;\nexports.renderTrackVerticalDefault = renderTrackVerticalDefault;\nexports.renderThumbHorizontalDefault = renderThumbHorizontalDefault;\nexports.renderThumbVerticalDefault = renderThumbVerticalDefault;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n/* eslint-disable react/prop-types */\n\nfunction renderViewDefault(props) {\n    return _react2[\"default\"].createElement('div', props);\n}\n\nfunction renderTrackHorizontalDefault(_ref) {\n    var style = _ref.style,\n        props = _objectWithoutProperties(_ref, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        left: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderTrackVerticalDefault(_ref2) {\n    var style = _ref2.style,\n        props = _objectWithoutProperties(_ref2, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        top: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbHorizontalDefault(_ref3) {\n    var style = _ref3.style,\n        props = _objectWithoutProperties(_ref3, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbVerticalDefault(_ref4) {\n    var style = _ref4.style,\n        props = _objectWithoutProperties(_ref4, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js\n// module id = 2175\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _raf2 = require('raf');\n\nvar _raf3 = _interopRequireDefault(_raf2);\n\nvar _domCss = require('dom-css');\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nvar _react = require('react');\n\nvar _isString = require('../utils/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _getScrollbarWidth = require('../utils/getScrollbarWidth');\n\nvar _getScrollbarWidth2 = _interopRequireDefault(_getScrollbarWidth);\n\nvar _returnFalse = require('../utils/returnFalse');\n\nvar _returnFalse2 = _interopRequireDefault(_returnFalse);\n\nvar _getInnerWidth = require('../utils/getInnerWidth');\n\nvar _getInnerWidth2 = _interopRequireDefault(_getInnerWidth);\n\nvar _getInnerHeight = require('../utils/getInnerHeight');\n\nvar _getInnerHeight2 = _interopRequireDefault(_getInnerHeight);\n\nvar _styles = require('./styles');\n\nvar _defaultRenderElements = require('./defaultRenderElements');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nexports[\"default\"] = (0, _react.createClass)({\n\n    displayName: 'Scrollbars',\n\n    propTypes: {\n        onScroll: _react.PropTypes.func,\n        onScrollFrame: _react.PropTypes.func,\n        onScrollStart: _react.PropTypes.func,\n        onScrollStop: _react.PropTypes.func,\n        onUpdate: _react.PropTypes.func,\n        renderView: _react.PropTypes.func,\n        renderTrackHorizontal: _react.PropTypes.func,\n        renderTrackVertical: _react.PropTypes.func,\n        renderThumbHorizontal: _react.PropTypes.func,\n        renderThumbVertical: _react.PropTypes.func,\n        tagName: _react.PropTypes.string,\n        thumbSize: _react.PropTypes.number,\n        thumbMinSize: _react.PropTypes.number,\n        hideTracksWhenNotNeeded: _react.PropTypes.bool,\n        autoHide: _react.PropTypes.bool,\n        autoHideTimeout: _react.PropTypes.number,\n        autoHideDuration: _react.PropTypes.number,\n        autoHeight: _react.PropTypes.bool,\n        autoHeightMin: _react.PropTypes.oneOfType([_react.PropTypes.number, _react.PropTypes.string]),\n        autoHeightMax: _react.PropTypes.oneOfType([_react.PropTypes.number, _react.PropTypes.string]),\n        universal: _react.PropTypes.bool,\n        style: _react.PropTypes.object,\n        children: _react.PropTypes.node\n    },\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            renderView: _defaultRenderElements.renderViewDefault,\n            renderTrackHorizontal: _defaultRenderElements.renderTrackHorizontalDefault,\n            renderTrackVertical: _defaultRenderElements.renderTrackVerticalDefault,\n            renderThumbHorizontal: _defaultRenderElements.renderThumbHorizontalDefault,\n            renderThumbVertical: _defaultRenderElements.renderThumbVerticalDefault,\n            tagName: 'div',\n            thumbMinSize: 30,\n            hideTracksWhenNotNeeded: false,\n            autoHide: false,\n            autoHideTimeout: 1000,\n            autoHideDuration: 200,\n            autoHeight: false,\n            autoHeightMin: 0,\n            autoHeightMax: 200,\n            universal: false\n        };\n    },\n    getInitialState: function getInitialState() {\n        return {\n            didMountUniversal: false\n        };\n    },\n    componentDidMount: function componentDidMount() {\n        this.addListeners();\n        this.update();\n        this.componentDidMountUniversal();\n    },\n    componentDidMountUniversal: function componentDidMountUniversal() {\n        // eslint-disable-line react/sort-comp\n        var universal = this.props.universal;\n\n        if (!universal) return;\n        this.setState({ didMountUniversal: true });\n    },\n    componentDidUpdate: function componentDidUpdate() {\n        this.update();\n    },\n    componentWillUnmount: function componentWillUnmount() {\n        this.removeListeners();\n        (0, _raf2.cancel)(this.requestFrame);\n        clearTimeout(this.hideTracksTimeout);\n        clearInterval(this.detectScrollingInterval);\n    },\n    getScrollLeft: function getScrollLeft() {\n        var view = this.refs.view;\n\n        return view.scrollLeft;\n    },\n    getScrollTop: function getScrollTop() {\n        var view = this.refs.view;\n\n        return view.scrollTop;\n    },\n    getScrollWidth: function getScrollWidth() {\n        var view = this.refs.view;\n\n        return view.scrollWidth;\n    },\n    getScrollHeight: function getScrollHeight() {\n        var view = this.refs.view;\n\n        return view.scrollHeight;\n    },\n    getClientWidth: function getClientWidth() {\n        var view = this.refs.view;\n\n        return view.clientWidth;\n    },\n    getClientHeight: function getClientHeight() {\n        var view = this.refs.view;\n\n        return view.clientHeight;\n    },\n    getValues: function getValues() {\n        var view = this.refs.view;\n        var scrollLeft = view.scrollLeft,\n            scrollTop = view.scrollTop,\n            scrollWidth = view.scrollWidth,\n            scrollHeight = view.scrollHeight,\n            clientWidth = view.clientWidth,\n            clientHeight = view.clientHeight;\n\n\n        return {\n            left: scrollLeft / (scrollWidth - clientWidth) || 0,\n            top: scrollTop / (scrollHeight - clientHeight) || 0,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop,\n            scrollWidth: scrollWidth,\n            scrollHeight: scrollHeight,\n            clientWidth: clientWidth,\n            clientHeight: clientHeight\n        };\n    },\n    getThumbHorizontalWidth: function getThumbHorizontalWidth() {\n        var _props = this.props,\n            thumbSize = _props.thumbSize,\n            thumbMinSize = _props.thumbMinSize;\n        var _refs = this.refs,\n            view = _refs.view,\n            trackHorizontal = _refs.trackHorizontal;\n        var scrollWidth = view.scrollWidth,\n            clientWidth = view.clientWidth;\n\n        var trackWidth = (0, _getInnerWidth2[\"default\"])(trackHorizontal);\n        var width = Math.ceil(clientWidth / scrollWidth * trackWidth);\n        if (trackWidth === width) return 0;\n        if (thumbSize) return thumbSize;\n        return Math.max(width, thumbMinSize);\n    },\n    getThumbVerticalHeight: function getThumbVerticalHeight() {\n        var _props2 = this.props,\n            thumbSize = _props2.thumbSize,\n            thumbMinSize = _props2.thumbMinSize;\n        var _refs2 = this.refs,\n            view = _refs2.view,\n            trackVertical = _refs2.trackVertical;\n        var scrollHeight = view.scrollHeight,\n            clientHeight = view.clientHeight;\n\n        var trackHeight = (0, _getInnerHeight2[\"default\"])(trackVertical);\n        var height = Math.ceil(clientHeight / scrollHeight * trackHeight);\n        if (trackHeight === height) return 0;\n        if (thumbSize) return thumbSize;\n        return Math.max(height, thumbMinSize);\n    },\n    getScrollLeftForOffset: function getScrollLeftForOffset(offset) {\n        var _refs3 = this.refs,\n            view = _refs3.view,\n            trackHorizontal = _refs3.trackHorizontal;\n        var scrollWidth = view.scrollWidth,\n            clientWidth = view.clientWidth;\n\n        var trackWidth = (0, _getInnerWidth2[\"default\"])(trackHorizontal);\n        var thumbWidth = this.getThumbHorizontalWidth();\n        return offset / (trackWidth - thumbWidth) * (scrollWidth - clientWidth);\n    },\n    getScrollTopForOffset: function getScrollTopForOffset(offset) {\n        var _refs4 = this.refs,\n            view = _refs4.view,\n            trackVertical = _refs4.trackVertical;\n        var scrollHeight = view.scrollHeight,\n            clientHeight = view.clientHeight;\n\n        var trackHeight = (0, _getInnerHeight2[\"default\"])(trackVertical);\n        var thumbHeight = this.getThumbVerticalHeight();\n        return offset / (trackHeight - thumbHeight) * (scrollHeight - clientHeight);\n    },\n    scrollLeft: function scrollLeft() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var view = this.refs.view;\n\n        view.scrollLeft = left;\n    },\n    scrollTop: function scrollTop() {\n        var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var view = this.refs.view;\n\n        view.scrollTop = top;\n    },\n    scrollToLeft: function scrollToLeft() {\n        var view = this.refs.view;\n\n        view.scrollLeft = 0;\n    },\n    scrollToTop: function scrollToTop() {\n        var view = this.refs.view;\n\n        view.scrollTop = 0;\n    },\n    scrollToRight: function scrollToRight() {\n        var view = this.refs.view;\n\n        view.scrollLeft = view.scrollWidth;\n    },\n    scrollToBottom: function scrollToBottom() {\n        var view = this.refs.view;\n\n        view.scrollTop = view.scrollHeight;\n    },\n    addListeners: function addListeners() {\n        /* istanbul ignore if */\n        if (typeof document === 'undefined') return;\n        var _refs5 = this.refs,\n            view = _refs5.view,\n            trackHorizontal = _refs5.trackHorizontal,\n            trackVertical = _refs5.trackVertical,\n            thumbHorizontal = _refs5.thumbHorizontal,\n            thumbVertical = _refs5.thumbVertical;\n\n        view.addEventListener('scroll', this.handleScroll);\n        if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n        trackHorizontal.addEventListener('mouseenter', this.handleTrackMouseEnter);\n        trackHorizontal.addEventListener('mouseleave', this.handleTrackMouseLeave);\n        trackHorizontal.addEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n        trackVertical.addEventListener('mouseenter', this.handleTrackMouseEnter);\n        trackVertical.addEventListener('mouseleave', this.handleTrackMouseLeave);\n        trackVertical.addEventListener('mousedown', this.handleVerticalTrackMouseDown);\n        thumbHorizontal.addEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n        thumbVertical.addEventListener('mousedown', this.handleVerticalThumbMouseDown);\n        window.addEventListener('resize', this.handleWindowResize);\n    },\n    removeListeners: function removeListeners() {\n        /* istanbul ignore if */\n        if (typeof document === 'undefined') return;\n        var _refs6 = this.refs,\n            view = _refs6.view,\n            trackHorizontal = _refs6.trackHorizontal,\n            trackVertical = _refs6.trackVertical,\n            thumbHorizontal = _refs6.thumbHorizontal,\n            thumbVertical = _refs6.thumbVertical;\n\n        view.removeEventListener('scroll', this.handleScroll);\n        if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n        trackHorizontal.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n        trackHorizontal.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n        trackHorizontal.removeEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n        trackVertical.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n        trackVertical.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n        trackVertical.removeEventListener('mousedown', this.handleVerticalTrackMouseDown);\n        thumbHorizontal.removeEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n        thumbVertical.removeEventListener('mousedown', this.handleVerticalThumbMouseDown);\n        window.removeEventListener('resize', this.handleWindowResize);\n        // Possibly setup by `handleDragStart`\n        this.teardownDragging();\n    },\n    handleScroll: function handleScroll(event) {\n        var _this = this;\n\n        var _props3 = this.props,\n            onScroll = _props3.onScroll,\n            onScrollFrame = _props3.onScrollFrame;\n\n        if (onScroll) onScroll(event);\n        this.update(function (values) {\n            var scrollLeft = values.scrollLeft,\n                scrollTop = values.scrollTop;\n\n            _this.viewScrollLeft = scrollLeft;\n            _this.viewScrollTop = scrollTop;\n            if (onScrollFrame) onScrollFrame(values);\n        });\n        this.detectScrolling();\n    },\n    handleScrollStart: function handleScrollStart() {\n        var onScrollStart = this.props.onScrollStart;\n\n        if (onScrollStart) onScrollStart();\n        this.handleScrollStartAutoHide();\n    },\n    handleScrollStartAutoHide: function handleScrollStartAutoHide() {\n        var autoHide = this.props.autoHide;\n\n        if (!autoHide) return;\n        this.showTracks();\n    },\n    handleScrollStop: function handleScrollStop() {\n        var onScrollStop = this.props.onScrollStop;\n\n        if (onScrollStop) onScrollStop();\n        this.handleScrollStopAutoHide();\n    },\n    handleScrollStopAutoHide: function handleScrollStopAutoHide() {\n        var autoHide = this.props.autoHide;\n\n        if (!autoHide) return;\n        this.hideTracks();\n    },\n    handleWindowResize: function handleWindowResize() {\n        this.update();\n    },\n    handleHorizontalTrackMouseDown: function handleHorizontalTrackMouseDown(event) {\n        event.preventDefault();\n        var view = this.refs.view;\n        var target = event.target,\n            clientX = event.clientX;\n\n        var _target$getBoundingCl = target.getBoundingClientRect(),\n            targetLeft = _target$getBoundingCl.left;\n\n        var thumbWidth = this.getThumbHorizontalWidth();\n        var offset = Math.abs(targetLeft - clientX) - thumbWidth / 2;\n        view.scrollLeft = this.getScrollLeftForOffset(offset);\n    },\n    handleVerticalTrackMouseDown: function handleVerticalTrackMouseDown(event) {\n        event.preventDefault();\n        var view = this.refs.view;\n        var target = event.target,\n            clientY = event.clientY;\n\n        var _target$getBoundingCl2 = target.getBoundingClientRect(),\n            targetTop = _target$getBoundingCl2.top;\n\n        var thumbHeight = this.getThumbVerticalHeight();\n        var offset = Math.abs(targetTop - clientY) - thumbHeight / 2;\n        view.scrollTop = this.getScrollTopForOffset(offset);\n    },\n    handleHorizontalThumbMouseDown: function handleHorizontalThumbMouseDown(event) {\n        event.preventDefault();\n        this.handleDragStart(event);\n        var target = event.target,\n            clientX = event.clientX;\n        var offsetWidth = target.offsetWidth;\n\n        var _target$getBoundingCl3 = target.getBoundingClientRect(),\n            left = _target$getBoundingCl3.left;\n\n        this.prevPageX = offsetWidth - (clientX - left);\n    },\n    handleVerticalThumbMouseDown: function handleVerticalThumbMouseDown(event) {\n        event.preventDefault();\n        this.handleDragStart(event);\n        var target = event.target,\n            clientY = event.clientY;\n        var offsetHeight = target.offsetHeight;\n\n        var _target$getBoundingCl4 = target.getBoundingClientRect(),\n            top = _target$getBoundingCl4.top;\n\n        this.prevPageY = offsetHeight - (clientY - top);\n    },\n    setupDragging: function setupDragging() {\n        (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyle);\n        document.addEventListener('mousemove', this.handleDrag);\n        document.addEventListener('mouseup', this.handleDragEnd);\n        document.onselectstart = _returnFalse2[\"default\"];\n    },\n    teardownDragging: function teardownDragging() {\n        (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyleReset);\n        document.removeEventListener('mousemove', this.handleDrag);\n        document.removeEventListener('mouseup', this.handleDragEnd);\n        document.onselectstart = undefined;\n    },\n    handleDragStart: function handleDragStart(event) {\n        this.dragging = true;\n        event.stopImmediatePropagation();\n        this.setupDragging();\n    },\n    handleDrag: function handleDrag(event) {\n        if (this.prevPageX) {\n            var clientX = event.clientX;\n            var _refs7 = this.refs,\n                view = _refs7.view,\n                trackHorizontal = _refs7.trackHorizontal;\n\n            var _trackHorizontal$getB = trackHorizontal.getBoundingClientRect(),\n                trackLeft = _trackHorizontal$getB.left;\n\n            var thumbWidth = this.getThumbHorizontalWidth();\n            var clickPosition = thumbWidth - this.prevPageX;\n            var offset = -trackLeft + clientX - clickPosition;\n            view.scrollLeft = this.getScrollLeftForOffset(offset);\n        }\n        if (this.prevPageY) {\n            var clientY = event.clientY;\n            var _refs8 = this.refs,\n                _view = _refs8.view,\n                trackVertical = _refs8.trackVertical;\n\n            var _trackVertical$getBou = trackVertical.getBoundingClientRect(),\n                trackTop = _trackVertical$getBou.top;\n\n            var thumbHeight = this.getThumbVerticalHeight();\n            var _clickPosition = thumbHeight - this.prevPageY;\n            var _offset = -trackTop + clientY - _clickPosition;\n            _view.scrollTop = this.getScrollTopForOffset(_offset);\n        }\n        return false;\n    },\n    handleDragEnd: function handleDragEnd() {\n        this.dragging = false;\n        this.prevPageX = this.prevPageY = 0;\n        this.teardownDragging();\n        this.handleDragEndAutoHide();\n    },\n    handleDragEndAutoHide: function handleDragEndAutoHide() {\n        var autoHide = this.props.autoHide;\n\n        if (!autoHide) return;\n        this.hideTracks();\n    },\n    handleTrackMouseEnter: function handleTrackMouseEnter() {\n        this.trackMouseOver = true;\n        this.handleTrackMouseEnterAutoHide();\n    },\n    handleTrackMouseEnterAutoHide: function handleTrackMouseEnterAutoHide() {\n        var autoHide = this.props.autoHide;\n\n        if (!autoHide) return;\n        this.showTracks();\n    },\n    handleTrackMouseLeave: function handleTrackMouseLeave() {\n        this.trackMouseOver = false;\n        this.handleTrackMouseLeaveAutoHide();\n    },\n    handleTrackMouseLeaveAutoHide: function handleTrackMouseLeaveAutoHide() {\n        var autoHide = this.props.autoHide;\n\n        if (!autoHide) return;\n        this.hideTracks();\n    },\n    showTracks: function showTracks() {\n        var _refs9 = this.refs,\n            trackHorizontal = _refs9.trackHorizontal,\n            trackVertical = _refs9.trackVertical;\n\n        clearTimeout(this.hideTracksTimeout);\n        (0, _domCss2[\"default\"])(trackHorizontal, { opacity: 1 });\n        (0, _domCss2[\"default\"])(trackVertical, { opacity: 1 });\n    },\n    hideTracks: function hideTracks() {\n        if (this.dragging) return;\n        if (this.scrolling) return;\n        if (this.trackMouseOver) return;\n        var autoHideTimeout = this.props.autoHideTimeout;\n        var _refs10 = this.refs,\n            trackHorizontal = _refs10.trackHorizontal,\n            trackVertical = _refs10.trackVertical;\n\n        clearTimeout(this.hideTracksTimeout);\n        this.hideTracksTimeout = setTimeout(function () {\n            (0, _domCss2[\"default\"])(trackHorizontal, { opacity: 0 });\n            (0, _domCss2[\"default\"])(trackVertical, { opacity: 0 });\n        }, autoHideTimeout);\n    },\n    detectScrolling: function detectScrolling() {\n        var _this2 = this;\n\n        if (this.scrolling) return;\n        this.scrolling = true;\n        this.handleScrollStart();\n        this.detectScrollingInterval = setInterval(function () {\n            if (_this2.lastViewScrollLeft === _this2.viewScrollLeft && _this2.lastViewScrollTop === _this2.viewScrollTop) {\n                clearInterval(_this2.detectScrollingInterval);\n                _this2.scrolling = false;\n                _this2.handleScrollStop();\n            }\n            _this2.lastViewScrollLeft = _this2.viewScrollLeft;\n            _this2.lastViewScrollTop = _this2.viewScrollTop;\n        }, 100);\n    },\n    raf: function raf(callback) {\n        var _this3 = this;\n\n        if (this.requestFrame) _raf3[\"default\"].cancel(this.requestFrame);\n        this.requestFrame = (0, _raf3[\"default\"])(function () {\n            _this3.requestFrame = undefined;\n            callback();\n        });\n    },\n    update: function update(callback) {\n        var _this4 = this;\n\n        this.raf(function () {\n            return _this4._update(callback);\n        });\n    },\n    _update: function _update(callback) {\n        var _props4 = this.props,\n            onUpdate = _props4.onUpdate,\n            hideTracksWhenNotNeeded = _props4.hideTracksWhenNotNeeded;\n\n        var values = this.getValues();\n        if ((0, _getScrollbarWidth2[\"default\"])()) {\n            var _refs11 = this.refs,\n                thumbHorizontal = _refs11.thumbHorizontal,\n                thumbVertical = _refs11.thumbVertical,\n                trackHorizontal = _refs11.trackHorizontal,\n                trackVertical = _refs11.trackVertical;\n            var scrollLeft = values.scrollLeft,\n                clientWidth = values.clientWidth,\n                scrollWidth = values.scrollWidth;\n\n            var trackHorizontalWidth = (0, _getInnerWidth2[\"default\"])(trackHorizontal);\n            var thumbHorizontalWidth = this.getThumbHorizontalWidth();\n            var thumbHorizontalX = scrollLeft / (scrollWidth - clientWidth) * (trackHorizontalWidth - thumbHorizontalWidth);\n            var thumbHorizontalStyle = {\n                width: thumbHorizontalWidth,\n                transform: 'translateX(' + thumbHorizontalX + 'px)'\n            };\n            var scrollTop = values.scrollTop,\n                clientHeight = values.clientHeight,\n                scrollHeight = values.scrollHeight;\n\n            var trackVerticalHeight = (0, _getInnerHeight2[\"default\"])(trackVertical);\n            var thumbVerticalHeight = this.getThumbVerticalHeight();\n            var thumbVerticalY = scrollTop / (scrollHeight - clientHeight) * (trackVerticalHeight - thumbVerticalHeight);\n            var thumbVerticalStyle = {\n                height: thumbVerticalHeight,\n                transform: 'translateY(' + thumbVerticalY + 'px)'\n            };\n            if (hideTracksWhenNotNeeded) {\n                var trackHorizontalStyle = {\n                    visibility: scrollWidth > clientWidth ? 'visible' : 'hidden'\n                };\n                var trackVerticalStyle = {\n                    visibility: scrollHeight > clientHeight ? 'visible' : 'hidden'\n                };\n                (0, _domCss2[\"default\"])(trackHorizontal, trackHorizontalStyle);\n                (0, _domCss2[\"default\"])(trackVertical, trackVerticalStyle);\n            }\n            (0, _domCss2[\"default\"])(thumbHorizontal, thumbHorizontalStyle);\n            (0, _domCss2[\"default\"])(thumbVertical, thumbVerticalStyle);\n        }\n        if (onUpdate) onUpdate(values);\n        if (typeof callback !== 'function') return;\n        callback(values);\n    },\n    render: function render() {\n        var scrollbarWidth = (0, _getScrollbarWidth2[\"default\"])();\n        /* eslint-disable no-unused-vars */\n\n        var _props5 = this.props,\n            onScroll = _props5.onScroll,\n            onScrollFrame = _props5.onScrollFrame,\n            onScrollStart = _props5.onScrollStart,\n            onScrollStop = _props5.onScrollStop,\n            onUpdate = _props5.onUpdate,\n            renderView = _props5.renderView,\n            renderTrackHorizontal = _props5.renderTrackHorizontal,\n            renderTrackVertical = _props5.renderTrackVertical,\n            renderThumbHorizontal = _props5.renderThumbHorizontal,\n            renderThumbVertical = _props5.renderThumbVertical,\n            tagName = _props5.tagName,\n            hideTracksWhenNotNeeded = _props5.hideTracksWhenNotNeeded,\n            autoHide = _props5.autoHide,\n            autoHideTimeout = _props5.autoHideTimeout,\n            autoHideDuration = _props5.autoHideDuration,\n            thumbSize = _props5.thumbSize,\n            thumbMinSize = _props5.thumbMinSize,\n            universal = _props5.universal,\n            autoHeight = _props5.autoHeight,\n            autoHeightMin = _props5.autoHeightMin,\n            autoHeightMax = _props5.autoHeightMax,\n            style = _props5.style,\n            children = _props5.children,\n            props = _objectWithoutProperties(_props5, ['onScroll', 'onScrollFrame', 'onScrollStart', 'onScrollStop', 'onUpdate', 'renderView', 'renderTrackHorizontal', 'renderTrackVertical', 'renderThumbHorizontal', 'renderThumbVertical', 'tagName', 'hideTracksWhenNotNeeded', 'autoHide', 'autoHideTimeout', 'autoHideDuration', 'thumbSize', 'thumbMinSize', 'universal', 'autoHeight', 'autoHeightMin', 'autoHeightMax', 'style', 'children']);\n        /* eslint-enable no-unused-vars */\n\n        var didMountUniversal = this.state.didMountUniversal;\n\n\n        var containerStyle = _extends({}, _styles.containerStyleDefault, autoHeight && _extends({}, _styles.containerStyleAutoHeight, {\n            minHeight: autoHeightMin,\n            maxHeight: autoHeightMax\n        }), style);\n\n        var viewStyle = _extends({}, _styles.viewStyleDefault, {\n            // Hide scrollbars by setting a negative margin\n            marginRight: scrollbarWidth ? -scrollbarWidth : 0,\n            marginBottom: scrollbarWidth ? -scrollbarWidth : 0\n        }, autoHeight && _extends({}, _styles.viewStyleAutoHeight, {\n            // Add scrollbarWidth to autoHeight in order to compensate negative margins\n            minHeight: (0, _isString2[\"default\"])(autoHeightMin) ? 'calc(' + autoHeightMin + ' + ' + scrollbarWidth + 'px)' : autoHeightMin + scrollbarWidth,\n            maxHeight: (0, _isString2[\"default\"])(autoHeightMax) ? 'calc(' + autoHeightMax + ' + ' + scrollbarWidth + 'px)' : autoHeightMax + scrollbarWidth\n        }), autoHeight && universal && !didMountUniversal && {\n            minHeight: autoHeightMin,\n            maxHeight: autoHeightMax\n        }, universal && !didMountUniversal && _styles.viewStyleUniversalInitial);\n\n        var trackAutoHeightStyle = {\n            transition: 'opacity ' + autoHideDuration + 'ms',\n            opacity: 0\n        };\n\n        var trackHorizontalStyle = _extends({}, _styles.trackHorizontalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n            display: 'none'\n        });\n\n        var trackVerticalStyle = _extends({}, _styles.trackVerticalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n            display: 'none'\n        });\n\n        return (0, _react.createElement)(tagName, _extends({}, props, { style: containerStyle, ref: 'container' }), [(0, _react.cloneElement)(renderView({ style: viewStyle }), { key: 'view', ref: 'view' }, children), (0, _react.cloneElement)(renderTrackHorizontal({ style: trackHorizontalStyle }), { key: 'trackHorizontal', ref: 'trackHorizontal' }, (0, _react.cloneElement)(renderThumbHorizontal({ style: _styles.thumbHorizontalStyleDefault }), { ref: 'thumbHorizontal' })), (0, _react.cloneElement)(renderTrackVertical({ style: trackVerticalStyle }), { key: 'trackVertical', ref: 'trackVertical' }, (0, _react.cloneElement)(renderThumbVertical({ style: _styles.thumbVerticalStyleDefault }), { ref: 'thumbVertical' }))]);\n    }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-custom-scrollbars/lib/Scrollbars/index.js\n// module id = 2176\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar containerStyleDefault = exports.containerStyleDefault = {\n    position: 'relative',\n    overflow: 'hidden',\n    width: '100%',\n    height: '100%'\n};\n\n// Overrides containerStyleDefault properties\nvar containerStyleAutoHeight = exports.containerStyleAutoHeight = {\n    height: 'auto'\n};\n\nvar viewStyleDefault = exports.viewStyleDefault = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'scroll',\n    WebkitOverflowScrolling: 'touch'\n};\n\n// Overrides viewStyleDefault properties\nvar viewStyleAutoHeight = exports.viewStyleAutoHeight = {\n    position: 'relative',\n    top: undefined,\n    left: undefined,\n    right: undefined,\n    bottom: undefined\n};\n\nvar viewStyleUniversalInitial = exports.viewStyleUniversalInitial = {\n    overflow: 'hidden',\n    marginRight: 0,\n    marginBottom: 0\n};\n\nvar trackHorizontalStyleDefault = exports.trackHorizontalStyleDefault = {\n    position: 'absolute',\n    height: 6\n};\n\nvar trackVerticalStyleDefault = exports.trackVerticalStyleDefault = {\n    position: 'absolute',\n    width: 6\n};\n\nvar thumbHorizontalStyleDefault = exports.thumbHorizontalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    height: '100%'\n};\n\nvar thumbVerticalStyleDefault = exports.thumbVerticalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    width: '100%'\n};\n\nvar disableSelectStyle = exports.disableSelectStyle = {\n    userSelect: 'none'\n};\n\nvar disableSelectStyleReset = exports.disableSelectStyleReset = {\n    userSelect: ''\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-custom-scrollbars/lib/Scrollbars/styles.js\n// module id = 2177\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scrollbars = undefined;\n\nvar _Scrollbars = require('./Scrollbars');\n\nvar _Scrollbars2 = _interopRequireDefault(_Scrollbars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nexports[\"default\"] = _Scrollbars2[\"default\"];\nexports.Scrollbars = _Scrollbars2[\"default\"];\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-custom-scrollbars/lib/index.js\n// module id = 2178\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerHeight;\nfunction getInnerHeight(el) {\n    var clientHeight = el.clientHeight;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingTop = _getComputedStyle.paddingTop,\n        paddingBottom = _getComputedStyle.paddingBottom;\n\n    return clientHeight - parseFloat(paddingTop) - parseFloat(paddingBottom);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-custom-scrollbars/lib/utils/getInnerHeight.js\n// module id = 2179\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerWidth;\nfunction getInnerWidth(el) {\n    var clientWidth = el.clientWidth;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingLeft = _getComputedStyle.paddingLeft,\n        paddingRight = _getComputedStyle.paddingRight;\n\n    return clientWidth - parseFloat(paddingLeft) - parseFloat(paddingRight);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-custom-scrollbars/lib/utils/getInnerWidth.js\n// module id = 2180\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getScrollbarWidth;\n\nvar _domCss = require('dom-css');\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar scrollbarWidth = false;\n\nfunction getScrollbarWidth() {\n    if (scrollbarWidth !== false) return scrollbarWidth;\n    /* istanbul ignore else */\n    if (typeof document !== 'undefined') {\n        var div = document.createElement('div');\n        (0, _domCss2[\"default\"])(div, {\n            width: 100,\n            height: 100,\n            position: 'absolute',\n            top: -9999,\n            overflow: 'scroll',\n            MsOverflowStyle: 'scrollbar'\n        });\n        document.body.appendChild(div);\n        scrollbarWidth = div.offsetWidth - div.clientWidth;\n        document.body.removeChild(div);\n    } else {\n        scrollbarWidth = 0;\n    }\n    return scrollbarWidth || 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-custom-scrollbars/lib/utils/getScrollbarWidth.js\n// module id = 2181\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = isString;\nfunction isString(maybe) {\n    return typeof maybe === 'string';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-custom-scrollbars/lib/utils/isString.js\n// module id = 2182\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = returnFalse;\nfunction returnFalse() {\n    return false;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-custom-scrollbars/lib/utils/returnFalse.js\n// module id = 2183\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      default: // Unknown extensions are silently ignored.\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n       ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var fpLine = lines.filter(function(line) {\n    return line.indexOf('a=fingerprint:') === 0;\n  })[0].substr(14);\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  var dtlsParameters = {\n    role: 'auto',\n    fingerprints: [{\n      algorithm: fpLine.split(' ')[0].toLowerCase(),\n      value: fpLine.split(' ')[1]\n    }]\n  };\n  return dtlsParameters;\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(5), 10);\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines an returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\nSDPUtils.writeSessionBoilerplate = function() {\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\n// Expose public methods.\nmodule.exports = SDPUtils;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/sdp/sdp.js\n// module id = 2191\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\nvar space = require('to-space-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toCamelCase\n\n/**\n * Convert a `string` to camel case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toCamelCase(string) {\n  return space(string).replace(/\\s(\\w)/g, function (matches, letter) {\n    return letter.toUpperCase()\n  })\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/to-camel-case/index.js\n// module id = 2199\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\n/**\n * Export.\n */\n\nmodule.exports = toNoCase\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/\nvar hasSeparator = /(_|-|\\.|:)/\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase()\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()\n  return string.toLowerCase()\n}\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : ''\n  })\n}\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ')\n  })\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/to-no-case/index.js\n// module id = 2200\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\nvar clean = require('to-no-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toSpaceCase\n\n/**\n * Convert a `string` to space case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSpaceCase(string) {\n  return clean(string).replace(/[\\W_]+(.|$)/g, function (matches, match) {\n    return match ? ' ' + match : ''\n  }).trim()\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/to-space-case/index.js\n// module id = 2201\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\n// Shimming starts here.\n(function() {\n  // Utils.\n  var utils = require('./utils');\n  var logging = utils.log;\n  var browserDetails = utils.browserDetails;\n  // Export to the adapter global object visible in the browser.\n  module.exports.browserDetails = browserDetails;\n  module.exports.extractVersion = utils.extractVersion;\n  module.exports.disableLog = utils.disableLog;\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection) {\n        logging('Chrome shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = chromeShim;\n\n      chromeShim.shimGetUserMedia();\n      chromeShim.shimMediaStream();\n      utils.shimCreateObjectURL();\n      chromeShim.shimSourceObject();\n      chromeShim.shimPeerConnection();\n      chromeShim.shimOnTrack();\n      chromeShim.shimGetSendersWithDtmf();\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection) {\n        logging('Firefox shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = firefoxShim;\n\n      firefoxShim.shimGetUserMedia();\n      utils.shimCreateObjectURL();\n      firefoxShim.shimSourceObject();\n      firefoxShim.shimPeerConnection();\n      firefoxShim.shimOnTrack();\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection) {\n        logging('MS edge shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = edgeShim;\n\n      edgeShim.shimGetUserMedia();\n      utils.shimCreateObjectURL();\n      edgeShim.shimPeerConnection();\n      break;\n    case 'safari':\n      if (!safariShim) {\n        logging('Safari shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = safariShim;\n\n      safariShim.shimGetUserMedia();\n      break;\n    default:\n      logging('Unsupported browser!');\n  }\n})();\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/adapter_core.js\n// module id = 2204\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar logging = require('../utils.js').log;\nvar browserDetails = require('../utils.js').browserDetails;\n\nvar chromeShim = {\n  shimMediaStream: function() {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          var self = this;\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = {track: te.track};\n              event.streams = [e.stream];\n              self.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimGetSendersWithDtmf: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in RTCPeerConnection.prototype) &&\n        'createDTMFSender' in RTCPeerConnection.prototype) {\n      RTCPeerConnection.prototype.getSenders = function() {\n        return this._senders;\n      };\n      var origAddStream = RTCPeerConnection.prototype.addStream;\n      var origRemoveStream = RTCPeerConnection.prototype.removeStream;\n\n      RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push({\n            track: track,\n            get dtmf() {\n              if (this._dtmf === undefined) {\n                if (track.kind === 'audio') {\n                  this._dtmf = pc.createDTMFSender(track);\n                } else {\n                  this._dtmf = null;\n                }\n              }\n              return this._dtmf;\n            }\n          });\n        });\n      };\n\n      RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    }\n  },\n\n  shimSourceObject: function() {\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    }\n\n    var origGetStats = RTCPeerConnection.prototype.getStats;\n    RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var self = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return[key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n            arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(self, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = RTCPeerConnection.prototype[method];\n            RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = RTCPeerConnection.prototype[method];\n        RTCPeerConnection.prototype[method] = function() {\n          var self = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(self, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = RTCPeerConnection.prototype[method];\n          RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimGetSendersWithDtmf: chromeShim.shimGetSendersWithDtmf,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/chrome/chrome_shim.js\n// module id = 2205\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar logging = require('../utils.js').log;\nvar browserDetails = require('../utils.js').browserDetails;\n\n// Expose public methods.\nmodule.exports = function() {\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && constraints.audio) {\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile, where it defaults to \"user\".\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 59;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          // Look for \"back\" in label, or use last cam (typically back cam).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var back = devices.find(function(d) {\n              return d.label.toLowerCase().indexOf('back') !== -1;\n            }) || (devices.length && devices[devices.length - 1]);\n            if (back) {\n              constraints.video.deviceId = face.exact ? {exact: back.deviceId} :\n                                                        {ideal: back.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        onError(shimError_(e));\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                      kind: kinds[device.kind],\n                      deviceId: device.id,\n                      groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/chrome/getusermedia.js\n// module id = 2206\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar browserDetails = require('../utils').browserDetails;\n\n// sort tracks such that they follow an a-v-a-v...\n// pattern.\nfunction sortTracks(tracks) {\n  var audioTracks = tracks.filter(function(track) {\n    return track.kind === 'audio';\n  });\n  var videoTracks = tracks.filter(function(track) {\n    return track.kind === 'video';\n  });\n  tracks = [];\n  while (audioTracks.length || videoTracks.length) {\n    if (audioTracks.length) {\n      tracks.push(audioTracks.shift());\n    }\n    if (videoTracks.length) {\n      tracks.push(videoTracks.shift());\n    }\n  }\n  return tracks;\n}\n\n// Edge does not like\n// 1) stun:\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 &&\n            browserDetails.version >= 14393;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n    return false;\n  });\n}\n\nvar edgeShim = {\n  shimPeerConnection: function() {\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    window.RTCPeerConnection = function(config) {\n      var self = this;\n\n      var _eventTarget = document.createDocumentFragment();\n      ['addEventListener', 'removeEventListener', 'dispatchEvent']\n          .forEach(function(method) {\n            self[method] = _eventTarget[method].bind(_eventTarget);\n          });\n\n      this.onicecandidate = null;\n      this.onaddstream = null;\n      this.ontrack = null;\n      this.onremovestream = null;\n      this.onsignalingstatechange = null;\n      this.oniceconnectionstatechange = null;\n      this.onicegatheringstatechange = null;\n      this.onnegotiationneeded = null;\n      this.ondatachannel = null;\n\n      this.localStreams = [];\n      this.remoteStreams = [];\n      this.getLocalStreams = function() {\n        return self.localStreams;\n      };\n      this.getRemoteStreams = function() {\n        return self.remoteStreams;\n      };\n\n      this.localDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.remoteDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.signalingState = 'stable';\n      this.iceConnectionState = 'new';\n      this.iceGatheringState = 'new';\n\n      this.iceOptions = {\n        gatherPolicy: 'all',\n        iceServers: []\n      };\n      if (config && config.iceTransportPolicy) {\n        switch (config.iceTransportPolicy) {\n          case 'all':\n          case 'relay':\n            this.iceOptions.gatherPolicy = config.iceTransportPolicy;\n            break;\n          default:\n            // don't set iceTransportPolicy.\n            break;\n        }\n      }\n      this.usingBundle = config && config.bundlePolicy === 'max-bundle';\n\n      if (config && config.iceServers) {\n        this.iceOptions.iceServers = filterIceServers(config.iceServers);\n      }\n      this._config = config;\n\n      // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n      // everything that is needed to describe a SDP m-line.\n      this.transceivers = [];\n\n      // since the iceGatherer is currently created in createOffer but we\n      // must not emit candidates until after setLocalDescription we buffer\n      // them in this array.\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n      var event = new Event('icegatheringstatechange');\n      this.dispatchEvent(event);\n      if (this.onicegatheringstatechange !== null) {\n        this.onicegatheringstatechange(event);\n      }\n    };\n\n    window.RTCPeerConnection.prototype._emitBufferedCandidates = function() {\n      var self = this;\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      // FIXME: need to apply ice candidates in a way which is async but\n      // in-order\n      this._localIceCandidatesBuffer.forEach(function(event) {\n        var end = !event.candidate || Object.keys(event.candidate).length === 0;\n        if (end) {\n          for (var j = 1; j < sections.length; j++) {\n            if (sections[j].indexOf('\\r\\na=end-of-candidates\\r\\n') === -1) {\n              sections[j] += 'a=end-of-candidates\\r\\n';\n            }\n          }\n        } else {\n          sections[event.candidate.sdpMLineIndex + 1] +=\n              'a=' + event.candidate.candidate + '\\r\\n';\n        }\n        self.localDescription.sdp = sections.join('');\n        self.dispatchEvent(event);\n        if (self.onicecandidate !== null) {\n          self.onicecandidate(event);\n        }\n        if (!event.candidate && self.iceGatheringState !== 'complete') {\n          var complete = self.transceivers.every(function(transceiver) {\n            return transceiver.iceGatherer &&\n                transceiver.iceGatherer.state === 'completed';\n          });\n          if (complete && self.iceGatheringStateChange !== 'complete') {\n            self.iceGatheringState = 'complete';\n            self._emitGatheringStateChange();\n          }\n        }\n      });\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype.getConfiguration = function() {\n      return this._config;\n    };\n\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      if (browserDetails.version >= 15025) {\n        this.localStreams.push(stream);\n      } else {\n        // Clone is necessary for local demos mostly, attaching directly\n        // to two different senders does not work (build 10547).\n        // Fixed in 15025 (or earlier)\n        var clonedStream = stream.clone();\n        stream.getTracks().forEach(function(track, idx) {\n          var clonedTrack = clonedStream.getTracks()[idx];\n          track.addEventListener('enabled', function(event) {\n            clonedTrack.enabled = event.enabled;\n          });\n        });\n        this.localStreams.push(clonedStream);\n      }\n      this._maybeFireNegotiationNeeded();\n    };\n\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var idx = this.localStreams.indexOf(stream);\n      if (idx > -1) {\n        this.localStreams.splice(idx, 1);\n        this._maybeFireNegotiationNeeded();\n      }\n    };\n\n    window.RTCPeerConnection.prototype.getSenders = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpSender;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpSender;\n      });\n    };\n\n    window.RTCPeerConnection.prototype.getReceivers = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpReceiver;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpReceiver;\n      });\n    };\n\n    // Determines the intersection of local and remote capabilities.\n    window.RTCPeerConnection.prototype._getCommonCapabilities =\n        function(localCapabilities, remoteCapabilities) {\n          var commonCapabilities = {\n            codecs: [],\n            headerExtensions: [],\n            fecMechanisms: []\n          };\n\n          var findCodecByPayloadType = function(pt, codecs) {\n            pt = parseInt(pt, 10);\n            for (var i = 0; i < codecs.length; i++) {\n              if (codecs[i].payloadType === pt ||\n                  codecs[i].preferredPayloadType === pt) {\n                return codecs[i];\n              }\n            }\n          };\n\n          var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n            var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n            var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n            return lCodec && rCodec &&\n                lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n          };\n\n          localCapabilities.codecs.forEach(function(lCodec) {\n            for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n              var rCodec = remoteCapabilities.codecs[i];\n              if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n                  lCodec.clockRate === rCodec.clockRate) {\n                if (lCodec.name.toLowerCase() === 'rtx' &&\n                    lCodec.parameters && rCodec.parameters.apt) {\n                  // for RTX we need to find the local rtx that has a apt\n                  // which points to the same local codec as the remote one.\n                  if (!rtxCapabilityMatches(lCodec, rCodec,\n                      localCapabilities.codecs, remoteCapabilities.codecs)) {\n                    continue;\n                  }\n                }\n                rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n                // number of channels is the highest common number of channels\n                rCodec.numChannels = Math.min(lCodec.numChannels,\n                    rCodec.numChannels);\n                // push rCodec so we reply with offerer payload type\n                commonCapabilities.codecs.push(rCodec);\n\n                // determine common feedback mechanisms\n                rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n                  for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n                    if (lCodec.rtcpFeedback[j].type === fb.type &&\n                        lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n                      return true;\n                    }\n                  }\n                  return false;\n                });\n                // FIXME: also need to determine .parameters\n                //  see https://github.com/openpeer/ortc/issues/569\n                break;\n              }\n            }\n          });\n\n          localCapabilities.headerExtensions\n              .forEach(function(lHeaderExtension) {\n                for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n                     i++) {\n                  var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n                  if (lHeaderExtension.uri === rHeaderExtension.uri) {\n                    commonCapabilities.headerExtensions.push(rHeaderExtension);\n                    break;\n                  }\n                }\n              });\n\n          // FIXME: fecMechanisms\n          return commonCapabilities;\n        };\n\n    // Create ICE gatherer, ICE transport and DTLS transport.\n    window.RTCPeerConnection.prototype._createIceAndDtlsTransports =\n        function(mid, sdpMLineIndex) {\n          var self = this;\n          var iceGatherer = new RTCIceGatherer(self.iceOptions);\n          var iceTransport = new RTCIceTransport(iceGatherer);\n          iceGatherer.onlocalcandidate = function(evt) {\n            var event = new Event('icecandidate');\n            event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n            var cand = evt.candidate;\n            var end = !cand || Object.keys(cand).length === 0;\n            // Edge emits an empty object for RTCIceCandidateComplete\n            if (end) {\n              // polyfill since RTCIceGatherer.state is not implemented in\n              // Edge 10547 yet.\n              if (iceGatherer.state === undefined) {\n                iceGatherer.state = 'completed';\n              }\n            } else {\n              // RTCIceCandidate doesn't have a component, needs to be added\n              cand.component = iceTransport.component === 'RTCP' ? 2 : 1;\n              event.candidate.candidate = SDPUtils.writeCandidate(cand);\n            }\n\n            // update local description.\n            var sections = SDPUtils.splitSections(self.localDescription.sdp);\n            if (!end) {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=' + event.candidate.candidate + '\\r\\n';\n            } else {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=end-of-candidates\\r\\n';\n            }\n            self.localDescription.sdp = sections.join('');\n            var transceivers = self._pendingOffer ? self._pendingOffer :\n                self.transceivers;\n            var complete = transceivers.every(function(transceiver) {\n              return transceiver.iceGatherer &&\n                  transceiver.iceGatherer.state === 'completed';\n            });\n\n            // Emit candidate if localDescription is set.\n            // Also emits null candidate when all gatherers are complete.\n            switch (self.iceGatheringState) {\n              case 'new':\n                if (!end) {\n                  self._localIceCandidatesBuffer.push(event);\n                }\n                if (end && complete) {\n                  self._localIceCandidatesBuffer.push(\n                      new Event('icecandidate'));\n                }\n                break;\n              case 'gathering':\n                self._emitBufferedCandidates();\n                if (!end) {\n                  self.dispatchEvent(event);\n                  if (self.onicecandidate !== null) {\n                    self.onicecandidate(event);\n                  }\n                }\n                if (complete) {\n                  self.dispatchEvent(new Event('icecandidate'));\n                  if (self.onicecandidate !== null) {\n                    self.onicecandidate(new Event('icecandidate'));\n                  }\n                  self.iceGatheringState = 'complete';\n                  self._emitGatheringStateChange();\n                }\n                break;\n              case 'complete':\n                // should not happen... currently!\n                break;\n              default: // no-op.\n                break;\n            }\n          };\n          iceTransport.onicestatechange = function() {\n            self._updateConnectionState();\n          };\n\n          var dtlsTransport = new RTCDtlsTransport(iceTransport);\n          dtlsTransport.ondtlsstatechange = function() {\n            self._updateConnectionState();\n          };\n          dtlsTransport.onerror = function() {\n            // onerror does not set state to failed by itself.\n            dtlsTransport.state = 'failed';\n            self._updateConnectionState();\n          };\n\n          return {\n            iceGatherer: iceGatherer,\n            iceTransport: iceTransport,\n            dtlsTransport: dtlsTransport\n          };\n        };\n\n    // Start the RTP Sender and Receiver for a transceiver.\n    window.RTCPeerConnection.prototype._transceive = function(transceiver,\n        send, recv) {\n      var params = this._getCommonCapabilities(transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n      if (send && transceiver.rtpSender) {\n        params.encodings = transceiver.sendEncodingParameters;\n        params.rtcp = {\n          cname: SDPUtils.localCName\n        };\n        if (transceiver.recvEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpSender.send(params);\n      }\n      if (recv && transceiver.rtpReceiver) {\n        // remove RTX field in Edge 14942\n        if (transceiver.kind === 'video'\n            && transceiver.recvEncodingParameters\n            && browserDetails.version < 15019) {\n          transceiver.recvEncodingParameters.forEach(function(p) {\n            delete p.rtx;\n          });\n        }\n        params.encodings = transceiver.recvEncodingParameters;\n        params.rtcp = {\n          cname: transceiver.cname\n        };\n        if (transceiver.sendEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpReceiver.receive(params);\n      }\n    };\n\n    window.RTCPeerConnection.prototype.setLocalDescription =\n        function(description) {\n          var self = this;\n          var sections;\n          var sessionpart;\n          if (description.type === 'offer') {\n            // FIXME: What was the purpose of this empty if statement?\n            // if (!this._pendingOffer) {\n            // } else {\n            if (this._pendingOffer) {\n              // VERY limited support for SDP munging. Limited to:\n              // * changing the order of codecs\n              sections = SDPUtils.splitSections(description.sdp);\n              sessionpart = sections.shift();\n              sections.forEach(function(mediaSection, sdpMLineIndex) {\n                var caps = SDPUtils.parseRtpParameters(mediaSection);\n                self._pendingOffer[sdpMLineIndex].localCapabilities = caps;\n              });\n              this.transceivers = this._pendingOffer;\n              delete this._pendingOffer;\n            }\n          } else if (description.type === 'answer') {\n            sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n            sessionpart = sections.shift();\n            var isIceLite = SDPUtils.matchPrefix(sessionpart,\n                'a=ice-lite').length > 0;\n            sections.forEach(function(mediaSection, sdpMLineIndex) {\n              var transceiver = self.transceivers[sdpMLineIndex];\n              var iceGatherer = transceiver.iceGatherer;\n              var iceTransport = transceiver.iceTransport;\n              var dtlsTransport = transceiver.dtlsTransport;\n              var localCapabilities = transceiver.localCapabilities;\n              var remoteCapabilities = transceiver.remoteCapabilities;\n\n              var rejected = mediaSection.split('\\n', 1)[0]\n                  .split(' ', 2)[1] === '0';\n\n              if (!rejected && !transceiver.isDatachannel) {\n                var remoteIceParameters = SDPUtils.getIceParameters(\n                    mediaSection, sessionpart);\n                var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n                    mediaSection, sessionpart);\n                if (isIceLite) {\n                  remoteDtlsParameters.role = 'server';\n                }\n\n                if (!self.usingBundle || sdpMLineIndex === 0) {\n                  iceTransport.start(iceGatherer, remoteIceParameters,\n                      isIceLite ? 'controlling' : 'controlled');\n                  dtlsTransport.start(remoteDtlsParameters);\n                }\n\n                // Calculate intersection of capabilities.\n                var params = self._getCommonCapabilities(localCapabilities,\n                    remoteCapabilities);\n\n                // Start the RTCRtpSender. The RTCRtpReceiver for this\n                // transceiver has already been started in setRemoteDescription.\n                self._transceive(transceiver,\n                    params.codecs.length > 0,\n                    false);\n              }\n            });\n          }\n\n          this.localDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-local-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n\n          // If a success callback was provided, emit ICE candidates after it\n          // has been executed. Otherwise, emit callback after the Promise is\n          // resolved.\n          var hasCallback = arguments.length > 1 &&\n            typeof arguments[1] === 'function';\n          if (hasCallback) {\n            var cb = arguments[1];\n            window.setTimeout(function() {\n              cb();\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n                self._emitGatheringStateChange();\n              }\n              self._emitBufferedCandidates();\n            }, 0);\n          }\n          var p = Promise.resolve();\n          p.then(function() {\n            if (!hasCallback) {\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n                self._emitGatheringStateChange();\n              }\n              // Usually candidates will be emitted earlier.\n              window.setTimeout(self._emitBufferedCandidates.bind(self), 500);\n            }\n          });\n          return p;\n        };\n\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n        function(description) {\n          var self = this;\n          var stream = new MediaStream();\n          var receiverList = [];\n          var sections = SDPUtils.splitSections(description.sdp);\n          var sessionpart = sections.shift();\n          var isIceLite = SDPUtils.matchPrefix(sessionpart,\n              'a=ice-lite').length > 0;\n          this.usingBundle = SDPUtils.matchPrefix(sessionpart,\n              'a=group:BUNDLE ').length > 0;\n          sections.forEach(function(mediaSection, sdpMLineIndex) {\n            var lines = SDPUtils.splitLines(mediaSection);\n            var mline = lines[0].substr(2).split(' ');\n            var kind = mline[0];\n            var rejected = mline[1] === '0';\n            var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n\n            var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:');\n            if (mid.length) {\n              mid = mid[0].substr(6);\n            } else {\n              mid = SDPUtils.generateIdentifier();\n            }\n\n            // Reject datachannels which are not implemented yet.\n            if (kind === 'application' && mline[2] === 'DTLS/SCTP') {\n              self.transceivers[sdpMLineIndex] = {\n                mid: mid,\n                isDatachannel: true\n              };\n              return;\n            }\n\n            var transceiver;\n            var iceGatherer;\n            var iceTransport;\n            var dtlsTransport;\n            var rtpSender;\n            var rtpReceiver;\n            var sendEncodingParameters;\n            var recvEncodingParameters;\n            var localCapabilities;\n\n            var track;\n            // FIXME: ensure the mediaSection has rtcp-mux set.\n            var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n            var remoteIceParameters;\n            var remoteDtlsParameters;\n            if (!rejected) {\n              remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters.role = 'client';\n            }\n            recvEncodingParameters =\n                SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n            var cname;\n            // Gets the first SSRC. Note that with RTX there might be multiple\n            // SSRCs.\n            var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n                .map(function(line) {\n                  return SDPUtils.parseSsrcMedia(line);\n                })\n                .filter(function(obj) {\n                  return obj.attribute === 'cname';\n                })[0];\n            if (remoteSsrc) {\n              cname = remoteSsrc.value;\n            }\n\n            var isComplete = SDPUtils.matchPrefix(mediaSection,\n                'a=end-of-candidates', sessionpart).length > 0;\n            var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                .map(function(cand) {\n                  return SDPUtils.parseCandidate(cand);\n                })\n                .filter(function(cand) {\n                  return cand.component === '1';\n                });\n            if (description.type === 'offer' && !rejected) {\n              var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n                iceGatherer: self.transceivers[0].iceGatherer,\n                iceTransport: self.transceivers[0].iceTransport,\n                dtlsTransport: self.transceivers[0].dtlsTransport\n              } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n              if (isComplete && (!self.usingBundle || sdpMLineIndex === 0)) {\n                transports.iceTransport.setRemoteCandidates(cands);\n              }\n\n              localCapabilities = RTCRtpReceiver.getCapabilities(kind);\n\n              // filter RTX until additional stuff needed for RTX is implemented\n              // in adapter.js\n              if (browserDetails.version < 15019) {\n                localCapabilities.codecs = localCapabilities.codecs.filter(\n                    function(codec) {\n                      return codec.name !== 'rtx';\n                    });\n              }\n\n              sendEncodingParameters = [{\n                ssrc: (2 * sdpMLineIndex + 2) * 1001\n              }];\n\n              if (direction === 'sendrecv' || direction === 'sendonly') {\n                rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport,\n                    kind);\n\n                track = rtpReceiver.track;\n                receiverList.push([track, rtpReceiver]);\n                // FIXME: not correct when there are multiple streams but that\n                // is not currently supported in this shim.\n                stream.addTrack(track);\n              }\n\n              // FIXME: look at direction.\n              if (self.localStreams.length > 0 &&\n                  self.localStreams[0].getTracks().length >= sdpMLineIndex) {\n                var localTrack;\n                if (kind === 'audio') {\n                  localTrack = self.localStreams[0].getAudioTracks()[0];\n                } else if (kind === 'video') {\n                  localTrack = self.localStreams[0].getVideoTracks()[0];\n                }\n                if (localTrack) {\n                  // add RTX\n                  if (browserDetails.version >= 15019 && kind === 'video') {\n                    sendEncodingParameters[0].rtx = {\n                      ssrc: (2 * sdpMLineIndex + 2) * 1001 + 1\n                    };\n                  }\n                  rtpSender = new RTCRtpSender(localTrack,\n                      transports.dtlsTransport);\n                }\n              }\n\n              self.transceivers[sdpMLineIndex] = {\n                iceGatherer: transports.iceGatherer,\n                iceTransport: transports.iceTransport,\n                dtlsTransport: transports.dtlsTransport,\n                localCapabilities: localCapabilities,\n                remoteCapabilities: remoteCapabilities,\n                rtpSender: rtpSender,\n                rtpReceiver: rtpReceiver,\n                kind: kind,\n                mid: mid,\n                cname: cname,\n                sendEncodingParameters: sendEncodingParameters,\n                recvEncodingParameters: recvEncodingParameters\n              };\n              // Start the RTCRtpReceiver now. The RTPSender is started in\n              // setLocalDescription.\n              self._transceive(self.transceivers[sdpMLineIndex],\n                  false,\n                  direction === 'sendrecv' || direction === 'sendonly');\n            } else if (description.type === 'answer' && !rejected) {\n              transceiver = self.transceivers[sdpMLineIndex];\n              iceGatherer = transceiver.iceGatherer;\n              iceTransport = transceiver.iceTransport;\n              dtlsTransport = transceiver.dtlsTransport;\n              rtpSender = transceiver.rtpSender;\n              rtpReceiver = transceiver.rtpReceiver;\n              sendEncodingParameters = transceiver.sendEncodingParameters;\n              localCapabilities = transceiver.localCapabilities;\n\n              self.transceivers[sdpMLineIndex].recvEncodingParameters =\n                  recvEncodingParameters;\n              self.transceivers[sdpMLineIndex].remoteCapabilities =\n                  remoteCapabilities;\n              self.transceivers[sdpMLineIndex].cname = cname;\n\n              if ((isIceLite || isComplete) && cands.length) {\n                iceTransport.setRemoteCandidates(cands);\n              }\n              if (!self.usingBundle || sdpMLineIndex === 0) {\n                iceTransport.start(iceGatherer, remoteIceParameters,\n                    'controlling');\n                dtlsTransport.start(remoteDtlsParameters);\n              }\n\n              self._transceive(transceiver,\n                  direction === 'sendrecv' || direction === 'recvonly',\n                  direction === 'sendrecv' || direction === 'sendonly');\n\n              if (rtpReceiver &&\n                  (direction === 'sendrecv' || direction === 'sendonly')) {\n                track = rtpReceiver.track;\n                receiverList.push([track, rtpReceiver]);\n                stream.addTrack(track);\n              } else {\n                // FIXME: actually the receiver should be created later.\n                delete transceiver.rtpReceiver;\n              }\n            }\n          });\n\n          this.remoteDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-remote-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n          if (stream.getTracks().length) {\n            self.remoteStreams.push(stream);\n            window.setTimeout(function() {\n              var event = new Event('addstream');\n              event.stream = stream;\n              self.dispatchEvent(event);\n              if (self.onaddstream !== null) {\n                window.setTimeout(function() {\n                  self.onaddstream(event);\n                }, 0);\n              }\n\n              receiverList.forEach(function(item) {\n                var track = item[0];\n                var receiver = item[1];\n                var trackEvent = new Event('track');\n                trackEvent.track = track;\n                trackEvent.receiver = receiver;\n                trackEvent.streams = [stream];\n                self.dispatchEvent(trackEvent);\n                if (self.ontrack !== null) {\n                  window.setTimeout(function() {\n                    self.ontrack(trackEvent);\n                  }, 0);\n                }\n              });\n            }, 0);\n          }\n          if (arguments.length > 1 && typeof arguments[1] === 'function') {\n            window.setTimeout(arguments[1], 0);\n          }\n          return Promise.resolve();\n        };\n\n    window.RTCPeerConnection.prototype.close = function() {\n      this.transceivers.forEach(function(transceiver) {\n        /* not yet\n        if (transceiver.iceGatherer) {\n          transceiver.iceGatherer.close();\n        }\n        */\n        if (transceiver.iceTransport) {\n          transceiver.iceTransport.stop();\n        }\n        if (transceiver.dtlsTransport) {\n          transceiver.dtlsTransport.stop();\n        }\n        if (transceiver.rtpSender) {\n          transceiver.rtpSender.stop();\n        }\n        if (transceiver.rtpReceiver) {\n          transceiver.rtpReceiver.stop();\n        }\n      });\n      // FIXME: clean up tracks, local streams, remote streams, etc\n      this._updateSignalingState('closed');\n    };\n\n    // Update the signaling state.\n    window.RTCPeerConnection.prototype._updateSignalingState =\n        function(newState) {\n          this.signalingState = newState;\n          var event = new Event('signalingstatechange');\n          this.dispatchEvent(event);\n          if (this.onsignalingstatechange !== null) {\n            this.onsignalingstatechange(event);\n          }\n        };\n\n    // Determine whether to fire the negotiationneeded event.\n    window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded =\n        function() {\n          // Fire away (for now).\n          var event = new Event('negotiationneeded');\n          this.dispatchEvent(event);\n          if (this.onnegotiationneeded !== null) {\n            this.onnegotiationneeded(event);\n          }\n        };\n\n    // Update the connection state.\n    window.RTCPeerConnection.prototype._updateConnectionState = function() {\n      var self = this;\n      var newState;\n      var states = {\n        'new': 0,\n        closed: 0,\n        connecting: 0,\n        checking: 0,\n        connected: 0,\n        completed: 0,\n        failed: 0\n      };\n      this.transceivers.forEach(function(transceiver) {\n        states[transceiver.iceTransport.state]++;\n        states[transceiver.dtlsTransport.state]++;\n      });\n      // ICETransport.completed and connected are the same for this purpose.\n      states.connected += states.completed;\n\n      newState = 'new';\n      if (states.failed > 0) {\n        newState = 'failed';\n      } else if (states.connecting > 0 || states.checking > 0) {\n        newState = 'connecting';\n      } else if (states.disconnected > 0) {\n        newState = 'disconnected';\n      } else if (states.new > 0) {\n        newState = 'new';\n      } else if (states.connected > 0 || states.completed > 0) {\n        newState = 'connected';\n      }\n\n      if (newState !== self.iceConnectionState) {\n        self.iceConnectionState = newState;\n        var event = new Event('iceconnectionstatechange');\n        this.dispatchEvent(event);\n        if (this.oniceconnectionstatechange !== null) {\n          this.oniceconnectionstatechange(event);\n        }\n      }\n    };\n\n    window.RTCPeerConnection.prototype.createOffer = function() {\n      var self = this;\n      if (this._pendingOffer) {\n        throw new Error('createOffer called while there is a pending offer.');\n      }\n      var offerOptions;\n      if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n        offerOptions = arguments[0];\n      } else if (arguments.length === 3) {\n        offerOptions = arguments[2];\n      }\n\n      var tracks = [];\n      var numAudioTracks = 0;\n      var numVideoTracks = 0;\n      // Default to sendrecv.\n      if (this.localStreams.length) {\n        numAudioTracks = this.localStreams[0].getAudioTracks().length;\n        numVideoTracks = this.localStreams[0].getVideoTracks().length;\n      }\n      // Determine number of audio and video tracks we need to send/recv.\n      if (offerOptions) {\n        // Reject Chrome legacy constraints.\n        if (offerOptions.mandatory || offerOptions.optional) {\n          throw new TypeError(\n              'Legacy mandatory/optional constraints not supported.');\n        }\n        if (offerOptions.offerToReceiveAudio !== undefined) {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n        if (offerOptions.offerToReceiveVideo !== undefined) {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n      if (this.localStreams.length) {\n        // Push local streams.\n        this.localStreams[0].getTracks().forEach(function(track) {\n          tracks.push({\n            kind: track.kind,\n            track: track,\n            wantReceive: track.kind === 'audio' ?\n                numAudioTracks > 0 : numVideoTracks > 0\n          });\n          if (track.kind === 'audio') {\n            numAudioTracks--;\n          } else if (track.kind === 'video') {\n            numVideoTracks--;\n          }\n        });\n      }\n      // Create M-lines for recvonly streams.\n      while (numAudioTracks > 0 || numVideoTracks > 0) {\n        if (numAudioTracks > 0) {\n          tracks.push({\n            kind: 'audio',\n            wantReceive: true\n          });\n          numAudioTracks--;\n        }\n        if (numVideoTracks > 0) {\n          tracks.push({\n            kind: 'video',\n            wantReceive: true\n          });\n          numVideoTracks--;\n        }\n      }\n      // reorder tracks\n      tracks = sortTracks(tracks);\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      var transceivers = [];\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        // For each track, create an ice gatherer, ice transport,\n        // dtls transport, potentially rtpsender and rtpreceiver.\n        var track = mline.track;\n        var kind = mline.kind;\n        var mid = SDPUtils.generateIdentifier();\n\n        var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n          iceGatherer: transceivers[0].iceGatherer,\n          iceTransport: transceivers[0].iceTransport,\n          dtlsTransport: transceivers[0].dtlsTransport\n        } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n        var localCapabilities = RTCRtpSender.getCapabilities(kind);\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (browserDetails.version < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n        localCapabilities.codecs.forEach(function(codec) {\n          // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n          // by adding level-asymmetry-allowed=1\n          if (codec.name === 'H264' &&\n              codec.parameters['level-asymmetry-allowed'] === undefined) {\n            codec.parameters['level-asymmetry-allowed'] = '1';\n          }\n        });\n\n        var rtpSender;\n        var rtpReceiver;\n\n        // generate an ssrc now, to be used later in rtpSender.send\n        var sendEncodingParameters = [{\n          ssrc: (2 * sdpMLineIndex + 1) * 1001\n        }];\n        if (track) {\n          // add RTX\n          if (browserDetails.version >= 15019 && kind === 'video') {\n            sendEncodingParameters[0].rtx = {\n              ssrc: (2 * sdpMLineIndex + 1) * 1001 + 1\n            };\n          }\n          rtpSender = new RTCRtpSender(track, transports.dtlsTransport);\n        }\n\n        if (mline.wantReceive) {\n          rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n        }\n\n        transceivers[sdpMLineIndex] = {\n          iceGatherer: transports.iceGatherer,\n          iceTransport: transports.iceTransport,\n          dtlsTransport: transports.dtlsTransport,\n          localCapabilities: localCapabilities,\n          remoteCapabilities: null,\n          rtpSender: rtpSender,\n          rtpReceiver: rtpReceiver,\n          kind: kind,\n          mid: mid,\n          sendEncodingParameters: sendEncodingParameters,\n          recvEncodingParameters: null\n        };\n      });\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        var transceiver = transceivers[sdpMLineIndex];\n        sdp += SDPUtils.writeMediaSection(transceiver,\n            transceiver.localCapabilities, 'offer', self.localStreams[0]);\n      });\n\n      this._pendingOffer = transceivers;\n      var desc = new RTCSessionDescription({\n        type: 'offer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.createAnswer = function() {\n      var self = this;\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.isDatachannel) {\n          sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n              'c=IN IP4 0.0.0.0\\r\\n' +\n              'a=mid:' + transceiver.mid + '\\r\\n';\n          return;\n        }\n        // Calculate intersection of capabilities.\n        var commonCapabilities = self._getCommonCapabilities(\n            transceiver.localCapabilities,\n            transceiver.remoteCapabilities);\n\n        sdp += SDPUtils.writeMediaSection(transceiver, commonCapabilities,\n            'answer', self.localStreams[0]);\n      });\n\n      var desc = new RTCSessionDescription({\n        type: 'answer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n      if (!candidate) {\n        for (var j = 0; j < this.transceivers.length; j++) {\n          this.transceivers[j].iceTransport.addRemoteCandidate({});\n          if (this.usingBundle) {\n            return Promise.resolve();\n          }\n        }\n      } else {\n        var mLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < this.transceivers.length; i++) {\n            if (this.transceivers[i].mid === candidate.sdpMid) {\n              mLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = this.transceivers[mLineIndex];\n        if (transceiver) {\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return Promise.resolve();\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component !== '1') {\n            return Promise.resolve();\n          }\n          transceiver.iceTransport.addRemoteCandidate(cand);\n\n          // update the remoteDescription.\n          var sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[mLineIndex + 1] += (cand.type ? candidate.candidate.trim()\n              : 'a=end-of-candidates') + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      }\n      if (arguments.length > 1 && typeof arguments[1] === 'function') {\n        window.setTimeout(arguments[1], 0);\n      }\n      return Promise.resolve();\n    };\n\n    window.RTCPeerConnection.prototype.getStats = function() {\n      var promises = [];\n      this.transceivers.forEach(function(transceiver) {\n        ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n            'dtlsTransport'].forEach(function(method) {\n              if (transceiver[method]) {\n                promises.push(transceiver[method].getStats());\n              }\n            });\n      });\n      var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n          arguments[1];\n      var fixStatsType = function(stat) {\n        return {\n          inboundrtp: 'inbound-rtp',\n          outboundrtp: 'outbound-rtp',\n          candidatepair: 'candidate-pair',\n          localcandidate: 'local-candidate',\n          remotecandidate: 'remote-candidate'\n        }[stat.type] || stat.type;\n      };\n      return new Promise(function(resolve) {\n        // shim getStats with maplike support\n        var results = new Map();\n        Promise.all(promises).then(function(res) {\n          res.forEach(function(result) {\n            Object.keys(result).forEach(function(id) {\n              result[id].type = fixStatsType(result[id]);\n              results.set(id, result[id]);\n            });\n          });\n          if (cb) {\n            window.setTimeout(cb, 0, results);\n          }\n          resolve(results);\n        });\n      });\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimPeerConnection: edgeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/edge/edge_shim.js\n// module id = 2207\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/edge/getusermedia.js\n// module id = 2208\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar browserDetails = require('../utils').browserDetails;\n\nvar firefoxShim = {\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function() {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = mozRTCSessionDescription;\n      window.RTCIceCandidate = mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = RTCPeerConnection.prototype[method];\n          RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = RTCPeerConnection.prototype.getStats;\n    RTCPeerConnection.prototype.getStats = function(selector, onSucc, onErr) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/firefox/firefox_shim.js\n// module id = 2209\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logging = require('../utils').log;\nvar browserDetails = require('../utils').browserDetails;\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {\n        SecurityError: 'NotAllowedError',\n        PermissionDeniedError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    console.warn('navigator.getUserMedia has been replaced by ' +\n                 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/firefox/getusermedia.js\n// module id = 2210\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n  // shimOnTrack: function() { },\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimGetUserMedia: function() {\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimGetUserMedia: safariShim.shimGetUserMedia\n  // TODO\n  // shimOnTrack: safariShim.shimOnTrack,\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/safari/safari_shim.js\n// module id = 2211\n// module chunks = 6","/*** IMPORTS FROM imports-loader ***/\nvar $ = require(\"jquery\");\nvar jQuery = require(\"jquery\");\n\n/*\n The MIT License (MIT)\n\n Copyright (c) 2016 Meetecho\n\n Permission is hereby granted, free of charge, to any person obtaining\n a copy of this software and associated documentation files (the \"Software\"),\n to deal in the Software without restriction, including without limitation\n the rights to use, copy, modify, merge, publish, distribute, sublicense,\n and/or sell copies of the Software, and to permit persons to whom the\n Software is furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included\n in all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n OTHER DEALINGS IN THE SOFTWARE.\n */\n\nvar adapter = require('webrtc-adapter');\n\n// List of sessions\nJanus.sessions = {};\n\n// Screensharing Chrome Extension ID\nJanus.extensionId = \"hapfgfdkleiggjjpfpenajgdnfckjpaj\";\nJanus.isExtensionEnabled = function() {\n    if(window.navigator.userAgent.match('Chrome')) {\n        var chromever = parseInt(window.navigator.userAgent.match(/Chrome\\/(.*) /)[1], 10);\n        var maxver = 33;\n        if(window.navigator.userAgent.match('Linux'))\n            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n        if(chromever >= 26 && chromever <= maxver) {\n            // Older versions of Chrome don't support this extension-based approach, so lie\n            return true;\n        }\n        return (document.getElementById('janus-extension-installed') !== null);\n    } else {\n        // Firefox of others, no need for the extension (but this doesn't mean it will work)\n        return true;\n    }\n};\n\nJanus.noop = function() {};\n\n// Initialization\nJanus.init = function(options) {\n    options = options || {};\n    options.callback = (typeof options.callback == \"function\") ? options.callback : Janus.noop;\n    if(Janus.initDone === true) {\n        // Already initialized\n        options.callback();\n    } else {\n        if(typeof console == \"undefined\" || typeof console.log == \"undefined\")\n            console = { log: function() {} };\n        // Console logging (all debugging disabled by default)\n        Janus.trace = Janus.noop;\n        Janus.debug = Janus.noop;\n        Janus.vdebug = Janus.noop;\n        Janus.log = Janus.noop;\n        Janus.warn = Janus.noop;\n        Janus.error = Janus.noop;\n        if(options.debug === true || options.debug === \"all\") {\n            // Enable all debugging levels\n            Janus.trace = console.trace.bind(console);\n            Janus.debug = console.debug.bind(console);\n            Janus.vdebug = console.debug.bind(console);\n            Janus.log = console.log.bind(console);\n            Janus.warn = console.warn.bind(console);\n            Janus.error = console.error.bind(console);\n        } else if(Array.isArray(options.debug)) {\n            for(var i in options.debug) {\n                var d = options.debug[i];\n                switch(d) {\n                case \"trace\":\n                    Janus.trace = console.trace.bind(console);\n                    break;\n                case \"debug\":\n                    Janus.debug = console.debug.bind(console);\n                    break;\n                case \"vdebug\":\n                    Janus.vdebug = console.debug.bind(console);\n                    break;\n                case \"log\":\n                    Janus.log = console.log.bind(console);\n                    break;\n                case \"warn\":\n                    Janus.warn = console.warn.bind(console);\n                    break;\n                case \"error\":\n                    Janus.error = console.error.bind(console);\n                    break;\n                default:\n                    console.error(\"Unknown debugging option '\" + d + \"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')\");\n                    break;\n                }\n            }\n        }\n        Janus.log(\"Initializing library\");\n        // Helper method to enumerate devices\n        Janus.listDevices = function(callback) {\n            callback = (typeof callback == \"function\") ? callback : Janus.noop;\n            if(navigator.mediaDevices) {\n                navigator.mediaDevices.getUserMedia({ audio: true, video: true })\n                    .then(function(stream) {\n                        navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                            Janus.debug(devices);\n                            callback(devices);\n                            // Get rid of the now useless stream\n                            try {\n                                stream.stop();\n                            } catch(e) {}\n                            try {\n                                var tracks = stream.getTracks();\n                                for(var i in tracks) {\n                                    var mst = tracks[i];\n                                    if(mst !== null && mst !== undefined)\n                                        mst.stop();\n                                }\n                            } catch(e) {}\n                        });\n                    })\n                    .catch(function(err) {\n                        Janus.error(err);\n                        callback([]);\n                    });\n            } else {\n                Janus.warn(\"navigator.mediaDevices unavailable\");\n                callback([]);\n            }\n        }\n        // Helper methods to attach/reattach a stream to a video element (previously part of adapter.js)\n        Janus.attachMediaStream = function(element, stream) {\n            if(adapter.browserDetails.browser === 'chrome') {\n                var chromever = adapter.browserDetails.version;\n                if(chromever >= 43) {\n                    element.srcObject = stream;\n                } else if(typeof element.src !== 'undefined') {\n                    element.src = URL.createObjectURL(stream);\n                } else {\n                    Janus.error(\"Error attaching stream to element\");\n                }\n            } else {\n                element.srcObject = stream;\n            }\n        };\n        Janus.reattachMediaStream = function(to, from) {\n            if(adapter.browserDetails.browser === 'chrome') {\n                var chromever = adapter.browserDetails.version;\n                if(chromever >= 43) {\n                    to.srcObject = from.srcObject;\n                } else if(typeof to.src !== 'undefined') {\n                    to.src = from.src;\n                }\n            } else {\n                to.srcObject = from.srcObject;\n            }\n        };\n        // Prepare a helper method to send AJAX requests in a syntax similar to jQuery (at least for what we care)\n        Janus.ajax = function(params) {\n            // Check params\n            if(params === null || params === undefined)\n                return;\n            params.success = (typeof params.success == \"function\") ? params.success : Janus.noop;\n            params.error = (typeof params.error == \"function\") ? params.error : Janus.noop;\n            // Make sure there's an URL\n            if(params.url === null || params.url === undefined) {\n                Janus.error('Missing url', params.url);\n                params.error(null, -1, 'Missing url');\n                return;\n            }\n            // Validate async\n            params.async = (params.async === null || params.async === undefined) ? true : (params.async === true);\n            Janus.log(params);\n            // IE doesn't even know what WebRTC is, so no polyfill needed\n            var XHR = new XMLHttpRequest();\n            XHR.open(params.type, params.url, params.async);\n            if(params.contentType !== null && params.contentType !== undefined)\n                XHR.setRequestHeader('Content-type', params.contentType);\n            if(params.async) {\n                XHR.onreadystatechange = function () {\n                    if(XHR.readyState != 4)\n                        return;\n                    if(XHR.status !== 200) {\n                        // Got an error?\n                        if(XHR.status === 0)\n                            XHR.status = \"error\";\n                        params.error(XHR, XHR.status, \"\");\n                        return;\n                    }\n                    // Got payload\n                    params.success(JSON.parse(XHR.responseText));\n                };\n            }\n            try {\n                XHR.send(params.data);\n                if(!params.async) {\n                    if(XHR.status !== 200) {\n                        // Got an error?\n                        if(XHR.status === 0)\n                            XHR.status = \"error\";\n                        params.error(XHR, XHR.status, \"\");\n                        return;\n                    }\n                    // Got payload\n                    params.success(JSON.parse(XHR.responseText));\n                }\n            } catch(e) {\n                // Something broke up\n                params.error(XHR, 'error', '');\n            };\n        };\n        // Detect tab close: make sure we don't loose existing onbeforeunload handlers\n        var oldOBF = window.onbeforeunload;\n        window.onbeforeunload = function() {\n            Janus.log(\"Closing window\");\n            for(var s in Janus.sessions) {\n                if(Janus.sessions[s] !== null && Janus.sessions[s] !== undefined &&\n                    Janus.sessions[s].destroyOnUnload) {\n                    Janus.log(\"Destroying session \" + s);\n                    Janus.sessions[s].destroy({asyncRequest: false});\n                }\n            }\n            if(oldOBF && typeof oldOBF == \"function\")\n                oldOBF();\n        }\n        function addJsList(srcArray) {\n            if (!srcArray || !Array.isArray(srcArray) || srcArray.length == 0) {\n                options.callback();\n            }\n            var count = 0;\n            addJs(srcArray[count],next);\n\n            function next() {\n                count++;\n                if (count<srcArray.length) {\n                    addJs(srcArray[count],next);\n                }\n                else {\n                    options.callback();\n                }\n            }\n        }\n        function addJs(src,done) {\n            try {\n                if(adapter) {\n                    // Already loaded\n                    Janus.debug(src + \" already loaded, skipping\");\n                    done();\n                    return;\n                }\n            } catch(e) {};\n            var oHead = document.getElementsByTagName('head').item(0);\n            var oScript = document.createElement(\"script\");\n            oScript.type = \"text/javascript\";\n            oScript.src = src;\n            oScript.onload = function() {\n                Janus.log(\"Library \" + src + \" loaded\");\n                done();\n            }\n            oHead.appendChild(oScript);\n        }\n        Janus.initDone = true;\n        addJsList([\"adapter.js\"]);\t// We may need others in the future\n    }\n};\n\n// Helper method to check whether WebRTC is supported by this browser\nJanus.isWebrtcSupported = function() {\n    return window.RTCPeerConnection !== undefined && window.RTCPeerConnection !== null &&\n        navigator.getUserMedia !== undefined && navigator.getUserMedia !== null;\n};\n\n\n// Janus session object\nfunction Janus(gatewayCallbacks) {\n    if(Janus.initDone === undefined) {\n        gatewayCallbacks.error(\"Library not initialized\");\n        return {};\n    }\n    if(!Janus.isWebrtcSupported()) {\n        gatewayCallbacks.error(\"WebRTC not supported by this browser\");\n        return {};\n    }\n    Janus.log(\"Library initialized: \" + Janus.initDone);\n    gatewayCallbacks = gatewayCallbacks || {};\n    gatewayCallbacks.success = (typeof gatewayCallbacks.success == \"function\") ? gatewayCallbacks.success : Janus.noop;\n    gatewayCallbacks.error = (typeof gatewayCallbacks.error == \"function\") ? gatewayCallbacks.error : Janus.noop;\n    gatewayCallbacks.destroyed = (typeof gatewayCallbacks.destroyed == \"function\") ? gatewayCallbacks.destroyed : Janus.noop;\n    if(gatewayCallbacks.server === null || gatewayCallbacks.server === undefined) {\n        gatewayCallbacks.error(\"Invalid gateway url\");\n        return {};\n    }\n    var websockets = false;\n    var ws = null;\n    var wsHandlers = {};\n    var wsKeepaliveTimeoutId = null;\n\n    var servers = null, serversIndex = 0;\n    var server = gatewayCallbacks.server;\n    if(Array.isArray(server)) {\n        Janus.log(\"Multiple servers provided (\" + server.length + \"), will use the first that works\");\n        server = null;\n        servers = gatewayCallbacks.server;\n        Janus.debug(servers);\n    } else {\n        if(server.indexOf(\"ws\") === 0) {\n            websockets = true;\n            Janus.log(\"Using WebSockets to contact Janus: \" + server);\n        } else {\n            websockets = false;\n            Janus.log(\"Using REST API to contact Janus: \" + server);\n        }\n    }\n    var iceServers = gatewayCallbacks.iceServers;\n    if(iceServers === undefined || iceServers === null || iceServers.length === 0) {\n        iceServers = [{urls: \"stun:stun.l.google.com:19302\"}];\n        Janus.log('using ice', iceServers);\n    }\n    var iceTransportPolicy = gatewayCallbacks.iceTransportPolicy;\n    // Whether IPv6 candidates should be gathered\n    var ipv6Support = gatewayCallbacks.ipv6;\n    if(ipv6Support === undefined || ipv6Support === null)\n        ipv6Support = false;\n    // Optional max events\n    var maxev = null;\n    if(gatewayCallbacks.max_poll_events !== undefined && gatewayCallbacks.max_poll_events !== null)\n        maxev = gatewayCallbacks.max_poll_events;\n    if(maxev < 1)\n        maxev = 1;\n    // Token to use (only if the token based authentication mechanism is enabled)\n    var token = null;\n    if(gatewayCallbacks.token !== undefined && gatewayCallbacks.token !== null)\n        token = gatewayCallbacks.token;\n    // API secret to use (only if the shared API secret is enabled)\n    var apisecret = null;\n    if(gatewayCallbacks.apisecret !== undefined && gatewayCallbacks.apisecret !== null)\n        apisecret = gatewayCallbacks.apisecret;\n    // Whether we should destroy this session when onbeforeunload is called\n    this.destroyOnUnload = true;\n    if(gatewayCallbacks.destroyOnUnload !== undefined && gatewayCallbacks.destroyOnUnload !== null)\n        this.destroyOnUnload = (gatewayCallbacks.destroyOnUnload === true);\n\n    var connected = false;\n    var sessionId = null;\n    var pluginHandles = {};\n    var that = this;\n    var retries = 0;\n    var transactions = {};\n    createSession(gatewayCallbacks);\n\n    // Public methods\n    this.getServer = function() { return server; };\n    this.isConnected = function() { return connected; };\n    this.getSessionId = function() { return sessionId; };\n    this.destroy = function(callbacks) { destroySession(callbacks, true); };\n    this.attach = function(callbacks) { createHandle(callbacks); };\n\n    // Private method to create random identifiers (e.g., transaction)\n    function randomString(len) {\n        var charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var randomString = '';\n        for (var i = 0; i < len; i++) {\n            var randomPoz = Math.floor(Math.random() * charSet.length);\n            randomString += charSet.substring(randomPoz,randomPoz+1);\n        }\n        return randomString;\n    }\n\n    function eventHandler() {\n        if(sessionId == null)\n            return;\n        Janus.debug('Long poll...');\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var longpoll = server + \"/\" + sessionId + \"?rid=\" + new Date().getTime();\n        if(maxev !== undefined && maxev !== null)\n            longpoll = longpoll + \"&maxev=\" + maxev;\n        if(token !== null && token !== undefined)\n            longpoll = longpoll + \"&token=\" + token;\n        if(apisecret !== null && apisecret !== undefined)\n            longpoll = longpoll + \"&apisecret=\" + apisecret;\n        Janus.ajax({\n            type: 'GET',\n            url: longpoll,\n            cache: false,\n            timeout: 60000,\t// FIXME\n            success: handleEvent,\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\n                //~ clearTimeout(timeoutTimer);\n                retries++;\n                if(retries > 3) {\n                    // Did we just lose the gateway? :-(\n                    connected = false;\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                    return;\n                }\n                eventHandler();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private event handler: this will trigger plugin callbacks, if set\n    function handleEvent(json) {\n        retries = 0;\n        if(!websockets && sessionId !== undefined && sessionId !== null)\n            setTimeout(eventHandler, 200);\n        if(!websockets && Array.isArray(json)) {\n            // We got an array: it means we passed a maxev > 1, iterate on all objects\n            for(var i=0; i<json.length; i++) {\n                handleEvent(json[i]);\n            }\n            return;\n        }\n        if(json[\"janus\"] === \"keepalive\") {\n            // Nothing happened\n            Janus.vdebug(\"Got a keepalive on session \" + sessionId);\n            return;\n        } else if(json[\"janus\"] === \"ack\") {\n            // Just an ack, we can probably ignore\n            Janus.debug(\"Got an ack on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"success\") {\n            // Success!\n            Janus.debug(\"Got a success on session \" + sessionId);\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"webrtcup\") {\n            // The PeerConnection with the gateway is up! Notify this\n            Janus.debug(\"Got a webrtcup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(true);\n            return;\n        } else if(json[\"janus\"] === \"hangup\") {\n            // A plugin asked the core to hangup a PeerConnection on one of our handles\n            Janus.debug(\"Got a hangup event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.webrtcState(false);\n            pluginHandle.hangup();\n        } else if(json[\"janus\"] === \"detached\") {\n            // A plugin asked the core to detach one of our handles\n            Janus.debug(\"Got a detached event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                // Don't warn here because destroyHandle causes this situation.\n                return;\n            }\n            pluginHandle.ondetached();\n            pluginHandle.detach();\n        } else if(json[\"janus\"] === \"media\") {\n            // Media started/stopped flowing\n            Janus.debug(\"Got a media event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.mediaState(json[\"type\"], json[\"receiving\"]);\n        } else if(json[\"janus\"] === \"slowlink\") {\n            Janus.debug(\"Got a slowlink event on session \" + sessionId);\n            Janus.debug(json);\n            // Trouble uplink or downlink\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            pluginHandle.slowLink(json[\"uplink\"], json[\"nacks\"]);\n        } else if(json[\"janus\"] === \"error\") {\n            // Oops, something wrong happened\n            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n            Janus.debug(json);\n            var transaction = json[\"transaction\"];\n            if(transaction !== null && transaction !== undefined) {\n                var reportSuccess = transactions[transaction];\n                if(reportSuccess !== null && reportSuccess !== undefined) {\n                    reportSuccess(json);\n                }\n                delete transactions[transaction];\n            }\n            return;\n        } else if(json[\"janus\"] === \"event\") {\n            Janus.debug(\"Got a plugin event on session \" + sessionId);\n            Janus.debug(json);\n            var sender = json[\"sender\"];\n            if(sender === undefined || sender === null) {\n                Janus.warn(\"Missing sender...\");\n                return;\n            }\n            var plugindata = json[\"plugindata\"];\n            if(plugindata === undefined || plugindata === null) {\n                Janus.warn(\"Missing plugindata...\");\n                return;\n            }\n            Janus.debug(\"  -- Event is coming from \" + sender + \" (\" + plugindata[\"plugin\"] + \")\");\n            var data = plugindata[\"data\"];\n            Janus.debug(data);\n            var pluginHandle = pluginHandles[sender];\n            if(pluginHandle === undefined || pluginHandle === null) {\n                Janus.warn(\"This handle is not attached to this session\");\n                return;\n            }\n            var jsep = json[\"jsep\"];\n            if(jsep !== undefined && jsep !== null) {\n                Janus.debug(\"Handling SDP as well...\");\n                Janus.debug(jsep);\n            }\n            var callback = pluginHandle.onmessage;\n            if(callback !== null && callback !== undefined) {\n                Janus.debug(\"Notifying application...\");\n                // Send to callback specified when attaching plugin handle\n                callback(data, jsep);\n            } else {\n                // Send to generic callback (?)\n                Janus.debug(\"No provided notification callback\");\n            }\n        } else {\n            Janus.warn(\"Unkown message/event  '\" + json[\"janus\"] + \"' on session \" + sessionId);\n            Janus.debug(json);\n        }\n    }\n\n    // Private helper to send keep-alive messages on WebSockets\n    function keepAlive() {\n        if(server === null || !websockets || !connected)\n            return;\n        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n        var request = { \"janus\": \"keepalive\", \"session_id\": sessionId, \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        ws.send(JSON.stringify(request));\n    }\n\n    // Private method to create a session\n    function createSession(callbacks) {\n        var transaction = randomString(12);\n        var request = { \"janus\": \"create\", \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(server === null && Array.isArray(servers)) {\n            // We still need to find a working server from the list we were given\n            server = servers[serversIndex];\n            if(server.indexOf(\"ws\") === 0) {\n                websockets = true;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying WebSockets to contact Janus (\" + server + \")\");\n            } else {\n                websockets = false;\n                Janus.log(\"Server #\" + (serversIndex+1) + \": trying REST API to contact Janus (\" + server + \")\");\n            }\n        }\n        if(websockets) {\n            ws = new WebSocket(server, 'janus-protocol');\n            wsHandlers = {\n                'error': function() {\n                    Janus.error(\"Error connecting to the Janus WebSockets server... \" + server);\n                    if (Array.isArray(servers)) {\n                        serversIndex++;\n                        if (serversIndex == servers.length) {\n                            // We tried all the servers the user gave us and they all failed\n                            callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                            return;\n                        }\n                        // Let's try the next server\n                        server = null;\n                        setTimeout(function() {\n                            createSession(callbacks);\n                        }, 200);\n                        return;\n                    }\n                    callbacks.error(\"Error connecting to the Janus WebSockets server: Is the gateway down?\");\n                },\n\n                'open': function() {\n                    // We need to be notified about the success\n                    transactions[transaction] = function(json) {\n                        Janus.debug(json);\n                        if (json[\"janus\"] !== \"success\") {\n                            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                            callbacks.error(json[\"error\"].reason);\n                            return;\n                        }\n                        wsKeepaliveTimeoutId = setTimeout(keepAlive, 30000);\n                        connected = true;\n                        sessionId = json.data[\"id\"];\n                        Janus.log(\"Created session: \" + sessionId);\n                        Janus.sessions[sessionId] = that;\n                        callbacks.success();\n                    };\n                    ws.send(JSON.stringify(request));\n                },\n\n                'message': function(event) {\n                    handleEvent(JSON.parse(event.data));\n                },\n\n                'close': function() {\n                    if (server === null || !connected) {\n                        return;\n                    }\n                    connected = false;\n                    // FIXME What if this is called when the page is closed?\n                    gatewayCallbacks.error(\"Lost connection to the gateway (is it down?)\");\n                }\n            };\n\n            for(var eventName in wsHandlers) {\n                ws.addEventListener(eventName, wsHandlers[eventName]);\n            }\n\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(json[\"error\"].reason);\n                    return;\n                }\n                connected = true;\n                sessionId = json.data[\"id\"];\n                Janus.log(\"Created session: \" + sessionId);\n                Janus.sessions[sessionId] = that;\n                eventHandler();\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                if(Array.isArray(servers)) {\n                    serversIndex++;\n                    if(serversIndex == servers.length) {\n                        // We tried all the servers the user gave us and they all failed\n                        callbacks.error(\"Error connecting to any of the provided Janus servers: Is the gateway down?\");\n                        return;\n                    }\n                    // Let's try the next server\n                    server = null;\n                    setTimeout(function() { createSession(callbacks); }, 200);\n                    return;\n                }\n                if(errorThrown === \"\")\n                    callbacks.error(textStatus + \": Is the gateway down?\");\n                else\n                    callbacks.error(textStatus + \": \" + errorThrown);\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to destroy a session\n    function destroySession(callbacks) {\n        callbacks = callbacks || {};\n        // FIXME This method triggers a success even when we fail\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying session \" + sessionId + \" (async=\" + asyncRequest + \")\");\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.success();\n            return;\n        }\n        if(sessionId === undefined || sessionId === null) {\n            Janus.warn(\"No session to destroy\");\n            callbacks.success();\n            gatewayCallbacks.destroyed();\n            return;\n        }\n        delete Janus.sessions[sessionId];\n        // Destroy all handles first\n        for(var ph in pluginHandles) {\n            var phv = pluginHandles[ph];\n            Janus.log(\"Destroying handle \" + phv.id + \" (\" + phv.plugin + \")\");\n            destroyHandle(phv.id, {asyncRequest: asyncRequest});\n        }\n        // Ok, go on\n        var request = { \"janus\": \"destroy\", \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n\n            var unbindWebSocket = function() {\n                for(var eventName in wsHandlers) {\n                    ws.removeEventListener(eventName, wsHandlers[eventName]);\n                }\n                ws.removeEventListener('message', onUnbindMessage);\n                ws.removeEventListener('error', onUnbindError);\n                if(wsKeepaliveTimeoutId) {\n                    clearTimeout(wsKeepaliveTimeoutId);\n                }\n            };\n\n            var onUnbindMessage = function(event){\n                var data = JSON.parse(event.data);\n                if(data.session_id == request.session_id && data.transaction == request.transaction) {\n                    unbindWebSocket();\n                    callbacks.success();\n                    gatewayCallbacks.destroyed();\n                }\n            };\n            var onUnbindError = function(event) {\n                unbindWebSocket();\n                callbacks.error(\"Failed to destroy the gateway: Is the gateway down?\");\n                gatewayCallbacks.destroyed();\n            };\n\n            ws.addEventListener('message', onUnbindMessage);\n            ws.addEventListener('error', onUnbindError);\n\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId,\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.log(\"Destroyed session:\");\n                Janus.debug(json);\n                sessionId = null;\n                connected = false;\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // Reset everything anyway\n                sessionId = null;\n                connected = false;\n                callbacks.success();\n                gatewayCallbacks.destroyed();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to create a plugin handle\n    function createHandle(callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        callbacks.consentDialog = (typeof callbacks.consentDialog == \"function\") ? callbacks.consentDialog : Janus.noop;\n        callbacks.mediaState = (typeof callbacks.mediaState == \"function\") ? callbacks.mediaState : Janus.noop;\n        callbacks.webrtcState = (typeof callbacks.webrtcState == \"function\") ? callbacks.webrtcState : Janus.noop;\n        callbacks.slowLink = (typeof callbacks.slowLink == \"function\") ? callbacks.slowLink : Janus.noop;\n        callbacks.onmessage = (typeof callbacks.onmessage == \"function\") ? callbacks.onmessage : Janus.noop;\n        callbacks.onlocalstream = (typeof callbacks.onlocalstream == \"function\") ? callbacks.onlocalstream : Janus.noop;\n        callbacks.onremotestream = (typeof callbacks.onremotestream == \"function\") ? callbacks.onremotestream : Janus.noop;\n        callbacks.ondata = (typeof callbacks.ondata == \"function\") ? callbacks.ondata : Janus.noop;\n        callbacks.ondataopen = (typeof callbacks.ondataopen == \"function\") ? callbacks.ondataopen : Janus.noop;\n        callbacks.oncleanup = (typeof callbacks.oncleanup == \"function\") ? callbacks.oncleanup : Janus.noop;\n        callbacks.ondetached = (typeof callbacks.ondetached == \"function\") ? callbacks.ondetached : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var plugin = callbacks.plugin;\n        if(plugin === undefined || plugin === null) {\n            Janus.error(\"Invalid plugin\");\n            callbacks.error(\"Invalid plugin\");\n            return;\n        }\n        var transaction = randomString(12);\n        var request = { \"janus\": \"attach\", \"plugin\": plugin, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            transactions[transaction] = function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            };\n            request[\"session_id\"] = sessionId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    return;\n                }\n                var handleId = json.data[\"id\"];\n                Janus.log(\"Created handle: \" + handleId);\n                var pluginHandle =\n                    {\n                        session : that,\n                        plugin : plugin,\n                        id : handleId,\n                        webrtcStuff : {\n                            started : false,\n                            myStream : null,\n                            streamExternal : false,\n                            remoteStream : null,\n                            mySdp : null,\n                            pc : null,\n                            dataChannel : null,\n                            dtmfSender : null,\n                            trickle : true,\n                            iceDone : false,\n                            sdpSent : false,\n                            volume : {\n                                value : null,\n                                timer : null\n                            },\n                            bitrate : {\n                                value : null,\n                                bsnow : null,\n                                bsbefore : null,\n                                tsnow : null,\n                                tsbefore : null,\n                                timer : null\n                            }\n                        },\n                        getId : function() { return handleId; },\n                        getPlugin : function() { return plugin; },\n                        getVolume : function() { return getVolume(handleId); },\n                        isAudioMuted : function() { return isMuted(handleId, false); },\n                        muteAudio : function() { return mute(handleId, false, true); },\n                        unmuteAudio : function() { return mute(handleId, false, false); },\n                        isVideoMuted : function() { return isMuted(handleId, true); },\n                        muteVideo : function() { return mute(handleId, true, true); },\n                        unmuteVideo : function() { return mute(handleId, true, false); },\n                        getBitrate : function() { return getBitrate(handleId); },\n                        send : function(callbacks) { sendMessage(handleId, callbacks); },\n                        data : function(callbacks) { sendData(handleId, callbacks); },\n                        dtmf : function(callbacks) { sendDtmf(handleId, callbacks); },\n                        consentDialog : callbacks.consentDialog,\n                        mediaState : callbacks.mediaState,\n                        webrtcState : callbacks.webrtcState,\n                        slowLink : callbacks.slowLink,\n                        onmessage : callbacks.onmessage,\n                        createOffer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        createAnswer : function(callbacks) { prepareWebrtc(handleId, callbacks); },\n                        handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks); },\n                        onlocalstream : callbacks.onlocalstream,\n                        onremotestream : callbacks.onremotestream,\n                        ondata : callbacks.ondata,\n                        ondataopen : callbacks.ondataopen,\n                        oncleanup : callbacks.oncleanup,\n                        ondetached : callbacks.ondetached,\n                        hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true); },\n                        detach : function(callbacks) { destroyHandle(handleId, callbacks); }\n                    }\n                pluginHandles[handleId] = pluginHandle;\n                callbacks.success(pluginHandle);\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a message\n    function sendMessage(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var message = callbacks.message;\n        var jsep = callbacks.jsep;\n        var transaction = randomString(12);\n        var request = { \"janus\": \"message\", \"body\": message, \"transaction\": transaction };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(jsep !== null && jsep !== undefined)\n            request.jsep = jsep;\n        Janus.debug(\"Sending message to plugin (handle=\" + handleId + \"):\");\n        Janus.debug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            transactions[transaction] = function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            };\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.debug(\"Message sent!\");\n                Janus.debug(json);\n                if(json[\"janus\"] === \"success\") {\n                    // We got a success, must have been a synchronous transaction\n                    var plugindata = json[\"plugindata\"];\n                    if(plugindata === undefined || plugindata === null) {\n                        Janus.warn(\"Request succeeded, but missing plugindata...\");\n                        callbacks.success();\n                        return;\n                    }\n                    Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n                    var data = plugindata[\"data\"];\n                    Janus.debug(data);\n                    callbacks.success(data);\n                    return;\n                } else if(json[\"janus\"] !== \"ack\") {\n                    // Not a success and not an ack, must be an error\n                    if(json[\"error\"] !== undefined && json[\"error\"] !== null) {\n                        Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                        callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n                    } else {\n                        Janus.error(\"Unknown error\");\t// FIXME\n                        callbacks.error(\"Unknown error\");\n                    }\n                    return;\n                }\n                // If we got here, the plugin decided to handle the request asynchronously\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                callbacks.error(textStatus + \": \" + errorThrown);\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a trickle candidate\n    function sendTrickleCandidate(handleId, candidate) {\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"trickle\", \"candidate\": candidate, \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        Janus.vdebug(\"Sending trickle candidate (handle=\" + handleId + \"):\");\n        Janus.vdebug(request);\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.vdebug(\"Candidate sent!\");\n                Janus.vdebug(json);\n                if(json[\"janus\"] !== \"ack\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                    return;\n                }\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // Private method to send a data channel message\n    function sendData(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        var text = callbacks.text;\n        if(text === null || text === undefined) {\n            Janus.warn(\"Invalid text\");\n            callbacks.error(\"Invalid text\");\n            return;\n        }\n        Janus.log(\"Sending string on data channel: \" + text);\n        config.dataChannel.send(text);\n        callbacks.success();\n    }\n\n    // Private method to send a DTMF tone\n    function sendDtmf(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.dtmfSender === null || config.dtmfSender === undefined) {\n            // Create the DTMF sender, if possible\n            if(config.myStream !== undefined && config.myStream !== null) {\n                var tracks = config.myStream.getAudioTracks();\n                if(tracks !== null && tracks !== undefined && tracks.length > 0) {\n                    var local_audio_track = tracks[0];\n                    config.dtmfSender = config.pc.createDTMFSender(local_audio_track);\n                    Janus.log(\"Created DTMF Sender\");\n                    config.dtmfSender.ontonechange = function(tone) { Janus.debug(\"Sent DTMF tone: \" + tone.tone); };\n                }\n            }\n            if(config.dtmfSender === null || config.dtmfSender === undefined) {\n                Janus.warn(\"Invalid DTMF configuration\");\n                callbacks.error(\"Invalid DTMF configuration\");\n                return;\n            }\n        }\n        var dtmf = callbacks.dtmf;\n        if(dtmf === null || dtmf === undefined) {\n            Janus.warn(\"Invalid DTMF parameters\");\n            callbacks.error(\"Invalid DTMF parameters\");\n            return;\n        }\n        var tones = dtmf.tones;\n        if(tones === null || tones === undefined) {\n            Janus.warn(\"Invalid DTMF string\");\n            callbacks.error(\"Invalid DTMF string\");\n            return;\n        }\n        var duration = dtmf.duration;\n        if(duration === null || duration === undefined)\n            duration = 500;\t// We choose 500ms as the default duration for a tone\n        var gap = dtmf.gap;\n        if(gap === null || gap === undefined)\n            gap = 50;\t// We choose 50ms as the default gap between tones\n        Janus.debug(\"Sending DTMF string \" + tones + \" (duration \" + duration + \"ms, gap \" + gap + \"ms)\");\n        config.dtmfSender.insertDTMF(tones, duration, gap);\n    }\n\n    // Private method to destroy a plugin handle\n    function destroyHandle(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var asyncRequest = true;\n        if(callbacks.asyncRequest !== undefined && callbacks.asyncRequest !== null)\n            asyncRequest = (callbacks.asyncRequest === true);\n        Janus.log(\"Destroying handle \" + handleId + \" (sync=\" + asyncRequest + \")\");\n        cleanupWebrtc(handleId);\n        if(!connected) {\n            Janus.warn(\"Is the gateway down? (connected=false)\");\n            callbacks.error(\"Is the gateway down? (connected=false)\");\n            return;\n        }\n        var request = { \"janus\": \"detach\", \"transaction\": randomString(12) };\n        if(token !== null && token !== undefined)\n            request[\"token\"] = token;\n        if(apisecret !== null && apisecret !== undefined)\n            request[\"apisecret\"] = apisecret;\n        if(websockets) {\n            request[\"session_id\"] = sessionId;\n            request[\"handle_id\"] = handleId;\n            ws.send(JSON.stringify(request));\n            delete pluginHandles[handleId];\n            callbacks.success();\n            return;\n        }\n        Janus.ajax({\n            type: 'POST',\n            url: server + \"/\" + sessionId + \"/\" + handleId,\n            async: asyncRequest,\t// Sometimes we need false here, or destroying in onbeforeunload won't work\n            cache: false,\n            contentType: \"application/json\",\n            data: JSON.stringify(request),\n            success: function(json) {\n                Janus.log(\"Destroyed handle:\");\n                Janus.debug(json);\n                if(json[\"janus\"] !== \"success\") {\n                    Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\t// FIXME\n                }\n                delete pluginHandles[handleId];\n                callbacks.success();\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                Janus.error(textStatus + \": \" + errorThrown);\t// FIXME\n                // We cleanup anyway\n                delete pluginHandles[handleId];\n                callbacks.success();\n            },\n            dataType: \"json\"\n        });\n    }\n\n    // WebRTC stuff\n    function streamsDone(handleId, jsep, media, callbacks, stream) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.debug(\"streamsDone:\", stream);\n        config.myStream = stream;\n        var pc_config = {\"iceServers\": iceServers, \"iceTransportPolicy\": iceTransportPolicy};\n        //~ var pc_constraints = {'mandatory': {'MozDontOfferDataChannel':true}};\n        var pc_constraints = {\n            \"optional\": [{\"DtlsSrtpKeyAgreement\": true}]\n        };\n        if(ipv6Support === true) {\n            // FIXME This is only supported in Chrome right now\n            // For support in Firefox track this: https://bugzilla.mozilla.org/show_bug.cgi?id=797262\n            pc_constraints.optional.push({\"googIPv6\":true});\n        }\n        if(adapter.browserDetails.browser === \"edge\") {\n            // This is Edge, enable BUNDLE explicitly\n            pc_config.bundlePolicy = \"max-bundle\";\n        }\n        Janus.log(\"Creating PeerConnection\");\n        Janus.debug(pc_constraints);\n        config.pc = new RTCPeerConnection(pc_config, pc_constraints);\n        Janus.debug(config.pc);\n        if(config.pc.getStats) {\t// FIXME\n            config.volume.value = 0;\n            config.bitrate.value = \"0 kbits/sec\";\n        }\n        Janus.log(\"Preparing local SDP and gathering candidates (trickle=\" + config.trickle + \")\");\n        config.pc.onicecandidate = function(event) {\n            if (event.candidate == null ||\n                (adapter.browserDetails.browser === 'edge' && event.candidate.candidate.indexOf('endOfCandidates') > 0)) {\n                Janus.log(\"End of candidates.\");\n                config.iceDone = true;\n                if(config.trickle === true) {\n                    // Notify end of candidates\n                    sendTrickleCandidate(handleId, {\"completed\": true});\n                } else {\n                    // No trickle, time to send the complete SDP (including all candidates)\n                    sendSDP(handleId, callbacks);\n                }\n            } else {\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var candidate = {\n                    \"candidate\": event.candidate.candidate,\n                    \"sdpMid\": event.candidate.sdpMid,\n                    \"sdpMLineIndex\": event.candidate.sdpMLineIndex\n                };\n                if(config.trickle === true) {\n                    // Send candidate\n                    sendTrickleCandidate(handleId, candidate);\n                }\n            }\n        };\n        if(stream !== null && stream !== undefined) {\n            Janus.log('Adding local stream');\n            config.pc.addStream(stream);\n            pluginHandle.onlocalstream(stream);\n        }\n        config.pc.onaddstream = function(remoteStream) {\n            Janus.log(\"Handling Remote Stream\");\n            Janus.debug(remoteStream);\n            config.remoteStream = remoteStream;\n            pluginHandle.onremotestream(remoteStream.stream);\n        };\n        // Any data channel to create?\n        if(isDataEnabled(media)) {\n            Janus.log(\"Creating data channel\");\n            var onDataChannelMessage = function(event) {\n                Janus.log('Received message on data channel: ' + event.data);\n                pluginHandle.ondata(event.data);\t// FIXME\n            }\n            var onDataChannelStateChange = function() {\n                var dcState = config.dataChannel !== null ? config.dataChannel.readyState : \"null\";\n                Janus.log('State change on data channel: ' + dcState);\n                if(dcState === 'open') {\n                    pluginHandle.ondataopen();\t// FIXME\n                }\n            }\n            var onDataChannelError = function(error) {\n                Janus.error('Got error on data channel:', error);\n                // TODO\n            }\n            // Until we implement the proxying of open requests within the Janus core, we open a channel ourselves whatever the case\n            config.dataChannel = config.pc.createDataChannel(\"JanusDataChannel\", {ordered:false});\t// FIXME Add options (ordered, maxRetransmits, etc.)\n            config.dataChannel.onmessage = onDataChannelMessage;\n            config.dataChannel.onopen = onDataChannelStateChange;\n            config.dataChannel.onclose = onDataChannelStateChange;\n            config.dataChannel.onerror = onDataChannelError;\n        }\n        // Create offer/answer now\n        if(jsep === null || jsep === undefined) {\n            createOffer(handleId, media, callbacks);\n        } else {\n            if(adapter.browserDetails.browser === \"edge\") {\n                // This is Edge, add an a=end-of-candidates at the end\n                jsep.sdp += \"a=end-of-candidates\\r\\n\";\n            }\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    createAnswer(handleId, media, callbacks);\n                }, callbacks.error);\n        }\n    }\n\n    function prepareWebrtc(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var media = callbacks.media;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Are we updating a session?\n        if(config.pc !== undefined && config.pc !== null) {\n            Janus.log(\"Updating existing media session\");\n            // Create offer/answer now\n            if(jsep === null || jsep === undefined) {\n                createOffer(handleId, media, callbacks);\n            } else {\n                if(adapter.browserDetails.browser === \"edge\") {\n                    // This is Edge, add an a=end-of-candidates at the end\n                    jsep.sdp += \"a=end-of-candidates\\r\\n\";\n                }\n                config.pc.setRemoteDescription(\n                    new RTCSessionDescription(jsep),\n                    function() {\n                        Janus.log(\"Remote description accepted!\");\n                        createAnswer(handleId, media, callbacks);\n                    }, callbacks.error);\n            }\n            return;\n        }\n        // Was a MediaStream object passed, or do we need to take care of that?\n        if(callbacks.stream !== null && callbacks.stream !== undefined) {\n            var stream = callbacks.stream;\n            Janus.log(\"MediaStream provided by the application\");\n            Janus.debug(stream);\n            // Skip the getUserMedia part\n            config.streamExternal = true;\n            streamsDone(handleId, jsep, media, callbacks, stream);\n            return;\n        }\n        config.trickle = isTrickleEnabled(callbacks.trickle);\n        if(isAudioSendEnabled(media) || isVideoSendEnabled(media)) {\n            var constraints = { mandatory: {}, optional: []};\n            pluginHandle.consentDialog(true);\n            var audioSupport = isAudioSendEnabled(media);\n            if(audioSupport === true && media != undefined && media != null) {\n                if(typeof media.audio === 'object') {\n                    audioSupport = media.audio;\n                }\n            }\n            var videoSupport = isVideoSendEnabled(media);\n            if(videoSupport === true && media != undefined && media != null) {\n                if(media.video && media.video != 'screen' && media.video != 'window') {\n                    var width = 0;\n                    var height = 0, maxHeight = 0;\n                    if(media.video === 'lowres') {\n                        // Small resolution, 4:3\n                        height = 240;\n                        maxHeight = 240;\n                        width = 320;\n                    } else if(media.video === 'lowres-16:9') {\n                        // Small resolution, 16:9\n                        height = 180;\n                        maxHeight = 180;\n                        width = 320;\n                    } else if(media.video === 'hires' || media.video === 'hires-16:9' ) {\n                        // High resolution is only 16:9\n                        height = 720;\n                        maxHeight = 720;\n                        width = 1280;\n                        if(navigator.mozGetUserMedia) {\n                            var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                            if(firefoxVer < 38) {\n                                // Unless this is and old Firefox, which doesn't support it\n                                Janus.warn(media.video + \" unsupported, falling back to stdres (old Firefox)\");\n                                height = 480;\n                                maxHeight = 480;\n                                width  = 640;\n                            }\n                        }\n                    } else if(media.video === 'stdres') {\n                        // Normal resolution, 4:3\n                        height = 480;\n                        maxHeight = 480;\n                        width  = 640;\n                    } else if(media.video === 'stdres-16:9') {\n                        // Normal resolution, 16:9\n                        height = 360;\n                        maxHeight = 360;\n                        width = 640;\n                    } else {\n                        Janus.log(\"Default video setting (\" + media.video + \") is stdres 4:3\");\n                        height = 480;\n                        maxHeight = 480;\n                        width = 640;\n                    }\n                    Janus.log(\"Adding media constraint \" + media.video);\n                    if(navigator.mozGetUserMedia) {\n                        var firefoxVer = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(firefoxVer < 38) {\n                            videoSupport = {\n                                'require': ['height', 'width'],\n                                'height': {'max': maxHeight, 'min': height},\n                                'width':  {'max': width,  'min': width}\n                            };\n                        } else {\n                            // http://stackoverflow.com/questions/28282385/webrtc-firefox-constraints/28911694#28911694\n                            // https://github.com/meetecho/janus-gateway/pull/246\n                            videoSupport = {\n                                'height': {'ideal': height},\n                                'width':  {'ideal': width}\n                            };\n                        }\n                    } else {\n                        videoSupport = {\n                            'mandatory': {\n                                'maxHeight': maxHeight,\n                                'minHeight': height,\n                                'maxWidth':  width,\n                                'minWidth':  width\n                            },\n                            'optional': []\n                        };\n                    }\n                    if(typeof media.video === 'object') {\n                        videoSupport = media.video;\n                    }\n                    Janus.debug(videoSupport);\n                } else if(media.video === 'screen' || media.video === 'window') {\n                    // Not a webcam, but screen capture\n                    if(window.location.protocol !== 'https:') {\n                        // Screen sharing mandates HTTPS\n                        Janus.warn(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        pluginHandle.consentDialog(false);\n                        callbacks.error(\"Screen sharing only works on HTTPS, try the https:// version of this page\");\n                        return;\n                    }\n                    // We're going to try and use the extension for Chrome 34+, the old approach\n                    // for older versions of Chrome, or the experimental support in Firefox 33+\n                    var cache = {};\n                    function callbackUserMedia (error, stream) {\n                        pluginHandle.consentDialog(false);\n                        if(error) {\n                            callbacks.error({code: error.code, name: error.name, message: error.message});\n                        } else {\n                            streamsDone(handleId, jsep, media, callbacks, stream);\n                        }\n                    };\n                    function getScreenMedia(constraints, gsmCallback) {\n                        Janus.log(\"Adding media constraint (screen capture)\");\n                        Janus.debug(constraints);\n                        navigator.mediaDevices.getUserMedia(constraints)\n                            .then(function(stream) { gsmCallback(null, stream); })\n                            .catch(function(error) { pluginHandle.consentDialog(false); gsmCallback(error); });\n                    };\n                    if(adapter.browserDetails.browser === 'chrome') {\n                        var chromever = adapter.browserDetails.version;\n                        var maxver = 33;\n                        if(window.navigator.userAgent.match('Linux'))\n                            maxver = 35;\t// \"known\" crash in chrome 34 and 35 on linux\n                        if(chromever >= 26 && chromever <= maxver) {\n                            // Chrome 26->33 requires some awkward chrome://flags manipulation\n                            constraints = {\n                                video: {\n                                    mandatory: {\n                                        googLeakyBucket: true,\n                                        maxWidth: window.screen.width,\n                                        maxHeight: window.screen.height,\n                                        maxFrameRate: 3,\n                                        chromeMediaSource: 'screen'\n                                    }\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, callbackUserMedia);\n                        } else {\n                            // Chrome 34+ requires an extension\n                            var pending = window.setTimeout(\n                                function () {\n                                    error = new Error('NavigatorUserMediaError');\n                                    error.name = 'The required Chrome extension is not installed: click <a href=\"#\">here</a> to install it. (NOTE: this will need you to refresh the page)';\n                                    pluginHandle.consentDialog(false);\n                                    return callbacks.error(error);\n                                }, 1000);\n                            cache[pending] = [callbackUserMedia, null];\n                            window.postMessage({ type: 'janusGetScreen', id: pending }, '*');\n                        }\n                    } else if (window.navigator.userAgent.match('Firefox')) {\n                        var ffver = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n                        if(ffver >= 33) {\n                            // Firefox 33+ has experimental support for screen sharing\n                            constraints = {\n                                video: {\n                                    mozMediaSource: media.video,\n                                    mediaSource: media.video\n                                },\n                                audio: isAudioSendEnabled(media)\n                            };\n                            getScreenMedia(constraints, function (err, stream) {\n                                callbackUserMedia(err, stream);\n                                // Workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1045810\n                                if (!err) {\n                                    var lastTime = stream.currentTime;\n                                    var polly = window.setInterval(function () {\n                                        if(!stream)\n                                            window.clearInterval(polly);\n                                        if(stream.currentTime == lastTime) {\n                                            window.clearInterval(polly);\n                                            if(stream.onended) {\n                                                stream.onended();\n                                            }\n                                        }\n                                        lastTime = stream.currentTime;\n                                    }, 500);\n                                }\n                            });\n                        } else {\n                            var error = new Error('NavigatorUserMediaError');\n                            error.name = 'Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)';\n                            pluginHandle.consentDialog(false);\n                            callbacks.error(error);\n                            return;\n                        }\n                    }\n\n                    // Wait for events from the Chrome Extension\n                    window.addEventListener('message', function (event) {\n                        if(event.origin != window.location.origin)\n                            return;\n                        if(event.data.type == 'janusGotScreen' && cache[event.data.id]) {\n                            var data = cache[event.data.id];\n                            var callback = data[0];\n                            delete cache[event.data.id];\n\n                            if (event.data.sourceId === '') {\n                                // user canceled\n                                var error = new Error('NavigatorUserMediaError');\n                                error.name = 'You cancelled the request for permission, giving up...';\n                                pluginHandle.consentDialog(false);\n                                callbacks.error(error);\n                            } else {\n                                constraints = {\n                                    audio: isAudioSendEnabled(media),\n                                    video: {\n                                        mandatory: {\n                                            chromeMediaSource: 'desktop',\n                                            maxWidth: window.screen.width,\n                                            maxHeight: window.screen.height,\n                                            maxFrameRate: 3\n                                        },\n                                        optional: [\n                                            {googLeakyBucket: true},\n                                            {googTemporalLayeredScreencast: true}\n                                        ]\n                                    }\n                                };\n                                constraints.video.mandatory.chromeMediaSourceId = event.data.sourceId;\n                                getScreenMedia(constraints, callback);\n                            }\n                        } else if (event.data.type == 'janusGetScreenPending') {\n                            window.clearTimeout(event.data.id);\n                        }\n                    });\n                    return;\n                }\n            }\n            // If we got here, we're not screensharing\n            if(media === null || media === undefined || media.video !== 'screen') {\n                // Check whether all media sources are actually available or not\n                navigator.mediaDevices.enumerateDevices().then(function(devices) {\n                    var audioExist = devices.some(function(device) {\n                            return device.kind === 'audioinput';\n                        }),\n                        videoExist = devices.some(function(device) {\n                            return device.kind === 'videoinput';\n                        });\n\n                    // Check whether a missing device is really a problem\n                    var audioSend = isAudioSendEnabled(media);\n                    var videoSend = isVideoSendEnabled(media);\n                    var needAudioDevice = isAudioSendRequired(media);\n                    var needVideoDevice = isVideoSendRequired(media);\n                    if(audioSend || videoSend || needAudioDevice || needVideoDevice) {\n                        // We need to send either audio or video\n                        var haveAudioDevice = audioSend ? audioExist : false;\n                        var haveVideoDevice = videoSend ? videoExist : false;\n                        if(!haveAudioDevice && !haveVideoDevice) {\n                            // FIXME Should we really give up, or just assume recvonly for both?\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('No capture device found');\n                            return false;\n                        } else if(!haveAudioDevice && needAudioDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Audio capture is required, but no capture device found');\n                            return false;\n                        } else if(!haveVideoDevice && needVideoDevice) {\n                            pluginHandle.consentDialog(false);\n                            callbacks.error('Video capture is required, but no capture device found');\n                            return false;\n                        }\n                    }\n\n                    navigator.mediaDevices.getUserMedia({\n                        audio: audioExist ? audioSupport : false,\n                        video: videoExist ? videoSupport : false\n                    })\n                        .then(function(stream) { pluginHandle.consentDialog(false); streamsDone(handleId, jsep, media, callbacks, stream); })\n                        .catch(function(error) { pluginHandle.consentDialog(false); callbacks.error({code: error.code, name: error.name, message: error.message}); });\n                })\n                    .catch(function(error) {\n                        pluginHandle.consentDialog(false);\n                        callbacks.error('enumerateDevices error', error);\n                    });\n            }\n        } else {\n            // No need to do a getUserMedia, create offer/answer right away\n            streamsDone(handleId, jsep, media, callbacks);\n        }\n    }\n\n    function prepareWebrtcPeer(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : webrtcError;\n        var jsep = callbacks.jsep;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(jsep !== undefined && jsep !== null) {\n            if(config.pc === null) {\n                Janus.warn(\"Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep\");\n                callbacks.error(\"No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep\");\n                return;\n            }\n            if(adapter.browserDetails.browser === \"edge\") {\n                // This is Edge, add an a=end-of-candidates at the end\n                jsep.sdp += \"a=end-of-candidates\\r\\n\";\n            }\n            config.pc.setRemoteDescription(\n                new RTCSessionDescription(jsep),\n                function() {\n                    Janus.log(\"Remote description accepted!\");\n                    callbacks.success();\n                }, callbacks.error);\n        } else {\n            callbacks.error(\"Invalid JSEP\");\n        }\n    }\n\n    function createOffer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Creating offer (iceDone=\" + config.iceDone + \")\");\n        // https://code.google.com/p/webrtc/issues/detail?id=3508\n        var mediaConstraints = null;\n        if(adapter.browserDetails.browser == \"firefox\" || adapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        config.pc.createOffer(\n            function(offer) {\n                Janus.debug(offer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    config.mySdp = offer.sdp;\n                    config.pc.setLocalDescription(offer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\n                    Janus.log(\"Offer already sent, not sending it again\");\n                    return;\n                }\n                Janus.log(\"Offer ready\");\n                Janus.debug(callbacks);\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": offer.type,\n                    \"sdp\": offer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function createAnswer(handleId, media, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            callbacks.error(\"Invalid handle\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Creating answer (iceDone=\" + config.iceDone + \")\");\n        var mediaConstraints = null;\n        if(adapter.browserDetails.browser == \"firefox\" || adapter.browserDetails.browser == \"edge\") {\n            mediaConstraints = {\n                'offerToReceiveAudio':isAudioRecvEnabled(media),\n                'offerToReceiveVideo':isVideoRecvEnabled(media)\n            };\n        } else {\n            mediaConstraints = {\n                'mandatory': {\n                    'OfferToReceiveAudio':isAudioRecvEnabled(media),\n                    'OfferToReceiveVideo':isVideoRecvEnabled(media)\n                }\n            };\n        }\n        Janus.debug(mediaConstraints);\n        config.pc.createAnswer(\n            function(answer) {\n                Janus.debug(answer);\n                if(config.mySdp === null || config.mySdp === undefined) {\n                    Janus.log(\"Setting local description\");\n                    config.mySdp = answer.sdp;\n                    config.pc.setLocalDescription(answer);\n                }\n                if(!config.iceDone && !config.trickle) {\n                    // Don't do anything until we have all candidates\n                    Janus.log(\"Waiting for all candidates...\");\n                    return;\n                }\n                if(config.sdpSent) {\t// FIXME badly\n                    Janus.log(\"Answer already sent, not sending it again\");\n                    return;\n                }\n                config.sdpSent = true;\n                // JSON.stringify doesn't work on some WebRTC objects anymore\n                // See https://code.google.com/p/chromium/issues/detail?id=467366\n                var jsep = {\n                    \"type\": answer.type,\n                    \"sdp\": answer.sdp\n                };\n                callbacks.success(jsep);\n            }, callbacks.error, mediaConstraints);\n    }\n\n    function sendSDP(handleId, callbacks) {\n        callbacks = callbacks || {};\n        callbacks.success = (typeof callbacks.success == \"function\") ? callbacks.success : Janus.noop;\n        callbacks.error = (typeof callbacks.error == \"function\") ? callbacks.error : Janus.noop;\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle, not sending anything\");\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        Janus.log(\"Sending offer/answer SDP...\");\n        if(config.mySdp === null || config.mySdp === undefined) {\n            Janus.warn(\"Local SDP instance is invalid, not sending anything...\");\n            return;\n        }\n        config.mySdp = {\n            \"type\": config.pc.localDescription.type,\n            \"sdp\": config.pc.localDescription.sdp\n        };\n        if(config.sdpSent) {\n            Janus.log(\"Offer/Answer SDP already sent, not sending it again\");\n            return;\n        }\n        if(config.trickle === false)\n            config.mySdp[\"trickle\"] = false;\n        Janus.debug(callbacks);\n        config.sdpSent = true;\n        callbacks.success(config.mySdp);\n    }\n\n    function getVolume(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return 0;\n        }\n        var config = pluginHandle.webrtcStuff;\n        // Start getting the volume, if getStats is supported\n        if(config.pc.getStats && adapter.browserDetails.browser == \"chrome\") {\t// FIXME\n            if(config.remoteStream === null || config.remoteStream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return 0;\n            }\n            // http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/constraints-and-stats.html\n            if(config.volume.timer === null || config.volume.timer === undefined) {\n                Janus.log(\"Starting volume monitor\");\n                config.volume.timer = setInterval(function() {\n                    config.pc.getStats(function(stats) {\n                        var results = stats.result();\n                        for(var i=0; i<results.length; i++) {\n                            var res = results[i];\n                            if(res.type == 'ssrc' && res.stat('audioOutputLevel')) {\n                                config.volume.value = res.stat('audioOutputLevel');\n                            }\n                        }\n                    });\n                }, 200);\n                return 0;\t// We don't have a volume to return yet\n            }\n            return config.volume.value;\n        } else {\n            Janus.log(\"Getting the remote volume unsupported by browser\");\n            return 0;\n        }\n    }\n\n    function isMuted(handleId, video) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return true;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return true;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return true;\n        }\n        if(video) {\n            // Check video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return true;\n            }\n            return !config.myStream.getVideoTracks()[0].enabled;\n        } else {\n            // Check audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return true;\n            }\n            return !config.myStream.getAudioTracks()[0].enabled;\n        }\n    }\n\n    function mute(handleId, video, mute) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return false;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined) {\n            Janus.warn(\"Invalid PeerConnection\");\n            return false;\n        }\n        if(config.myStream === undefined || config.myStream === null) {\n            Janus.warn(\"Invalid local MediaStream\");\n            return false;\n        }\n        if(video) {\n            // Mute/unmute video track\n            if(config.myStream.getVideoTracks() === null\n                || config.myStream.getVideoTracks() === undefined\n                || config.myStream.getVideoTracks().length === 0) {\n                Janus.warn(\"No video track\");\n                return false;\n            }\n            config.myStream.getVideoTracks()[0].enabled = mute;\n            return true;\n        } else {\n            // Mute/unmute audio track\n            if(config.myStream.getAudioTracks() === null\n                || config.myStream.getAudioTracks() === undefined\n                || config.myStream.getAudioTracks().length === 0) {\n                Janus.warn(\"No audio track\");\n                return false;\n            }\n            config.myStream.getAudioTracks()[0].enabled = mute;\n            return true;\n        }\n    }\n\n    function getBitrate(handleId) {\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined ||\n            pluginHandle.webrtcStuff === null || pluginHandle.webrtcStuff === undefined) {\n            Janus.warn(\"Invalid handle\");\n            return \"Invalid handle\";\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config.pc === null || config.pc === undefined)\n            return \"Invalid PeerConnection\";\n        // Start getting the bitrate, if getStats is supported\n        if(config.pc.getStats && adapter.browserDetails.browser == \"chrome\") {\n            // Do it the Chrome way\n            if(config.remoteStream === null || config.remoteStream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return \"Remote stream unavailable\";\n            }\n            // http://webrtc.googlecode.com/svn/trunk/samples/js/demos/html/constraints-and-stats.html\n            if(config.bitrate.timer === null || config.bitrate.timer === undefined) {\n                Janus.log(\"Starting bitrate timer (Chrome)\");\n                config.bitrate.timer = setInterval(function() {\n                    config.pc.getStats(function(stats) {\n                        var results = stats.result();\n                        for(var i=0; i<results.length; i++) {\n                            var res = results[i];\n                            if(res.type == 'ssrc' && res.stat('googFrameHeightReceived')) {\n                                config.bitrate.bsnow = res.stat('bytesReceived');\n                                config.bitrate.tsnow = res.timestamp;\n                                if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                                    // Skip this round\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                } else {\n                                    // Calculate bitrate\n                                    var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / (config.bitrate.tsnow - config.bitrate.tsbefore));\n                                    config.bitrate.value = bitRate + ' kbits/sec';\n                                    //~ Janus.log(\"Estimated bitrate is \" + config.bitrate.value);\n                                    config.bitrate.bsbefore = config.bitrate.bsnow;\n                                    config.bitrate.tsbefore = config.bitrate.tsnow;\n                                }\n                            }\n                        }\n                    });\n                }, 1000);\n                return \"0 kbits/sec\";\t// We don't have a bitrate value yet\n            }\n            return config.bitrate.value;\n        } else if(config.pc.getStats && adapter.browserDetails.browser == \"firefox\") {\n            // Do it the Firefox way\n            if(config.remoteStream === null || config.remoteStream === undefined\n                || config.remoteStream.stream === null || config.remoteStream.stream === undefined) {\n                Janus.warn(\"Remote stream unavailable\");\n                return \"Remote stream unavailable\";\n            }\n            var videoTracks = config.remoteStream.stream.getVideoTracks();\n            if(videoTracks === null || videoTracks === undefined || videoTracks.length < 1) {\n                Janus.warn(\"No video track\");\n                return \"No video track\";\n            }\n            // https://github.com/muaz-khan/getStats/blob/master/getStats.js\n            if(config.bitrate.timer === null || config.bitrate.timer === undefined) {\n                Janus.log(\"Starting bitrate timer (Firefox)\");\n                config.bitrate.timer = setInterval(function() {\n                    // We need a helper callback\n                    var cb = function(res) {\n                        if(res === null || res === undefined ||\n                            res.inbound_rtp_video_1 == null || res.inbound_rtp_video_1 == null) {\n                            config.bitrate.value = \"Missing inbound_rtp_video_1\";\n                            return;\n                        }\n                        config.bitrate.bsnow = res.inbound_rtp_video_1.bytesReceived;\n                        config.bitrate.tsnow = res.inbound_rtp_video_1.timestamp;\n                        if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                            // Skip this round\n                            config.bitrate.bsbefore = config.bitrate.bsnow;\n                            config.bitrate.tsbefore = config.bitrate.tsnow;\n                        } else {\n                            // Calculate bitrate\n                            var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / (config.bitrate.tsnow - config.bitrate.tsbefore));\n                            config.bitrate.value = bitRate + ' kbits/sec';\n                            config.bitrate.bsbefore = config.bitrate.bsnow;\n                            config.bitrate.tsbefore = config.bitrate.tsnow;\n                        }\n                    };\n                    // Actually get the stats\n                    config.pc.getStats(videoTracks[0], function(stats) {\n                        cb(stats);\n                    }, cb);\n                }, 1000);\n                return \"0 kbits/sec\";\t// We don't have a bitrate value yet\n            }\n            return config.bitrate.value;\n        } else {\n            Janus.warn(\"Getting the video bitrate unsupported by browser\");\n            return \"Feature unsupported by browser\";\n        }\n    }\n\n    function webrtcError(error) {\n        Janus.error(\"WebRTC error:\", error);\n    }\n\n    function cleanupWebrtc(handleId, hangupRequest) {\n        Janus.log(\"Cleaning WebRTC stuff\");\n        var pluginHandle = pluginHandles[handleId];\n        if(pluginHandle === null || pluginHandle === undefined) {\n            // Nothing to clean\n            return;\n        }\n        var config = pluginHandle.webrtcStuff;\n        if(config !== null && config !== undefined) {\n            if(hangupRequest === true) {\n                // Send a hangup request (we don't really care about the response)\n                var request = { \"janus\": \"hangup\", \"transaction\": randomString(12) };\n                if(token !== null && token !== undefined)\n                    request[\"token\"] = token;\n                if(apisecret !== null && apisecret !== undefined)\n                    request[\"apisecret\"] = apisecret;\n                Janus.debug(\"Sending hangup request (handle=\" + handleId + \"):\");\n                Janus.debug(request);\n                if(websockets) {\n                    request[\"session_id\"] = sessionId;\n                    request[\"handle_id\"] = handleId;\n                    ws.send(JSON.stringify(request));\n                } else {\n                    $.ajax({\n                        type: 'POST',\n                        url: server + \"/\" + sessionId + \"/\" + handleId,\n                        cache: false,\n                        contentType: \"application/json\",\n                        data: JSON.stringify(request),\n                        dataType: \"json\"\n                    });\n                }\n            }\n            // Cleanup stack\n            config.remoteStream = null;\n            if(config.volume.timer)\n                clearInterval(config.volume.timer);\n            config.volume.value = null;\n            if(config.bitrate.timer)\n                clearInterval(config.bitrate.timer);\n            config.bitrate.timer = null;\n            config.bitrate.bsnow = null;\n            config.bitrate.bsbefore = null;\n            config.bitrate.tsnow = null;\n            config.bitrate.tsbefore = null;\n            config.bitrate.value = null;\n            try {\n                // Try a MediaStream.stop() first\n                if(!config.streamExternal && config.myStream !== null && config.myStream !== undefined) {\n                    Janus.log(\"Stopping local stream\");\n                    config.myStream.stop();\n                }\n            } catch(e) {\n                // Do nothing if this fails\n            }\n            try {\n                // Try a MediaStreamTrack.stop() for each track as well\n                if(!config.streamExternal && config.myStream !== null && config.myStream !== undefined) {\n                    Janus.log(\"Stopping local stream tracks\");\n                    var tracks = config.myStream.getTracks();\n                    for(var i in tracks) {\n                        var mst = tracks[i];\n                        Janus.log(mst);\n                        if(mst !== null && mst !== undefined)\n                            mst.stop();\n                    }\n                }\n            } catch(e) {\n                // Do nothing if this fails\n            }\n            config.streamExternal = false;\n            config.myStream = null;\n            // Close PeerConnection\n            try {\n                config.pc.close();\n            } catch(e) {\n                // Do nothing\n            }\n            config.pc = null;\n            config.mySdp = null;\n            config.iceDone = false;\n            config.sdpSent = false;\n            config.dataChannel = null;\n            config.dtmfSender = null;\n        }\n        pluginHandle.oncleanup();\n    }\n\n    // Helper methods to parse a media object\n    function isAudioSendEnabled(media) {\n        Janus.debug(\"isAudioSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioSend === undefined || media.audioSend === null)\n            return true;\t// Default\n        return (media.audioSend === true);\n    }\n\n    function isAudioSendRequired(media) {\n        Janus.debug(\"isAudioSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.audio === false || media.audioSend === false)\n            return false;\t// If we're not asking to capture audio, it's not required\n        if(media.failIfNoAudio === undefined || media.failIfNoAudio === null)\n            return false;\t// Default\n        return (media.failIfNoAudio === true);\n    }\n\n    function isAudioRecvEnabled(media) {\n        Janus.debug(\"isAudioRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.audio === false)\n            return false;\t// Generic audio has precedence\n        if(media.audioRecv === undefined || media.audioRecv === null)\n            return true;\t// Default\n        return (media.audioRecv === true);\n    }\n\n    function isVideoSendEnabled(media) {\n        Janus.debug(\"isVideoSendEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoSend === undefined || media.videoSend === null)\n            return true;\t// Default\n        return (media.videoSend === true);\n    }\n\n    function isVideoSendRequired(media) {\n        Janus.debug(\"isVideoSendRequired:\", media);\n        if(media === undefined || media === null)\n            return false;\t// Default\n        if(media.video === false || media.videoSend === false)\n            return false;\t// If we're not asking to capture video, it's not required\n        if(media.failIfNoVideo === undefined || media.failIfNoVideo === null)\n            return false;\t// Default\n        return (media.failIfNoVideo === true);\n    }\n\n    function isVideoRecvEnabled(media) {\n        Janus.debug(\"isVideoRecvEnabled:\", media);\n        if(media === undefined || media === null)\n            return true;\t// Default\n        if(media.video === false)\n            return false;\t// Generic video has precedence\n        if(media.videoRecv === undefined || media.videoRecv === null)\n            return true;\t// Default\n        return (media.videoRecv === true);\n    }\n\n    function isDataEnabled(media) {\n        Janus.debug(\"isDataEnabled:\", media);\n        if(adapter.browserDetails.browser == \"edge\") {\n            Janus.warn(\"Edge doesn't support data channels yet\");\n            return false;\n        }\n        if(media === undefined || media === null)\n            return false;\t// Default\n        return (media.data === true);\n    }\n\n    function isTrickleEnabled(trickle) {\n        Janus.debug(\"isTrickleEnabled:\", trickle);\n        if(trickle === undefined || trickle === null)\n            return true;\t// Default is true\n        return (trickle === true);\n    }\n};\n\nmodule.exports = Janus;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./non_npm_dependencies/janus/index.js\n// module id = 2212\n// module chunks = 6"],"sourceRoot":""}