webpackJsonp([2],{1996:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(6),u=n(r),l=a(2),s=n(l),i=a(5),o=n(i),d=a(4),f=n(d),c=a(3),m=n(c),p=a(1),g=n(p),h=a(37),y=function(e){function t(){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.title,n=e.icon,r=e.parentLink,u=e.children,l=r+"/"+t,s=null;return u.length>0&&this.context.router.isActive(l)&&(s=g.default.createElement("ul",{className:"sections"},g.default.Children.map(u,function(e){return e?g.default.cloneElement(e,{parentLink:l}):e}))),g.default.createElement("li",{className:"backstage-sidebar__category"},g.default.createElement(h.Link,{to:l,className:"category-title",activeClassName:"category-title--active",onlyActiveOnIndex:!0},g.default.createElement("i",{className:"fa "+n}),g.default.createElement("span",{className:"category-title__text"},a)),s)}}],[{key:"propTypes",get:function(){return{name:g.default.PropTypes.string.isRequired,title:g.default.PropTypes.node.isRequired,icon:g.default.PropTypes.string.isRequired,parentLink:g.default.PropTypes.string,children:g.default.PropTypes.arrayOf(g.default.PropTypes.element)}}},{key:"defaultProps",get:function(){return{parentLink:"",children:[]}}},{key:"contextTypes",get:function(){return{router:g.default.PropTypes.object.isRequired}}}]),t}(g.default.Component);t.default=y},1997:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(6),u=n(r),l=a(2),s=n(l),i=a(5),o=n(i),d=a(4),f=n(d),c=a(3),m=n(c),p=a(1),g=n(p),h=a(13),y=a(37),b=function(t){function a(){return(0,s.default)(this,a),(0,f.default)(this,(a.__proto__||(0,u.default)(a)).apply(this,arguments))}return(0,m.default)(a,t),(0,o.default)(a,[{key:"render",value:function(){return this.props.team?g.default.createElement("div",{className:"backstage-navbar"},g.default.createElement(y.Link,{className:"backstage-navbar__back",to:"/"+this.props.team.name+"/channels/town-square"},g.default.createElement("i",{className:"fa fa-angle-left"}),g.default.createElement("span",null,g.default.createElement(h.FormattedMessage,{id:"backstage_navbar.backToMattermost",defaultMessage:"Back to {siteName}",values:{siteName:e.window.mm_config.SiteName}})))):null}}],[{key:"propTypes",get:function(){return{team:g.default.PropTypes.object.isRequired}}}]),a}(g.default.Component);t.default=b}).call(t,a(17))},1998:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(6),u=n(r),l=a(2),s=n(l),i=a(5),o=n(i),d=a(4),f=n(d),c=a(3),m=n(c),p=a(1),g=n(p),h=a(37),y=function(e){function t(){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,o.default)(t,[{key:"getLink",value:function(){return this.props.parentLink+"/"+this.props.name}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.subsection,n=e.children,r=this.getLink(),u=null;n.length>0&&(u=g.default.createElement("ul",{className:"subsections"},g.default.Children.map(n,function(e){return g.default.cloneElement(e,{parentLink:r,subsection:!0})})));var l="section";return a&&(l="subsection"),g.default.createElement("li",{className:l},g.default.createElement(h.Link,{className:l+"-title",activeClassName:l+"-title--active",to:r},g.default.createElement("span",{className:l+"-title__text"},t)),u)}}],[{key:"propTypes",get:function(){return{name:g.default.PropTypes.string.isRequired,title:g.default.PropTypes.node.isRequired,parentLink:g.default.PropTypes.string,subsection:g.default.PropTypes.bool,children:g.default.PropTypes.arrayOf(g.default.PropTypes.element)}}},{key:"defaultProps",get:function(){return{parentLink:"",subsection:!1,children:[]}}},{key:"contextTypes",get:function(){return{router:g.default.PropTypes.object.isRequired}}}]),t}(g.default.Component);t.default=y},1999:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(6),l=r(u),s=a(2),i=r(s),o=a(5),d=r(o),f=a(4),c=r(f),m=a(3),p=r(m),g=a(1),h=r(g),y=a(23),b=r(y),_=a(11),k=n(_),v=a(1996),E=r(v),T=a(1998),C=r(T),P=a(13),M=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,d.default)(t,[{key:"renderCustomEmoji",value:function(){return"true"===window.mm_config.EnableCustomEmoji&&k.canCreateCustomEmoji(this.props.user)?h.default.createElement(E.default,{name:"emoji",parentLink:"/"+this.props.team.name,icon:"fa-smile-o",title:h.default.createElement(P.FormattedMessage,{id:"backstage_sidebar.emoji",defaultMessage:"Custom Emoji"})}):null}},{key:"renderIntegrations",value:function(){var e=window.mm_config,t=k.isSystemAdmin(this.props.user.roles);if("true"!==e.EnableIncomingWebhooks&&"true"!==e.EnableOutgoingWebhooks&&"true"!==e.EnableCommands&&"true"!==e.EnableOAuthServiceProvider)return null;if("false"!==e.EnableOnlyAdminIntegrations&&!t&&!b.default.isTeamAdmin(this.props.user.id,this.props.team.id))return null;var a=null;"true"===e.EnableIncomingWebhooks&&(a=h.default.createElement(C.default,{name:"incoming_webhooks",title:h.default.createElement(P.FormattedMessage,{id:"backstage_sidebar.integrations.incoming_webhooks",defaultMessage:"Incoming Webhooks"})}));var n=null;"true"===e.EnableOutgoingWebhooks&&(n=h.default.createElement(C.default,{name:"outgoing_webhooks",title:h.default.createElement(P.FormattedMessage,{id:"backstage_sidebar.integrations.outgoing_webhooks",defaultMessage:"Outgoing Webhooks"})}));var r=null;"true"===e.EnableCommands&&(r=h.default.createElement(C.default,{name:"commands",title:h.default.createElement(P.FormattedMessage,{id:"backstage_sidebar.integrations.commands",defaultMessage:"Slash Commands"})}));var u=null;return"true"!==e.EnableOAuthServiceProvider||!t&&"true"===e.EnableOnlyAdminIntegrations||(u=h.default.createElement(C.default,{name:"oauth2-apps",title:h.default.createElement(P.FormattedMessage,{id:"backstage_sidebar.integrations.oauthApps",defaultMessage:"OAuth 2.0 Applications"})})),h.default.createElement(E.default,{name:"integrations",parentLink:"/"+this.props.team.name,icon:"fa-link",title:h.default.createElement(P.FormattedMessage,{id:"backstage_sidebar.integrations",defaultMessage:"Integrations"})},a,n,r,u)}},{key:"render",value:function(){return h.default.createElement("div",{className:"backstage-sidebar"},h.default.createElement("ul",null,this.renderCustomEmoji(),this.renderIntegrations()))}}],[{key:"propTypes",get:function(){return{team:h.default.PropTypes.object.isRequired,user:h.default.PropTypes.object.isRequired}}}]),t}(h.default.Component);t.default=M},583:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(6),u=n(r),l=a(2),s=n(l),i=a(4),o=n(i),d=a(5),f=n(d),c=a(3),m=n(c),p=a(1),g=n(p),h=a(23),y=n(h),b=a(15),_=n(b),k=a(1999),v=n(k),E=a(1997),T=n(E),C=a(1662),P=n(C),M=function(e){function t(e){(0,s.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));a.onTeamChange=a.onTeamChange.bind(a);var n=y.default.getCurrent();return a.state={team:n,isAdmin:_.default.isSystemAdminForCurrentUser(a.props.user)||y.default.isTeamAdminForCurrentTeam(n)},a}return(0,m.default)(t,e),(0,f.default)(t,null,[{key:"propTypes",get:function(){return{user:g.default.PropTypes.object,children:g.default.PropTypes.node.isRequired}}}]),(0,f.default)(t,[{key:"componentDidMount",value:function(){y.default.addChangeListener(this.onTeamChange)}},{key:"componentWillUnmount",value:function(){y.default.removeChangeListener(this.onTeamChange)}},{key:"onTeamChange",value:function(){var e=y.default.getCurrent();this.state={team:e,isAdmin:_.default.isSystemAdminForCurrentUser(this.props.user)||y.default.isTeamAdminForCurrentTeam(e)}}},{key:"render",value:function(){var e=this;return g.default.createElement("div",{className:"backstage"},g.default.createElement(P.default,null),g.default.createElement(T.default,{team:this.state.team}),g.default.createElement("div",{className:"backstage-body"},g.default.createElement(v.default,{team:this.state.team,user:this.props.user}),g.default.Children.map(this.props.children,function(t){return t?g.default.cloneElement(t,{team:e.state.team,user:e.props.user,isAdmin:e.state.isAdmin}):t})))}}]),t}(g.default.Component);t.default=M}});
//# sourceMappingURL=2.e7628eb2952260744b3b.js.map