{"version":3,"sources":["webpack:///18.ac9d1c8f1ddab2e18cc2.js","webpack:///./components/integrations/components/installed_incoming_webhooks.jsx","webpack:///./components/integrations/components/installed_incoming_webhook.jsx"],"names":["webpackJsonp","1712","module","exports","__webpack_require__","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","_interopRequireDefault","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_possibleConstructorReturn2","_possibleConstructorReturn3","_createClass2","_createClass3","_inherits2","_inherits3","_backstage_list","_backstage_list2","_installed_incoming_webhook","_installed_incoming_webhook2","_channel_store","_channel_store2","_integration_store","_integration_store2","_team_store","_team_store2","_user_store","_user_store2","_integration_actions","_async_client","AsyncClient","_utils","Utils","_react","_react2","_reactIntl","InstalledIncomingWebhooks","_React$Component","props","this","_this","__proto__","handleIntegrationChange","bind","handleUserChange","deleteIncomingWebhook","teamId","getCurrentId","state","incomingWebhooks","getIncomingWebhooks","loading","hasReceivedIncomingWebhooks","users","getProfiles","get","team","PropTypes","object","user","isAdmin","bool","addChangeListener","window","mm_config","EnableIncomingWebhooks","loadIncomingHooks","removeChangeListener","setState","incomingWebhook","deleteIncomingHook","id","a","b","displayNameA","display_name","channelA","channel_id","localizeMessage","displayNameB","channelB","localeCompare","_this2","sort","incomingWebhookCompare","map","canChange","user_id","createElement","onDelete","creator","header","FormattedMessage","defaultMessage","addText","addLink","name","emptyText","helpText","values","link","target","rel","href","searchPlaceholder","Component","2011","_delete_integration","_delete_integration2","_url","_reactRouter","InstalledIncomingWebhook","handleDelete","isRequired","func","filter","string","channel","toLowerCase","indexOf","description","matchesFilter","displayName","className","actions","Link","to","messageId","url","getSiteURL","username","createAt","create_at"],"mappings":"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","file":"18.ac9d1c8f1ddab2e18cc2.js","sourcesContent":["webpackJsonp([18],{\n\n/***/ 1712:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _backstage_list = __webpack_require__(1665);\n\nvar _backstage_list2 = _interopRequireDefault(_backstage_list);\n\nvar _installed_incoming_webhook = __webpack_require__(2011);\n\nvar _installed_incoming_webhook2 = _interopRequireDefault(_installed_incoming_webhook);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _integration_store = __webpack_require__(1660);\n\nvar _integration_store2 = _interopRequireDefault(_integration_store);\n\nvar _team_store = __webpack_require__(23);\n\nvar _team_store2 = _interopRequireDefault(_team_store);\n\nvar _user_store = __webpack_require__(15);\n\nvar _user_store2 = _interopRequireDefault(_user_store);\n\nvar _integration_actions = __webpack_require__(1664);\n\nvar _async_client = __webpack_require__(20);\n\nvar AsyncClient = _interopRequireWildcard(_async_client);\n\nvar _utils = __webpack_require__(11);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIntl = __webpack_require__(13);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InstalledIncomingWebhooks = function (_React$Component) {\n    (0, _inherits3.default)(InstalledIncomingWebhooks, _React$Component);\n    (0, _createClass3.default)(InstalledIncomingWebhooks, null, [{\n        key: 'propTypes',\n        get: function get() {\n            return {\n                team: _react2.default.PropTypes.object,\n                user: _react2.default.PropTypes.object,\n                isAdmin: _react2.default.PropTypes.bool\n            };\n        }\n    }]);\n\n    function InstalledIncomingWebhooks(props) {\n        (0, _classCallCheck3.default)(this, InstalledIncomingWebhooks);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (InstalledIncomingWebhooks.__proto__ || (0, _getPrototypeOf2.default)(InstalledIncomingWebhooks)).call(this, props));\n\n        _this.handleIntegrationChange = _this.handleIntegrationChange.bind(_this);\n        _this.handleUserChange = _this.handleUserChange.bind(_this);\n        _this.deleteIncomingWebhook = _this.deleteIncomingWebhook.bind(_this);\n\n        var teamId = _team_store2.default.getCurrentId();\n\n        _this.state = {\n            incomingWebhooks: _integration_store2.default.getIncomingWebhooks(teamId),\n            loading: !_integration_store2.default.hasReceivedIncomingWebhooks(teamId),\n            users: _user_store2.default.getProfiles()\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(InstalledIncomingWebhooks, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _integration_store2.default.addChangeListener(this.handleIntegrationChange);\n            _user_store2.default.addChangeListener(this.handleUserChange);\n\n            if (window.mm_config.EnableIncomingWebhooks === 'true') {\n                (0, _integration_actions.loadIncomingHooks)();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _integration_store2.default.removeChangeListener(this.handleIntegrationChange);\n            _user_store2.default.removeChangeListener(this.handleUserChange);\n        }\n    }, {\n        key: 'handleIntegrationChange',\n        value: function handleIntegrationChange() {\n            var teamId = _team_store2.default.getCurrentId();\n\n            this.setState({\n                incomingWebhooks: _integration_store2.default.getIncomingWebhooks(teamId),\n                loading: !_integration_store2.default.hasReceivedIncomingWebhooks(teamId)\n            });\n        }\n    }, {\n        key: 'handleUserChange',\n        value: function handleUserChange() {\n            this.setState({\n                users: _user_store2.default.getProfiles()\n            });\n        }\n    }, {\n        key: 'deleteIncomingWebhook',\n        value: function deleteIncomingWebhook(incomingWebhook) {\n            AsyncClient.deleteIncomingHook(incomingWebhook.id);\n        }\n    }, {\n        key: 'incomingWebhookCompare',\n        value: function incomingWebhookCompare(a, b) {\n            var displayNameA = a.display_name;\n            if (!displayNameA) {\n                var channelA = _channel_store2.default.get(a.channel_id);\n                if (channelA) {\n                    displayNameA = channelA.display_name;\n                } else {\n                    displayNameA = Utils.localizeMessage('installed_incoming_webhooks.unknown_channel', 'A Private Webhook');\n                }\n            }\n\n            var displayNameB = b.display_name;\n            if (!displayNameB) {\n                var channelB = _channel_store2.default.get(b.channel_id);\n                if (channelB) {\n                    displayNameB = channelB.display_name;\n                } else {\n                    displayNameB = Utils.localizeMessage('installed_incoming_webhooks.unknown_channel', 'A Private Webhook');\n                }\n            }\n\n            return displayNameA.localeCompare(displayNameB);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var incomingWebhooks = this.state.incomingWebhooks.sort(this.incomingWebhookCompare).map(function (incomingWebhook) {\n                var canChange = _this2.props.isAdmin || _this2.props.user.id === incomingWebhook.user_id;\n\n                return _react2.default.createElement(_installed_incoming_webhook2.default, {\n                    key: incomingWebhook.id,\n                    incomingWebhook: incomingWebhook,\n                    onDelete: _this2.deleteIncomingWebhook,\n                    creator: _this2.state.users[incomingWebhook.user_id] || {},\n                    canChange: canChange,\n                    team: _this2.props.team\n                });\n            });\n\n            return _react2.default.createElement(\n                _backstage_list2.default,\n                {\n                    header: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'installed_incoming_webhooks.header',\n                        defaultMessage: 'Installed Incoming Webhooks'\n                    }),\n                    addText: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'installed_incoming_webhooks.add',\n                        defaultMessage: 'Add Incoming Webhook'\n                    }),\n                    addLink: '/' + this.props.team.name + '/integrations/incoming_webhooks/add',\n                    emptyText: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'installed_incoming_webhooks.empty',\n                        defaultMessage: 'No incoming webhooks found'\n                    }),\n                    helpText: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'installed_incoming_webhooks.help',\n                        defaultMessage: 'Create incoming webhook URLs for use in external integrations. Please see {link} to learn more.',\n                        values: {\n                            link: _react2.default.createElement(\n                                'a',\n                                {\n                                    target: '_blank',\n                                    rel: 'noopener noreferrer',\n                                    href: 'http://docs.mattermost.com/developer/webhooks-incoming.html'\n                                },\n                                _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                    id: 'installed_incoming_webhooks.helpLink',\n                                    defaultMessage: 'documentation'\n                                })\n                            )\n                        }\n                    }),\n                    searchPlaceholder: Utils.localizeMessage('installed_incoming_webhooks.search', 'Search Incoming Webhooks'),\n                    loading: this.state.loading\n                },\n                incomingWebhooks\n            );\n        }\n    }]);\n    return InstalledIncomingWebhooks;\n}(_react2.default.Component); // Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = InstalledIncomingWebhooks;\n\n/***/ }),\n\n/***/ 2011:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _delete_integration = __webpack_require__(1666);\n\nvar _delete_integration2 = _interopRequireDefault(_delete_integration);\n\nvar _channel_store = __webpack_require__(24);\n\nvar _channel_store2 = _interopRequireDefault(_channel_store);\n\nvar _url = __webpack_require__(141);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _reactRouter = __webpack_require__(335);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nvar InstalledIncomingWebhook = function (_React$Component) {\n    (0, _inherits3.default)(InstalledIncomingWebhook, _React$Component);\n    (0, _createClass3.default)(InstalledIncomingWebhook, null, [{\n        key: 'propTypes',\n        get: function get() {\n            return {\n                incomingWebhook: _react2.default.PropTypes.object.isRequired,\n                onDelete: _react2.default.PropTypes.func.isRequired,\n                filter: _react2.default.PropTypes.string,\n                creator: _react2.default.PropTypes.object.isRequired,\n                canChange: _react2.default.PropTypes.bool.isRequired,\n                team: _react2.default.PropTypes.object.isRequired\n            };\n        }\n    }]);\n\n    function InstalledIncomingWebhook(props) {\n        (0, _classCallCheck3.default)(this, InstalledIncomingWebhook);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (InstalledIncomingWebhook.__proto__ || (0, _getPrototypeOf2.default)(InstalledIncomingWebhook)).call(this, props));\n\n        _this.handleDelete = _this.handleDelete.bind(_this);\n        return _this;\n    }\n\n    (0, _createClass3.default)(InstalledIncomingWebhook, [{\n        key: 'handleDelete',\n        value: function handleDelete() {\n            this.props.onDelete(this.props.incomingWebhook);\n        }\n    }, {\n        key: 'matchesFilter',\n        value: function matchesFilter(incomingWebhook, channel, filter) {\n            if (!filter) {\n                return true;\n            }\n\n            if (incomingWebhook.display_name.toLowerCase().indexOf(filter) !== -1 || incomingWebhook.description.toLowerCase().indexOf(filter) !== -1) {\n                return true;\n            }\n\n            if (incomingWebhook.channel_id) {\n                if (channel && channel.name.toLowerCase().indexOf(filter) !== -1) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var incomingWebhook = this.props.incomingWebhook;\n            var channel = _channel_store2.default.get(incomingWebhook.channel_id);\n            var filter = this.props.filter ? this.props.filter.toLowerCase() : '';\n\n            if (!this.matchesFilter(incomingWebhook, channel, filter)) {\n                return null;\n            }\n\n            var displayName = void 0;\n            if (incomingWebhook.display_name) {\n                displayName = incomingWebhook.display_name;\n            } else if (channel) {\n                displayName = channel.display_name;\n            } else {\n                displayName = _react2.default.createElement(_reactIntl.FormattedMessage, {\n                    id: 'installed_incoming_webhooks.unknown_channel',\n                    defaultMessage: 'A Private Webhook'\n                });\n            }\n\n            var description = null;\n            if (incomingWebhook.description) {\n                description = _react2.default.createElement(\n                    'div',\n                    { className: 'item-details__row' },\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'item-details__description' },\n                        incomingWebhook.description\n                    )\n                );\n            }\n\n            var actions = null;\n            if (this.props.canChange) {\n                actions = _react2.default.createElement(\n                    'div',\n                    { className: 'item-actions' },\n                    _react2.default.createElement(\n                        _reactRouter.Link,\n                        { to: '/' + this.props.team.name + '/integrations/incoming_webhooks/edit?id=' + incomingWebhook.id },\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'installed_integrations.edit',\n                            defaultMessage: 'Edit'\n                        })\n                    ),\n                    ' - ',\n                    _react2.default.createElement(_delete_integration2.default, {\n                        messageId: 'installed_incoming_webhooks.delete.confirm',\n                        onDelete: this.handleDelete\n                    })\n                );\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'backstage-list__item' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'item-details' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'item-details__row' },\n                        _react2.default.createElement(\n                            'span',\n                            { className: 'item-details__name' },\n                            displayName\n                        )\n                    ),\n                    description,\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'item-details__row' },\n                        _react2.default.createElement(\n                            'span',\n                            { className: 'item-details__url' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'installed_integrations.url',\n                                defaultMessage: 'URL: {url}',\n                                values: {\n                                    url: (0, _url.getSiteURL)() + '/hooks/' + incomingWebhook.id\n                                }\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'item-details__row' },\n                        _react2.default.createElement(\n                            'span',\n                            { className: 'item-details__creation' },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'installed_integrations.creation',\n                                defaultMessage: 'Created by {creator} on {createAt, date, full}',\n                                values: {\n                                    creator: this.props.creator.username,\n                                    createAt: incomingWebhook.create_at\n                                }\n                            })\n                        )\n                    )\n                ),\n                actions\n            );\n        }\n    }]);\n    return InstalledIncomingWebhook;\n}(_react2.default.Component);\n\nexports.default = InstalledIncomingWebhook;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 18.ac9d1c8f1ddab2e18cc2.js","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport BackstageList from 'components/backstage/components/backstage_list.jsx';\nimport InstalledIncomingWebhook from './installed_incoming_webhook.jsx';\n\nimport ChannelStore from 'stores/channel_store.jsx';\nimport IntegrationStore from 'stores/integration_store.jsx';\nimport TeamStore from 'stores/team_store.jsx';\nimport UserStore from 'stores/user_store.jsx';\n\nimport {loadIncomingHooks} from 'actions/integration_actions.jsx';\n\nimport * as AsyncClient from 'utils/async_client.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class InstalledIncomingWebhooks extends React.Component {\n    static get propTypes() {\n        return {\n            team: React.PropTypes.object,\n            user: React.PropTypes.object,\n            isAdmin: React.PropTypes.bool\n        };\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.handleIntegrationChange = this.handleIntegrationChange.bind(this);\n        this.handleUserChange = this.handleUserChange.bind(this);\n        this.deleteIncomingWebhook = this.deleteIncomingWebhook.bind(this);\n\n        const teamId = TeamStore.getCurrentId();\n\n        this.state = {\n            incomingWebhooks: IntegrationStore.getIncomingWebhooks(teamId),\n            loading: !IntegrationStore.hasReceivedIncomingWebhooks(teamId),\n            users: UserStore.getProfiles()\n        };\n    }\n\n    componentDidMount() {\n        IntegrationStore.addChangeListener(this.handleIntegrationChange);\n        UserStore.addChangeListener(this.handleUserChange);\n\n        if (window.mm_config.EnableIncomingWebhooks === 'true') {\n            loadIncomingHooks();\n        }\n    }\n\n    componentWillUnmount() {\n        IntegrationStore.removeChangeListener(this.handleIntegrationChange);\n        UserStore.removeChangeListener(this.handleUserChange);\n    }\n\n    handleIntegrationChange() {\n        const teamId = TeamStore.getCurrentId();\n\n        this.setState({\n            incomingWebhooks: IntegrationStore.getIncomingWebhooks(teamId),\n            loading: !IntegrationStore.hasReceivedIncomingWebhooks(teamId)\n        });\n    }\n\n    handleUserChange() {\n        this.setState({\n            users: UserStore.getProfiles()\n        });\n    }\n\n    deleteIncomingWebhook(incomingWebhook) {\n        AsyncClient.deleteIncomingHook(incomingWebhook.id);\n    }\n\n    incomingWebhookCompare(a, b) {\n        let displayNameA = a.display_name;\n        if (!displayNameA) {\n            const channelA = ChannelStore.get(a.channel_id);\n            if (channelA) {\n                displayNameA = channelA.display_name;\n            } else {\n                displayNameA = Utils.localizeMessage('installed_incoming_webhooks.unknown_channel', 'A Private Webhook');\n            }\n        }\n\n        let displayNameB = b.display_name;\n        if (!displayNameB) {\n            const channelB = ChannelStore.get(b.channel_id);\n            if (channelB) {\n                displayNameB = channelB.display_name;\n            } else {\n                displayNameB = Utils.localizeMessage('installed_incoming_webhooks.unknown_channel', 'A Private Webhook');\n            }\n        }\n\n        return displayNameA.localeCompare(displayNameB);\n    }\n\n    render() {\n        const incomingWebhooks = this.state.incomingWebhooks.sort(this.incomingWebhookCompare).map((incomingWebhook) => {\n            const canChange = this.props.isAdmin || this.props.user.id === incomingWebhook.user_id;\n\n            return (\n                <InstalledIncomingWebhook\n                    key={incomingWebhook.id}\n                    incomingWebhook={incomingWebhook}\n                    onDelete={this.deleteIncomingWebhook}\n                    creator={this.state.users[incomingWebhook.user_id] || {}}\n                    canChange={canChange}\n                    team={this.props.team}\n                />\n            );\n        });\n\n        return (\n            <BackstageList\n                header={\n                    <FormattedMessage\n                        id='installed_incoming_webhooks.header'\n                        defaultMessage='Installed Incoming Webhooks'\n                    />\n                }\n                addText={\n                    <FormattedMessage\n                        id='installed_incoming_webhooks.add'\n                        defaultMessage='Add Incoming Webhook'\n                    />\n                }\n                addLink={'/' + this.props.team.name + '/integrations/incoming_webhooks/add'}\n                emptyText={\n                    <FormattedMessage\n                        id='installed_incoming_webhooks.empty'\n                        defaultMessage='No incoming webhooks found'\n                    />\n                }\n                helpText={\n                    <FormattedMessage\n                        id='installed_incoming_webhooks.help'\n                        defaultMessage='Create incoming webhook URLs for use in external integrations. Please see {link} to learn more.'\n                        values={{\n                            link: (\n                                <a\n                                    target='_blank'\n                                    rel='noopener noreferrer'\n                                    href='http://docs.mattermost.com/developer/webhooks-incoming.html'\n                                >\n                                    <FormattedMessage\n                                        id='installed_incoming_webhooks.helpLink'\n                                        defaultMessage='documentation'\n                                    />\n                                </a>\n                            )\n                        }}\n                    />\n                }\n                searchPlaceholder={Utils.localizeMessage('installed_incoming_webhooks.search', 'Search Incoming Webhooks')}\n                loading={this.state.loading}\n            >\n                {incomingWebhooks}\n            </BackstageList>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/installed_incoming_webhooks.jsx","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport React from 'react';\n\nimport DeleteIntegration from './delete_integration.jsx';\n\nimport ChannelStore from 'stores/channel_store.jsx';\nimport {getSiteURL} from 'utils/url.jsx';\n\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router';\n\nexport default class InstalledIncomingWebhook extends React.Component {\n    static get propTypes() {\n        return {\n            incomingWebhook: React.PropTypes.object.isRequired,\n            onDelete: React.PropTypes.func.isRequired,\n            filter: React.PropTypes.string,\n            creator: React.PropTypes.object.isRequired,\n            canChange: React.PropTypes.bool.isRequired,\n            team: React.PropTypes.object.isRequired\n        };\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.handleDelete = this.handleDelete.bind(this);\n    }\n\n    handleDelete() {\n        this.props.onDelete(this.props.incomingWebhook);\n    }\n\n    matchesFilter(incomingWebhook, channel, filter) {\n        if (!filter) {\n            return true;\n        }\n\n        if (incomingWebhook.display_name.toLowerCase().indexOf(filter) !== -1 ||\n            incomingWebhook.description.toLowerCase().indexOf(filter) !== -1) {\n            return true;\n        }\n\n        if (incomingWebhook.channel_id) {\n            if (channel && channel.name.toLowerCase().indexOf(filter) !== -1) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    render() {\n        const incomingWebhook = this.props.incomingWebhook;\n        const channel = ChannelStore.get(incomingWebhook.channel_id);\n        const filter = this.props.filter ? this.props.filter.toLowerCase() : '';\n\n        if (!this.matchesFilter(incomingWebhook, channel, filter)) {\n            return null;\n        }\n\n        let displayName;\n        if (incomingWebhook.display_name) {\n            displayName = incomingWebhook.display_name;\n        } else if (channel) {\n            displayName = channel.display_name;\n        } else {\n            displayName = (\n                <FormattedMessage\n                    id='installed_incoming_webhooks.unknown_channel'\n                    defaultMessage='A Private Webhook'\n                />\n            );\n        }\n\n        let description = null;\n        if (incomingWebhook.description) {\n            description = (\n                <div className='item-details__row'>\n                    <span className='item-details__description'>\n                        {incomingWebhook.description}\n                    </span>\n                </div>\n            );\n        }\n\n        let actions = null;\n        if (this.props.canChange) {\n            actions = (\n                <div className='item-actions'>\n                    <Link to={`/${this.props.team.name}/integrations/incoming_webhooks/edit?id=${incomingWebhook.id}`}>\n                        <FormattedMessage\n                            id='installed_integrations.edit'\n                            defaultMessage='Edit'\n                        />\n                    </Link>\n                    {' - '}\n                    <DeleteIntegration\n                        messageId='installed_incoming_webhooks.delete.confirm'\n                        onDelete={this.handleDelete}\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <div className='backstage-list__item'>\n                <div className='item-details'>\n                    <div className='item-details__row'>\n                        <span className='item-details__name'>\n                            {displayName}\n                        </span>\n                    </div>\n                    {description}\n                    <div className='item-details__row'>\n                        <span className='item-details__url'>\n                            <FormattedMessage\n                                id='installed_integrations.url'\n                                defaultMessage='URL: {url}'\n                                values={{\n                                    url: getSiteURL() + '/hooks/' + incomingWebhook.id\n                                }}\n                            />\n                        </span>\n                    </div>\n                    <div className='item-details__row'>\n                        <span className='item-details__creation'>\n                            <FormattedMessage\n                                id='installed_integrations.creation'\n                                defaultMessage='Created by {creator} on {createAt, date, full}'\n                                values={{\n                                    creator: this.props.creator.username,\n                                    createAt: incomingWebhook.create_at\n                                }}\n                            />\n                        </span>\n                    </div>\n                </div>\n                {actions}\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/integrations/components/installed_incoming_webhook.jsx"],"sourceRoot":""}