{"version":3,"sources":["webpack:///50.d1709d99fe56ab067677.js","webpack:///./components/do_verify_email.jsx"],"names":["webpackJsonp","1690","module","exports","__webpack_require__","global","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_reactIntl","_loading_screen","_loading_screen2","_es","_user_actions","_react","_react2","DoVerifyEmail","_React$Component","props","this","_this","__proto__","call","state","verifyStatus","serverError","key","_this2","verifyEmail","location","query","uid","hid","browserHistory","push","encodeURIComponent","email","err","setState","message","createElement","className","Link","to","FormattedMessage","id","defaultMessage","values","siteName","window","mm_config","SiteName","Component","defaultProps","propTypes","PropTypes","object","isRequired"],"mappings":"AAAAA,cAAc,KAERC,KACA,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,GAwCrC,QAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAtCvFG,OAAOC,eAAeR,EAAS,cAC3BS,OAAO,GAGX,IAAIC,GAAkBT,EAAoB,GAEtCU,EAAmBR,EAAuBO,GAE1CE,EAAmBX,EAAoB,GAEvCY,EAAmBV,EAAuBS,GAE1CE,EAAgBb,EAAoB,GAEpCc,EAAgBZ,EAAuBW,GAEvCE,EAA8Bf,EAAoB,GAElDgB,EAA8Bd,EAAuBa,GAErDE,EAAajB,EAAoB,GAEjCkB,EAAahB,EAAuBe,GC3BxCE,EAAAnB,EAAA,IACAoB,EAAApB,EAAA,KDgCIqB,EAAmBnB,EAAuBkB,GC9B9CE,EAAAtB,EAAA,IAEAuB,EAAAvB,EAAA,IAEAwB,EAAAxB,EAAA,GDkCIyB,EAAUvB,EAAuBsB,GChChBE,EDoCD,SAAUC,GCnC1B,QAAAD,GAAYE,IAAO,EAAAhB,EAAAP,SAAAwB,KAAAH,EAAA,IAAAI,IAAA,EAAAd,EAAAX,SAAAwB,MAAAH,EAAAK,YAAA,EAAArB,EAAAL,SAAAqB,IAAAM,KAAAH,KACTD,GADS,OAGfE,GAAKG,OACDC,aAAc,UACdC,YAAa,IALFL,EDwHnB,OApFA,EAAIZ,EAAWb,SAASqB,EAAeC,IAcvC,EAAIb,EAAcT,SAASqB,IACvBU,IAAK,qBACL5B,MAAO,WC5CU,GAAA6B,GAAAR,MACjB,EAAAN,EAAAe,aACIT,KAAKD,MAAMW,SAASC,MAAMC,IAC1BZ,KAAKD,MAAMW,SAASC,MAAME,IAC1B,WACIpB,EAAAqB,eAAeC,KAAK,+BAAiCC,mBAAmBR,EAAKT,MAAMW,SAASC,MAAMM,SAEtG,SAACC,GACGV,EAAKW,UAAUd,aAAc,UAAWC,YAAaY,EAAIE,eD8CjEb,IAAK,SACL5B,MAAO,WC1CP,MAAgC,YAA5BqB,KAAKI,MAAMC,aACHT,EAAApB,QAAA6C,cAAA7B,EAAAhB,QAAA,MAIRoB,EAAApB,QAAA6C,cAAA,WACIzB,EAAApB,QAAA6C,cAAA,OAAKC,UAAU,iBACX1B,EAAApB,QAAA6C,cAAA5B,EAAA8B,MAAMC,GAAG,KACL5B,EAAApB,QAAA6C,cAAA,QAAMC,UAAU,uBAChB1B,EAAApB,QAAA6C,cAAA/B,EAAAmC,kBACIC,GAAG,sBAIf9B,EAAApB,QAAA6C,cAAA,OAAKC,UAAU,aACX1B,EAAApB,QAAA6C,cAAA,OAAKC,UAAU,0BACX1B,EAAApB,QAAA6C,cAAA,UACIzB,EAAApB,QAAA6C,cAAA/B,EAAAmC,kBACIC,GAAG,sBACHC,eAAe,kCACfC,QACIC,SAAUzD,EAAO0D,OAAOC,UAAUC,aAI9CpC,EAAApB,QAAA6C,cAAA,WACIzB,EAAApB,QAAA6C,cAAA,SACIzB,EAAApB,QAAA6C,cAAA/B,EAAAmC,kBAAkBC,GAAG,+BAEzB9B,EAAApB,QAAA6C,cAAA,KAAGC,UAAU,sBACT1B,EAAApB,QAAA6C,cAAA,KAAGC,UAAU,gBACZtB,KAAKI,MAAME,qBDoEjCT,GCzHgCD,EAAApB,QAAMyD,UD6HjD/D,GAAQM,QC7HaqB,EA+DrBA,EAAcqC,gBAEdrC,EAAcsC,WACVzB,SAAUd,EAAApB,QAAM4D,UAAUC,OAAOC,cDkERnC,KAAKjC,EAASC,EAAoB","file":"50.d1709d99fe56ab067677.js","sourcesContent":["webpackJsonp([50],{\n\n/***/ 1690:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(6);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(5);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(4);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(3);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _reactIntl = __webpack_require__(13);\n\nvar _loading_screen = __webpack_require__(164);\n\nvar _loading_screen2 = _interopRequireDefault(_loading_screen);\n\nvar _es = __webpack_require__(37);\n\nvar _user_actions = __webpack_require__(46);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DoVerifyEmail = function (_React$Component) {\n    (0, _inherits3.default)(DoVerifyEmail, _React$Component);\n\n    function DoVerifyEmail(props) {\n        (0, _classCallCheck3.default)(this, DoVerifyEmail);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (DoVerifyEmail.__proto__ || (0, _getPrototypeOf2.default)(DoVerifyEmail)).call(this, props));\n\n        _this.state = {\n            verifyStatus: 'pending',\n            serverError: ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(DoVerifyEmail, [{\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            var _this2 = this;\n\n            (0, _user_actions.verifyEmail)(this.props.location.query.uid, this.props.location.query.hid, function () {\n                _es.browserHistory.push('/login?extra=verified&email=' + encodeURIComponent(_this2.props.location.query.email));\n            }, function (err) {\n                _this2.setState({ verifyStatus: 'failure', serverError: err.message });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.state.verifyStatus !== 'failure') {\n                return _react2.default.createElement(_loading_screen2.default, null);\n            }\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    'div',\n                    { className: 'signup-header' },\n                    _react2.default.createElement(\n                        _es.Link,\n                        { to: '/' },\n                        _react2.default.createElement('span', { className: 'fa fa-chevron-left' }),\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'web.header.back'\n                        })\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'col-sm-12' },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'signup-team__container' },\n                        _react2.default.createElement(\n                            'h3',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'email_verify.almost',\n                                defaultMessage: '{siteName}: You are almost done',\n                                values: {\n                                    siteName: global.window.mm_config.SiteName\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            null,\n                            _react2.default.createElement(\n                                'p',\n                                null,\n                                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'email_verify.verifyFailed' })\n                            ),\n                            _react2.default.createElement(\n                                'p',\n                                { className: 'alert alert-danger' },\n                                _react2.default.createElement('i', { className: 'fa fa-times' }),\n                                this.state.serverError\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return DoVerifyEmail;\n}(_react2.default.Component); // Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nexports.default = DoVerifyEmail;\n\n\nDoVerifyEmail.defaultProps = {};\nDoVerifyEmail.propTypes = {\n    location: _react2.default.PropTypes.object.isRequired\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 50.d1709d99fe56ab067677.js","// Copyright (c) 2016 Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport {FormattedMessage} from 'react-intl';\nimport LoadingScreen from './loading_screen.jsx';\n\nimport {browserHistory, Link} from 'react-router/es6';\n\nimport {verifyEmail} from 'actions/user_actions.jsx';\n\nimport React from 'react';\n\nexport default class DoVerifyEmail extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            verifyStatus: 'pending',\n            serverError: ''\n        };\n    }\n    componentWillMount() {\n        verifyEmail(\n            this.props.location.query.uid,\n            this.props.location.query.hid,\n            () => {\n                browserHistory.push('/login?extra=verified&email=' + encodeURIComponent(this.props.location.query.email));\n            },\n            (err) => {\n                this.setState({verifyStatus: 'failure', serverError: err.message});\n            }\n        );\n    }\n    render() {\n        if (this.state.verifyStatus !== 'failure') {\n            return (<LoadingScreen/>);\n        }\n\n        return (\n            <div>\n                <div className='signup-header'>\n                    <Link to='/'>\n                        <span className='fa fa-chevron-left'/>\n                        <FormattedMessage\n                            id='web.header.back'\n                        />\n                    </Link>\n                </div>\n                <div className='col-sm-12'>\n                    <div className='signup-team__container'>\n                        <h3>\n                            <FormattedMessage\n                                id='email_verify.almost'\n                                defaultMessage='{siteName}: You are almost done'\n                                values={{\n                                    siteName: global.window.mm_config.SiteName\n                                }}\n                            />\n                        </h3>\n                        <div>\n                            <p>\n                                <FormattedMessage id='email_verify.verifyFailed'/>\n                            </p>\n                            <p className='alert alert-danger'>\n                                <i className='fa fa-times'/>\n                                {this.state.serverError}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nDoVerifyEmail.defaultProps = {\n};\nDoVerifyEmail.propTypes = {\n    location: React.PropTypes.object.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/do_verify_email.jsx"],"sourceRoot":""}